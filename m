Return-Path: <linux-f2fs-devel-bounces@lists.sourceforge.net>
X-Original-To: lists+linux-f2fs-devel@lfdr.de
Delivered-To: lists+linux-f2fs-devel@lfdr.de
Received: from lists.sourceforge.net (lists.sourceforge.net [216.105.38.7])
	by mail.lfdr.de (Postfix) with ESMTPS id B4B61BD7EF6
	for <lists+linux-f2fs-devel@lfdr.de>; Tue, 14 Oct 2025 09:33:06 +0200 (CEST)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed;
	d=lists.sourceforge.net; s=beta; h=Content-Transfer-Encoding:Content-Type:Cc:
	Reply-To:From:List-Subscribe:List-Help:List-Post:List-Archive:
	List-Unsubscribe:List-Id:Subject:MIME-Version:Message-ID:Date:To:Sender:
	Content-ID:Content-Description:Resent-Date:Resent-From:Resent-Sender:
	Resent-To:Resent-Cc:Resent-Message-ID:In-Reply-To:References:List-Owner;
	bh=xT5yVGsznL2a6GOL/MPRaPVBrC7jU2B0dyyGBbRJhjA=; b=Kt2XpmzphGPujZvLlzHwnyjZzW
	/7D1XJl5CYlpIhFzrVHVx75QuEDVlCSxDjzWKRx9P0Ji/8BcT3DDGDyt1o0CIgHahxw7ePjInf5kK
	mhyW+TU4nedhOfydt2QUWxnuylu6lx2XMbjtNTAR1NeKQuLkWqGABrG5zxxOPCFFwNFI=;
Received: from [127.0.0.1] (helo=sfs-ml-2.v29.lw.sourceforge.com)
	by sfs-ml-2.v29.lw.sourceforge.com with esmtp (Exim 4.95)
	(envelope-from <linux-f2fs-devel-bounces@lists.sourceforge.net>)
	id 1v8ZWo-0004ut-9V;
	Tue, 14 Oct 2025 07:33:03 +0000
Received: from [172.30.29.66] (helo=mx.sourceforge.net)
 by sfs-ml-2.v29.lw.sourceforge.com with esmtps (TLS1.2) tls
 TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 (Exim 4.95)
 (envelope-from <chao@kernel.org>) id 1v8ZWl-0004ua-E4
 for linux-f2fs-devel@lists.sourceforge.net;
 Tue, 14 Oct 2025 07:33:00 +0000
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed;
 d=sourceforge.net; s=x; h=Content-Transfer-Encoding:Content-Type:MIME-Version
 :Message-ID:Date:Subject:Cc:To:From:Sender:Reply-To:Content-ID:
 Content-Description:Resent-Date:Resent-From:Resent-Sender:Resent-To:Resent-Cc
 :Resent-Message-ID:In-Reply-To:References:List-Id:List-Help:List-Unsubscribe:
 List-Subscribe:List-Post:List-Owner:List-Archive;
 bh=OY7dnKAAVIFZsQUEKKU8YObxDpaAIwoYcIuYKqhNJUQ=; b=BV9r4zn7E4+Q4VgV1Oy5DIf8No
 KOVh/J2+PYLxoTRBQegIbmIC11DQck0iJ0VEmG8S5fZOcdAWUIlWQmU0Tac1U0sCdc1QmaUu5lc8L
 4KD0PSWI19xW8i2/+T5n9Y8GXYWr8mH4pO357e9RaO1NF5wJrGuFHA+stxY61A27pZuk=;
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=sf.net; s=x
 ;
 h=Content-Transfer-Encoding:Content-Type:MIME-Version:Message-ID:Date:
 Subject:Cc:To:From:Sender:Reply-To:Content-ID:Content-Description:Resent-Date
 :Resent-From:Resent-Sender:Resent-To:Resent-Cc:Resent-Message-ID:In-Reply-To:
 References:List-Id:List-Help:List-Unsubscribe:List-Subscribe:List-Post:
 List-Owner:List-Archive; bh=OY7dnKAAVIFZsQUEKKU8YObxDpaAIwoYcIuYKqhNJUQ=; b=k
 qPQKMFQN9WVguOR6SOrKSUVvltGahE9448U0wn2pe4raaK+3CsFDozfuD7mml/ywaI94LadiXCG1e
 fQxeX2a7LxF7jVUUEAGHr7ClDfbeF7l518pdXO26RnPX97xJ8Yg+zgZL0HrmUN4p3ZqO4UIhKJA/9
 A+m7Xoz2SEEmiJTY=;
Received: from sea.source.kernel.org ([172.234.252.31])
 by sfi-mx-2.v28.lw.sourceforge.com with esmtps
 (TLS1.2:ECDHE-RSA-AES256-GCM-SHA384:256) (Exim 4.95)
 id 1v8ZWl-0005xq-DQ for linux-f2fs-devel@lists.sourceforge.net;
 Tue, 14 Oct 2025 07:33:00 +0000
Received: from smtp.kernel.org (transwarp.subspace.kernel.org [100.75.92.58])
 by sea.source.kernel.org (Postfix) with ESMTP id 1A0E6458B2;
 Tue, 14 Oct 2025 07:32:54 +0000 (UTC)
Received: by smtp.kernel.org (Postfix) with ESMTPSA id 85C81C4CEE7;
 Tue, 14 Oct 2025 07:32:52 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
 s=k20201202; t=1760427174;
 bh=zLFlHyMhc4frXkCjW8nh91AAlQjG+/KFAKkCfv1oTWA=;
 h=From:To:Cc:Subject:Date:From;
 b=l4dc5d1RMmxtxN/FkNNGPLTAoAr8CioZg769prRird3tLcGqTFnmg/gLXGCk4aIOT
 KQE8+zn9HvK7AsBoxwsjEcTDGZsJ7/VhzEwc/mOAcOkMXsa2ZPzBQLDQeEv2Fb95f0
 ASte+CiN6PKoNJQ8itD9RlwKglvgAyLbV+6vChwHAa3h10DqKGuRTtvQoLBM0zDCc+
 Hy0auRVMtQvNM3NpDTEr4T+ugfxdjxM64BkdOo2CAS/I/j9Ie0DGTUUhqlZeRhOhW4
 rL8faB0XofuhaqNAi3u9XTZCgdcXtEzJYa0OAmCxISOVaSLfM8Llk5gpUqGpN+DgDm
 v2Rg0yv1t7yvA==
To: jaegeuk@kernel.org
Date: Tue, 14 Oct 2025 15:32:48 +0800
Message-ID: <20251014073248.1769839-1-chao@kernel.org>
X-Mailer: git-send-email 2.51.0.760.g7b8bcc2412-goog
MIME-Version: 1.0
X-Spam-Score: -0.2 (/)
X-Spam-Report: Spam detection software,
 running on the system "sfi-spamd-1.hosts.colo.sdot.me", 
 has NOT identified this incoming email as spam.  The original
 message has been attached to this so you can view it or label
 similar future email.  If you have any questions, see
 the administrator of that system for details.
 Content preview: As Hong Yun reported in mailing list: loop7: detected
 capacity
 change from 0 to 131072 [ cut here ] kmem_cache of name 'f2fs_xattr_entry-7:7'
 already exists WARNING: CPU: 0 PID: 24426 at mm/slab_common.c:110 kmem_c
 [...] Content analysis details:   (-0.2 points, 5.0 required)
 pts rule name              description
 ---- ---------------------- --------------------------------------------------
 0.1 DKIM_SIGNED            Message has a DKIM or DK signature,
 not necessarily valid
 -0.1 DKIM_VALID_EF          Message has a valid DKIM or DK signature from
 envelope-from domain
 -0.1 DKIM_VALID_AU Message has a valid DKIM or DK signature from author's
 domain
 -0.1 DKIM_VALID Message has at least one valid DKIM or DK signature
 -0.0 DKIMWL_WL_HIGH         DKIMwl.org - High trust sender
X-Headers-End: 1v8ZWl-0005xq-DQ
Subject: [f2fs-dev] [PATCH] f2fs: use global inline_xattr_slab instead of
 per-sb slab cache
X-BeenThere: linux-f2fs-devel@lists.sourceforge.net
X-Mailman-Version: 2.1.21
Precedence: list
List-Id: <linux-f2fs-devel.lists.sourceforge.net>
List-Unsubscribe: <https://lists.sourceforge.net/lists/options/linux-f2fs-devel>, 
 <mailto:linux-f2fs-devel-request@lists.sourceforge.net?subject=unsubscribe>
List-Archive: <http://sourceforge.net/mailarchive/forum.php?forum_name=linux-f2fs-devel>
List-Post: <mailto:linux-f2fs-devel@lists.sourceforge.net>
List-Help: <mailto:linux-f2fs-devel-request@lists.sourceforge.net?subject=help>
List-Subscribe: <https://lists.sourceforge.net/lists/listinfo/linux-f2fs-devel>, 
 <mailto:linux-f2fs-devel-request@lists.sourceforge.net?subject=subscribe>
From: Chao Yu via Linux-f2fs-devel <linux-f2fs-devel@lists.sourceforge.net>
Reply-To: Chao Yu <chao@kernel.org>
Cc: stable@kernel.org, linux-kernel@vger.kernel.org,
 Hong Yun <yhong@link.cuhk.edu.hk>, linux-f2fs-devel@lists.sourceforge.net
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: linux-f2fs-devel-bounces@lists.sourceforge.net

QXMgSG9uZyBZdW4gcmVwb3J0ZWQgaW4gbWFpbGluZyBsaXN0OgoKbG9vcDc6IGRldGVjdGVkIGNh
cGFjaXR5IGNoYW5nZSBmcm9tIDAgdG8gMTMxMDcyCi0tLS0tLS0tLS0tLVsgY3V0IGhlcmUgXS0t
LS0tLS0tLS0tLQprbWVtX2NhY2hlIG9mIG5hbWUgJ2YyZnNfeGF0dHJfZW50cnktNzo3JyBhbHJl
YWR5IGV4aXN0cwpXQVJOSU5HOiBDUFU6IDAgUElEOiAyNDQyNiBhdCBtbS9zbGFiX2NvbW1vbi5j
OjExMCBrbWVtX2NhY2hlX3Nhbml0eV9jaGVjayBtbS9zbGFiX2NvbW1vbi5jOjEwOSBbaW5saW5l
XQpXQVJOSU5HOiBDUFU6IDAgUElEOiAyNDQyNiBhdCBtbS9zbGFiX2NvbW1vbi5jOjExMCBfX2tt
ZW1fY2FjaGVfY3JlYXRlX2FyZ3MrMHhhNi8weDMyMCBtbS9zbGFiX2NvbW1vbi5jOjMwNwpDUFU6
IDAgVUlEOiAwIFBJRDogMjQ0MjYgQ29tbTogc3l6LjcuMTM3MCBOb3QgdGFpbnRlZCA2LjE3LjAt
cmM0ICMxIFBSRUVNUFQoZnVsbCkKSGFyZHdhcmUgbmFtZTogUUVNVSBTdGFuZGFyZCBQQyAoaTQ0
MEZYICsgUElJWCwgMTk5NiksIEJJT1MgMS4xMy4wLTF1YnVudHUxLjEgMDQvMDEvMjAxNApSSVA6
IDAwMTA6a21lbV9jYWNoZV9zYW5pdHlfY2hlY2sgbW0vc2xhYl9jb21tb24uYzoxMDkgW2lubGlu
ZV0KUklQOiAwMDEwOl9fa21lbV9jYWNoZV9jcmVhdGVfYXJncysweGE2LzB4MzIwIG1tL3NsYWJf
Y29tbW9uLmM6MzA3CkNhbGwgVHJhY2U6CsKgX19rbWVtX2NhY2hlX2NyZWF0ZSBpbmNsdWRlL2xp
bnV4L3NsYWIuaDozNTMgW2lubGluZV0KwqBmMmZzX2ttZW1fY2FjaGVfY3JlYXRlIGZzL2YyZnMv
ZjJmcy5oOjI5NDMgW2lubGluZV0KwqBmMmZzX2luaXRfeGF0dHJfY2FjaGVzKzB4YTUvMHhlMCBm
cy9mMmZzL3hhdHRyLmM6ODQzCsKgZjJmc19maWxsX3N1cGVyKzB4MTY0NS8weDI2MjAgZnMvZjJm
cy9zdXBlci5jOjQ5MTgKwqBnZXRfdHJlZV9iZGV2X2ZsYWdzKzB4MWZiLzB4MjYwIGZzL3N1cGVy
LmM6MTY5MgrCoHZmc19nZXRfdHJlZSsweDQzLzB4MTQwIGZzL3N1cGVyLmM6MTgxNQrCoGRvX25l
d19tb3VudCsweDIwMS8weDU1MCBmcy9uYW1lc3BhY2UuYzozODA4CsKgZG9fbW91bnQgZnMvbmFt
ZXNwYWNlLmM6NDEzNiBbaW5saW5lXQrCoF9fZG9fc3lzX21vdW50IGZzL25hbWVzcGFjZS5jOjQz
NDcgW2lubGluZV0KwqBfX3NlX3N5c19tb3VudCsweDI5OC8weDJmMCBmcy9uYW1lc3BhY2UuYzo0
MzI0CsKgZG9fc3lzY2FsbF94NjQgYXJjaC94ODYvZW50cnkvc3lzY2FsbF82NC5jOjYzIFtpbmxp
bmVdCsKgZG9fc3lzY2FsbF82NCsweDhlLzB4M2EwIGFyY2gveDg2L2VudHJ5L3N5c2NhbGxfNjQu
Yzo5NArCoGVudHJ5X1NZU0NBTExfNjRfYWZ0ZXJfaHdmcmFtZSsweDc2LzB4N2UKClRoZSBidWcg
Y2FuIGJlIHJlcHJvZHVjZWQgdy8gYmVsb3cgc2NyaXB0czoKLSBtb3VudCAvZGV2L3ZkYiAvbW50
MQotIG1vdW50IC9kZXYvdmRjIC9tbnQyCi0gdW1vdW50IC9tbnQxCi0gbW91bm50IC9kZXYvdmRi
IC9tbnQxCgpUaGUgcmVhc29uIGlzIGlmIHdlIGNyZWF0ZWQgdHdvIHNsYWIgY2FjaGVzLCBuYW1l
ZCBmMmZzX3hhdHRyX2VudHJ5LTc6MwphbmQgZjJmc194YXR0cl9lbnRyeS03OjcsIGFuZCB0aGV5
IGhhdmUgdGhlIHNhbWUgc2xhYiBzaXplLiBBY3R1YWxseSwKc2xhYiBzeXN0ZW0gd2lsbCBvbmx5
IGNyZWF0ZSBvbmUgc2xhYiBjYWNoZSBjb3JlIHN0cnVjdHVyZSB3aGljaCBoYXMKc2xhYiBuYW1l
IG9mICJmMmZzX3hhdHRyX2VudHJ5LTc6MyIsIGFuZCB0d28gc2xhYiBjYWNoZXMgc2hhcmUgdGhl
IHNhbWUKc3RydWN0dXJlIGFuZCBjYWNoZSBhZGRyZXNzLgoKU28sIGlmIHdlIGRlc3Ryb3kgZjJm
c194YXR0cl9lbnRyeS03OjMgY2FjaGUgdy8gY2FjaGUgYWRkcmVzcywgaXQgd2lsbApkZWNyZWFz
ZSByZWZlcmVuY2UgY291bnQgb2Ygc2xhYiBjYWNoZSwgcmF0aGVyIHRoYW4gcmVsZWFzZSBzbGFi
IGNhY2hlCmVudGlyZWx5LCBzaW5jZSB0aGVyZSBpcyBvbmUgbW9yZSB1c2VyIGhhcyByZWZlcmVu
Y2VkIHRoZSBjYWNoZS4KClRoZW4sIGlmIHdlIHRyeSB0byBjcmVhdGUgc2xhYiBjYWNoZSB3LyBu
YW1lICJmMmZzX3hhdHRyX2VudHJ5LTc6MyIgYWdhaW4sCnNsYWIgc3lzdGVtIHdpbGwgZmluZCB0
aGF0IHRoZXJlIGlzIGV4aXN0ZWQgY2FjaGUgd2hpY2ggaGFzIHRoZSBzYW1lIG5hbWUKYW5kIHRy
aWdnZXIgdGhlIHdhcm5pbmcuCgpMZXQncyBjaGFuZ2VzIHRvIHVzZSBnbG9iYWwgaW5saW5lX3hh
dHRyX3NsYWIgaW5zdGVhZCBvZiBwZXItc2Igc2xhYiBjYWNoZQpmb3IgZml4aW5nLgoKRml4ZXM6
IGE5OTkxNTBmNGZlMyAoImYyZnM6IHVzZSBrbWVtX2NhY2hlIHBvb2wgZHVyaW5nIGlubGluZSB4
YXR0ciBsb29rdXBzIikKQ2M6IHN0YWJsZUBrZXJuZWwub3JnClJlcG9ydGVkLWJ5OiBIb25nIFl1
biA8eWhvbmdAbGluay5jdWhrLmVkdS5oaz4KVGVzdGVkLWJ5OiBIb25nIFl1biA8eWhvbmdAbGlu
ay5jdWhrLmVkdS5oaz4KU2lnbmVkLW9mZi1ieTogQ2hhbyBZdSA8Y2hhb0BrZXJuZWwub3JnPgot
LS0KIGZzL2YyZnMvZjJmcy5oICB8ICAzIC0tLQogZnMvZjJmcy9zdXBlci5jIHwgMTcgKysrKysr
KystLS0tLS0tLS0KIGZzL2YyZnMveGF0dHIuYyB8IDMyICsrKysrKysrKysrLS0tLS0tLS0tLS0t
LS0tLS0tLS0tCiBmcy9mMmZzL3hhdHRyLmggfCAxMCArKysrKystLS0tCiA0IGZpbGVzIGNoYW5n
ZWQsIDI1IGluc2VydGlvbnMoKyksIDM3IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2ZzL2Yy
ZnMvZjJmcy5oIGIvZnMvZjJmcy9mMmZzLmgKaW5kZXggODM5MDMyYTRkYTM5Li5jNTg5YWVkMDY5
ZDkgMTAwNjQ0Ci0tLSBhL2ZzL2YyZnMvZjJmcy5oCisrKyBiL2ZzL2YyZnMvZjJmcy5oCkBAIC0x
ODkyLDkgKzE4OTIsNiBAQCBzdHJ1Y3QgZjJmc19zYl9pbmZvIHsKIAlzcGlubG9ja190IGVycm9y
X2xvY2s7CQkJLyogcHJvdGVjdCBlcnJvcnMvc3RvcF9yZWFzb24gYXJyYXkgKi8KIAlib29sIGVy
cm9yX2RpcnR5OwkJCS8qIGVycm9ycyBvZiBzYiBpcyBkaXJ0eSAqLwogCi0Jc3RydWN0IGttZW1f
Y2FjaGUgKmlubGluZV94YXR0cl9zbGFiOwkvKiBpbmxpbmUgeGF0dHIgZW50cnkgKi8KLQl1bnNp
Z25lZCBpbnQgaW5saW5lX3hhdHRyX3NsYWJfc2l6ZTsJLyogZGVmYXVsdCBpbmxpbmUgeGF0dHIg
c2xhYiBzaXplICovCi0KIAkvKiBGb3IgcmVjbGFpbWVkIHNlZ3Mgc3RhdGlzdGljcyBwZXIgZWFj
aCBHQyBtb2RlICovCiAJdW5zaWduZWQgaW50IGdjX3NlZ21lbnRfbW9kZTsJCS8qIEdDIHN0YXRl
IGZvciByZWNsYWltZWQgc2VnbWVudHMgKi8KIAl1bnNpZ25lZCBpbnQgZ2NfcmVjbGFpbWVkX3Nl
Z3NbTUFYX0dDX01PREVdOwkvKiBSZWNsYWltZWQgc2VncyBmb3IgZWFjaCBtb2RlICovCmRpZmYg
LS1naXQgYS9mcy9mMmZzL3N1cGVyLmMgYi9mcy9mMmZzL3N1cGVyLmMKaW5kZXggNmU1MmUzNmMx
ZjFhLi4yYWUzNDE3NjhhMzkgMTAwNjQ0Ci0tLSBhL2ZzL2YyZnMvc3VwZXIuYworKysgYi9mcy9m
MmZzL3N1cGVyLmMKQEAgLTIwMjcsNyArMjAyNyw2IEBAIHN0YXRpYyB2b2lkIGYyZnNfcHV0X3N1
cGVyKHN0cnVjdCBzdXBlcl9ibG9jayAqc2IpCiAJa2ZyZWUoc2JpLT5yYXdfc3VwZXIpOwogCiAJ
ZjJmc19kZXN0cm95X3BhZ2VfYXJyYXlfY2FjaGUoc2JpKTsKLQlmMmZzX2Rlc3Ryb3lfeGF0dHJf
Y2FjaGVzKHNiaSk7CiAjaWZkZWYgQ09ORklHX1FVT1RBCiAJZm9yIChpID0gMDsgaSA8IE1BWFFV
T1RBUzsgaSsrKQogCQlrZnJlZShGMkZTX09QVElPTihzYmkpLnNfcWZfbmFtZXNbaV0pOwpAQCAt
NTAxNiwxMyArNTAxNSw5IEBAIHN0YXRpYyBpbnQgZjJmc19maWxsX3N1cGVyKHN0cnVjdCBzdXBl
cl9ibG9jayAqc2IsIHN0cnVjdCBmc19jb250ZXh0ICpmYykKIAlpZiAoZXJyKQogCQlnb3RvIGZy
ZWVfaW9zdGF0OwogCi0JLyogaW5pdCBwZXIgc2JpIHNsYWIgY2FjaGUgKi8KLQllcnIgPSBmMmZz
X2luaXRfeGF0dHJfY2FjaGVzKHNiaSk7Ci0JaWYgKGVycikKLQkJZ290byBmcmVlX3BlcmNwdTsK
IAllcnIgPSBmMmZzX2luaXRfcGFnZV9hcnJheV9jYWNoZShzYmkpOwogCWlmIChlcnIpCi0JCWdv
dG8gZnJlZV94YXR0cl9jYWNoZTsKKwkJZ290byBmcmVlX3BlcmNwdTsKIAogCS8qIGdldCBhbiBp
bm9kZSBmb3IgbWV0YSBzcGFjZSAqLwogCXNiaS0+bWV0YV9pbm9kZSA9IGYyZnNfaWdldChzYiwg
RjJGU19NRVRBX0lOTyhzYmkpKTsKQEAgLTUzNTEsOCArNTM0Niw2IEBAIHN0YXRpYyBpbnQgZjJm
c19maWxsX3N1cGVyKHN0cnVjdCBzdXBlcl9ibG9jayAqc2IsIHN0cnVjdCBmc19jb250ZXh0ICpm
YykKIAlzYmktPm1ldGFfaW5vZGUgPSBOVUxMOwogZnJlZV9wYWdlX2FycmF5X2NhY2hlOgogCWYy
ZnNfZGVzdHJveV9wYWdlX2FycmF5X2NhY2hlKHNiaSk7Ci1mcmVlX3hhdHRyX2NhY2hlOgotCWYy
ZnNfZGVzdHJveV94YXR0cl9jYWNoZXMoc2JpKTsKIGZyZWVfcGVyY3B1OgogCWRlc3Ryb3lfcGVy
Y3B1X2luZm8oc2JpKTsKIGZyZWVfaW9zdGF0OgpAQCAtNTU1NSwxMCArNTU0OCwxNSBAQCBzdGF0
aWMgaW50IF9faW5pdCBpbml0X2YyZnNfZnModm9pZCkKIAllcnIgPSBmMmZzX2NyZWF0ZV9jYXNl
Zm9sZF9jYWNoZSgpOwogCWlmIChlcnIpCiAJCWdvdG8gZnJlZV9jb21wcmVzc19jYWNoZTsKLQll
cnIgPSByZWdpc3Rlcl9maWxlc3lzdGVtKCZmMmZzX2ZzX3R5cGUpOworCWVyciA9IGYyZnNfaW5p
dF94YXR0cl9jYWNoZSgpOwogCWlmIChlcnIpCiAJCWdvdG8gZnJlZV9jYXNlZm9sZF9jYWNoZTsK
KwllcnIgPSByZWdpc3Rlcl9maWxlc3lzdGVtKCZmMmZzX2ZzX3R5cGUpOworCWlmIChlcnIpCisJ
CWdvdG8gZnJlZV94YXR0cl9jYWNoZTsKIAlyZXR1cm4gMDsKK2ZyZWVfeGF0dHJfY2FjaGU6CisJ
ZjJmc19kZXN0cm95X3hhdHRyX2NhY2hlKCk7CiBmcmVlX2Nhc2Vmb2xkX2NhY2hlOgogCWYyZnNf
ZGVzdHJveV9jYXNlZm9sZF9jYWNoZSgpOwogZnJlZV9jb21wcmVzc19jYWNoZToKQEAgLTU1OTks
NiArNTU5Nyw3IEBAIHN0YXRpYyBpbnQgX19pbml0IGluaXRfZjJmc19mcyh2b2lkKQogc3RhdGlj
IHZvaWQgX19leGl0IGV4aXRfZjJmc19mcyh2b2lkKQogewogCXVucmVnaXN0ZXJfZmlsZXN5c3Rl
bSgmZjJmc19mc190eXBlKTsKKwlmMmZzX2Rlc3Ryb3lfeGF0dHJfY2FjaGUoKTsKIAlmMmZzX2Rl
c3Ryb3lfY2FzZWZvbGRfY2FjaGUoKTsKIAlmMmZzX2Rlc3Ryb3lfY29tcHJlc3NfY2FjaGUoKTsK
IAlmMmZzX2Rlc3Ryb3lfY29tcHJlc3NfbWVtcG9vbCgpOwpkaWZmIC0tZ2l0IGEvZnMvZjJmcy94
YXR0ci5jIGIvZnMvZjJmcy94YXR0ci5jCmluZGV4IDU4NjMyYTJiNjYxMy4uOWYyMGI2N2U5MGQx
IDEwMDY0NAotLS0gYS9mcy9mMmZzL3hhdHRyLmMKKysrIGIvZnMvZjJmcy94YXR0ci5jCkBAIC0y
MywxMSArMjMsMTIgQEAKICNpbmNsdWRlICJ4YXR0ci5oIgogI2luY2x1ZGUgInNlZ21lbnQuaCIK
IAorc3RydWN0IGttZW1fY2FjaGUgKmlubGluZV94YXR0cl9zbGFiOwogc3RhdGljIHZvaWQgKnhh
dHRyX2FsbG9jKHN0cnVjdCBmMmZzX3NiX2luZm8gKnNiaSwgaW50IHNpemUsIGJvb2wgKmlzX2lu
bGluZSkKIHsKLQlpZiAobGlrZWx5KHNpemUgPT0gc2JpLT5pbmxpbmVfeGF0dHJfc2xhYl9zaXpl
KSkgeworCWlmIChsaWtlbHkoc2l6ZSA9PSBERUZBVUxUX1hBVFRSX1NMQUJfU0laRSkpIHsKIAkJ
KmlzX2lubGluZSA9IHRydWU7Ci0JCXJldHVybiBmMmZzX2ttZW1fY2FjaGVfYWxsb2Moc2JpLT5p
bmxpbmVfeGF0dHJfc2xhYiwKKwkJcmV0dXJuIGYyZnNfa21lbV9jYWNoZV9hbGxvYyhpbmxpbmVf
eGF0dHJfc2xhYiwKIAkJCQkJR0ZQX0YyRlNfWkVSTywgZmFsc2UsIHNiaSk7CiAJfQogCSppc19p
bmxpbmUgPSBmYWxzZTsKQEAgLTM4LDcgKzM5LDcgQEAgc3RhdGljIHZvaWQgeGF0dHJfZnJlZShz
dHJ1Y3QgZjJmc19zYl9pbmZvICpzYmksIHZvaWQgKnhhdHRyX2FkZHIsCiAJCQkJCQkJYm9vbCBp
c19pbmxpbmUpCiB7CiAJaWYgKGlzX2lubGluZSkKLQkJa21lbV9jYWNoZV9mcmVlKHNiaS0+aW5s
aW5lX3hhdHRyX3NsYWIsIHhhdHRyX2FkZHIpOworCQlrbWVtX2NhY2hlX2ZyZWUoaW5saW5lX3hh
dHRyX3NsYWIsIHhhdHRyX2FkZHIpOwogCWVsc2UKIAkJa2ZyZWUoeGF0dHJfYWRkcik7CiB9CkBA
IC04MzAsMjUgKzgzMSwxNCBAQCBpbnQgZjJmc19zZXR4YXR0cihzdHJ1Y3QgaW5vZGUgKmlub2Rl
LCBpbnQgaW5kZXgsIGNvbnN0IGNoYXIgKm5hbWUsCiAJcmV0dXJuIGVycjsKIH0KIAotaW50IGYy
ZnNfaW5pdF94YXR0cl9jYWNoZXMoc3RydWN0IGYyZnNfc2JfaW5mbyAqc2JpKQoraW50IF9faW5p
dCBmMmZzX2luaXRfeGF0dHJfY2FjaGUodm9pZCkKIHsKLQlkZXZfdCBkZXYgPSBzYmktPnNiLT5z
X2JkZXYtPmJkX2RldjsKLQljaGFyIHNsYWJfbmFtZVszMl07Ci0KLQlzcHJpbnRmKHNsYWJfbmFt
ZSwgImYyZnNfeGF0dHJfZW50cnktJXU6JXUiLCBNQUpPUihkZXYpLCBNSU5PUihkZXYpKTsKLQot
CXNiaS0+aW5saW5lX3hhdHRyX3NsYWJfc2l6ZSA9IEYyRlNfT1BUSU9OKHNiaSkuaW5saW5lX3hh
dHRyX3NpemUgKgotCQkJCQlzaXplb2YoX19sZTMyKSArIFhBVFRSX1BBRERJTkdfU0laRTsKLQot
CXNiaS0+aW5saW5lX3hhdHRyX3NsYWIgPSBmMmZzX2ttZW1fY2FjaGVfY3JlYXRlKHNsYWJfbmFt
ZSwKLQkJCQkJc2JpLT5pbmxpbmVfeGF0dHJfc2xhYl9zaXplKTsKLQlpZiAoIXNiaS0+aW5saW5l
X3hhdHRyX3NsYWIpCi0JCXJldHVybiAtRU5PTUVNOwotCi0JcmV0dXJuIDA7CisJaW5saW5lX3hh
dHRyX3NsYWIgPSBmMmZzX2ttZW1fY2FjaGVfY3JlYXRlKCJmMmZzX3hhdHRyX2VudHJ5IiwKKwkJ
CQkJREVGQVVMVF9YQVRUUl9TTEFCX1NJWkUpOworCXJldHVybiBpbmxpbmVfeGF0dHJfc2xhYiA/
IDAgOiAtRU5PTUVNOwogfQogCi12b2lkIGYyZnNfZGVzdHJveV94YXR0cl9jYWNoZXMoc3RydWN0
IGYyZnNfc2JfaW5mbyAqc2JpKQordm9pZCBmMmZzX2Rlc3Ryb3lfeGF0dHJfY2FjaGUodm9pZCkK
IHsKLQlrbWVtX2NhY2hlX2Rlc3Ryb3koc2JpLT5pbmxpbmVfeGF0dHJfc2xhYik7Ci19CisJa21l
bV9jYWNoZV9kZXN0cm95KGlubGluZV94YXR0cl9zbGFiKTsKK30KXCBObyBuZXdsaW5lIGF0IGVu
ZCBvZiBmaWxlCmRpZmYgLS1naXQgYS9mcy9mMmZzL3hhdHRyLmggYi9mcy9mMmZzL3hhdHRyLmgK
aW5kZXggNGZjMGIyMzA1ZmJkLi5iY2UzZDkzZTQ3NTUgMTAwNjQ0Ci0tLSBhL2ZzL2YyZnMveGF0
dHIuaAorKysgYi9mcy9mMmZzL3hhdHRyLmgKQEAgLTg5LDYgKzg5LDggQEAgc3RydWN0IGYyZnNf
eGF0dHJfZW50cnkgewogCQkJRjJGU19UT1RBTF9FWFRSQV9BVFRSX1NJWkUgLyBzaXplb2YoX19s
ZTMyKSAtCVwKIAkJCURFRl9JTkxJTkVfUkVTRVJWRURfU0laRSAtCQkJXAogCQkJTUlOX0lOTElO
RV9ERU5UUllfU0laRSAvIHNpemVvZihfX2xlMzIpKQorI2RlZmluZSBERUZBVUxUX1hBVFRSX1NM
QUJfU0laRQkoREVGQVVMVF9JTkxJTkVfWEFUVFJfQUREUlMgKgkJXAorCQkJCXNpemVvZihfX2xl
MzIpICsgWEFUVFJfUEFERElOR19TSVpFKQogCiAvKgogICogT24tZGlzayBzdHJ1Y3R1cmUgb2Yg
ZjJmc194YXR0cgpAQCAtMTMyLDggKzEzNCw4IEBAIGludCBmMmZzX3NldHhhdHRyKHN0cnVjdCBp
bm9kZSAqLCBpbnQsIGNvbnN0IGNoYXIgKiwgY29uc3Qgdm9pZCAqLAogaW50IGYyZnNfZ2V0eGF0
dHIoc3RydWN0IGlub2RlICosIGludCwgY29uc3QgY2hhciAqLCB2b2lkICosCiAJCXNpemVfdCwg
c3RydWN0IGZvbGlvICopOwogc3NpemVfdCBmMmZzX2xpc3R4YXR0cihzdHJ1Y3QgZGVudHJ5ICos
IGNoYXIgKiwgc2l6ZV90KTsKLWludCBmMmZzX2luaXRfeGF0dHJfY2FjaGVzKHN0cnVjdCBmMmZz
X3NiX2luZm8gKik7Ci12b2lkIGYyZnNfZGVzdHJveV94YXR0cl9jYWNoZXMoc3RydWN0IGYyZnNf
c2JfaW5mbyAqKTsKK2ludCBfX2luaXQgZjJmc19pbml0X3hhdHRyX2NhY2hlKHZvaWQpOwordm9p
ZCBmMmZzX2Rlc3Ryb3lfeGF0dHJfY2FjaGUodm9pZCk7CiAjZWxzZQogCiAjZGVmaW5lIGYyZnNf
eGF0dHJfaGFuZGxlcnMJTlVMTApAQCAtMTUwLDggKzE1Miw4IEBAIHN0YXRpYyBpbmxpbmUgaW50
IGYyZnNfZ2V0eGF0dHIoc3RydWN0IGlub2RlICppbm9kZSwgaW50IGluZGV4LAogewogCXJldHVy
biAtRU9QTk9UU1VQUDsKIH0KLXN0YXRpYyBpbmxpbmUgaW50IGYyZnNfaW5pdF94YXR0cl9jYWNo
ZXMoc3RydWN0IGYyZnNfc2JfaW5mbyAqc2JpKSB7IHJldHVybiAwOyB9Ci1zdGF0aWMgaW5saW5l
IHZvaWQgZjJmc19kZXN0cm95X3hhdHRyX2NhY2hlcyhzdHJ1Y3QgZjJmc19zYl9pbmZvICpzYmkp
IHsgfQorc3RhdGljIGlubGluZSBpbnQgX19pbml0IGYyZnNfaW5pdF94YXR0cl9jYWNoZSh2b2lk
KSB7IHJldHVybiAwOyB9CitzdGF0aWMgaW5saW5lIHZvaWQgZjJmc19kZXN0cm95X3hhdHRyX2Nh
Y2hlKHZvaWQpIHsgfQogI2VuZGlmCiAKICNpZmRlZiBDT05GSUdfRjJGU19GU19TRUNVUklUWQot
LSAKMi40OS4wCgoKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fCkxpbnV4LWYyZnMtZGV2ZWwgbWFpbGluZyBsaXN0CkxpbnV4LWYyZnMtZGV2ZWxAbGlzdHMu
c291cmNlZm9yZ2UubmV0Cmh0dHBzOi8vbGlzdHMuc291cmNlZm9yZ2UubmV0L2xpc3RzL2xpc3Rp
bmZvL2xpbnV4LWYyZnMtZGV2ZWwK
