Return-Path: <linux-f2fs-devel-bounces@lists.sourceforge.net>
X-Original-To: lists+linux-f2fs-devel@lfdr.de
Delivered-To: lists+linux-f2fs-devel@lfdr.de
Received: from lists.sourceforge.net (lists.sourceforge.net [216.105.38.7])
	by mail.lfdr.de (Postfix) with ESMTPS id B1113A77D81
	for <lists+linux-f2fs-devel@lfdr.de>; Tue,  1 Apr 2025 16:18:38 +0200 (CEST)
Received: from [127.0.0.1] (helo=sfs-ml-3.v29.lw.sourceforge.com)
	by sfs-ml-3.v29.lw.sourceforge.com with esmtp (Exim 4.95)
	(envelope-from <linux-f2fs-devel-bounces@lists.sourceforge.net>)
	id 1tzcRa-0003h3-Ho;
	Tue, 01 Apr 2025 14:18:21 +0000
Received: from [172.30.29.66] (helo=mx.sourceforge.net)
 by sfs-ml-3.v29.lw.sourceforge.com with esmtps (TLS1.2) tls
 TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 (Exim 4.95)
 (envelope-from <nzzhao.sigma@gmail.com>) id 1tzcRZ-0003gw-1E
 for linux-f2fs-devel@lists.sourceforge.net;
 Tue, 01 Apr 2025 14:18:20 +0000
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed;
 d=sourceforge.net; s=x; h=Content-Transfer-Encoding:Content-Type:Cc:To:
 Subject:Message-ID:Date:From:In-Reply-To:References:MIME-Version:Sender:
 Reply-To:Content-ID:Content-Description:Resent-Date:Resent-From:Resent-Sender
 :Resent-To:Resent-Cc:Resent-Message-ID:List-Id:List-Help:List-Unsubscribe:
 List-Subscribe:List-Post:List-Owner:List-Archive;
 bh=yFWtLwt0bUxdyvsonfLOIo9MTydwtPXTjQ/Sxn2lYLw=; b=D1BWwcu94v9Hz5kj5vfjTq3qNX
 pivL4lAg24jYd1ApQ1V8gejzfVQKz56DzAlvOPlkoY7OJhGdQIuEaoJ/A20k/MCti81pS+M8uRv8w
 +y9Az7B53eiZ/aQonTnwkPj9Gnd7Lx2RsF4wEDTgnO7CCWk6eIMJrBEWr2v76VCWy6sQ=;
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=sf.net; s=x
 ;
 h=Content-Transfer-Encoding:Content-Type:Cc:To:Subject:Message-ID:Date:From
 :In-Reply-To:References:MIME-Version:Sender:Reply-To:Content-ID:
 Content-Description:Resent-Date:Resent-From:Resent-Sender:Resent-To:Resent-Cc
 :Resent-Message-ID:List-Id:List-Help:List-Unsubscribe:List-Subscribe:
 List-Post:List-Owner:List-Archive;
 bh=yFWtLwt0bUxdyvsonfLOIo9MTydwtPXTjQ/Sxn2lYLw=; b=NJGtr5Ijytd3QPM7uKBRHMW0/R
 qcIpIQ4Ia/UxYcjRNs51WIuzwGFB3wW3yHFVkrZRKl3YOObcw7J3Lj7iObBNyBpBOhn2ucVbO0Bmn
 3H1fqsCyMx4eGKc5PH00IKjIJMnBR+xLu2cItmxVZ2lq1Utub2spZ3t270LCnPxTNA/A=;
Received: from mail-ot1-f67.google.com ([209.85.210.67])
 by sfi-mx-2.v28.lw.sourceforge.com with esmtps
 (TLS1.2:ECDHE-RSA-AES128-GCM-SHA256:128) (Exim 4.95)
 id 1tzcRI-0004Ry-GR for linux-f2fs-devel@lists.sourceforge.net;
 Tue, 01 Apr 2025 14:18:20 +0000
Received: by mail-ot1-f67.google.com with SMTP id
 46e09a7af769-72bbead793dso4181826a34.1
 for <linux-f2fs-devel@lists.sourceforge.net>;
 Tue, 01 Apr 2025 07:18:04 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20230601; t=1743517074; x=1744121874; darn=lists.sourceforge.net;
 h=content-transfer-encoding:cc:to:subject:message-id:date:from
 :in-reply-to:references:mime-version:from:to:cc:subject:date
 :message-id:reply-to;
 bh=yFWtLwt0bUxdyvsonfLOIo9MTydwtPXTjQ/Sxn2lYLw=;
 b=B2WHorQ5eAewsP5NXogz4OvTvs1F82f3AhjTEQEsEhSOO3ZxjxPqt+pahRv9IiZ0V6
 41eCOanY+GRBMxuBYrylF23wQtEz6xkFBOQDAr34fjorsOEfza3aExODrM7f2Y7Aq1Ts
 h23M7PMA8S4YgpSCxxTR2eREWFWIUaFJnYewJcrab9sPc9wps4nZzw0F84sNtJ+ShDuO
 Mv82DqfAY+XKU232jON4SWm/H8TMc5Mt6eQzkybOwVWkiY/RByPETYzL8UBDNomklkVO
 K+fQv3oV1vyq9qg5THLt16eB0cr98DkV5MgWv3eJ1McYaKmGyiyBKyfx99ugUF0v2K5d
 A5HQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20230601; t=1743517074; x=1744121874;
 h=content-transfer-encoding:cc:to:subject:message-id:date:from
 :in-reply-to:references:mime-version:x-gm-message-state:from:to:cc
 :subject:date:message-id:reply-to;
 bh=yFWtLwt0bUxdyvsonfLOIo9MTydwtPXTjQ/Sxn2lYLw=;
 b=qy9o6xStbdaBPKIyxTqEG1ZU9MF3nSVmCbCqAVYIszsreTzmAULTkcK8Qib/TSr7/J
 dFctWfnSs7IyCg2+TTmbbyLQJi4v3cCR7MXVlITr74/f5I5jkpmRFF8AOU/bxdSj+jaj
 Tj8jDg9uOHv27x1JQW+Mqg3W1gKqpRclcpqzAjRf3O1dXgVWakgLrX8LWkLwh1eDQaRU
 AdOSWLvKngetBGJrEeowovgl4OPwigMByNb0w04kBPWWEWqR+aQey4kasUWrZbt/Nm5l
 gSoxqDUJPNBE5JZdZ1QC4Q3TbWTq/hI5UucyPUPSmiETH+jqt0QNhTKuRsLzwVe94NEo
 y12Q==
X-Forwarded-Encrypted: i=1;
 AJvYcCVTp+qbebc5BGL4h8WFIGMxypHFsR8pVAa6PJQHIP/y/sr4XyCD0DpvNrsQ56/slLzJVhNGrenaha0fEm5ViBte@lists.sourceforge.net
X-Gm-Message-State: AOJu0YzUYXyzoY92xRiAGqZ91BpdWb2AEvSodPr44zoCXxf/3ycj8lTQ
 xKEsrJzmzOcJDOX+V2jeHzvHmfJBKWVXKhFoVHn85nStFDu5+7bJcwpWDPYVuPpLdDRGQ1vgbYS
 ZlFoRb2EkqKC0xecKWBcQhPk3wSw=
X-Gm-Gg: ASbGncs1Jue1UAyZnlscibHvNiHOa4goeonAn4gwxDtKkRaNYGkBhHXFkRzsdfwKrse
 GpBk497jNqqZrVz4rspWfIlybY/pEvRkbY7DgIiAjAnk3GdQR9iDHcHj0pWvYl24FpmVAApRvZv
 ULSrwJWBs+okG5V0k48TkTPsccKTg=
X-Google-Smtp-Source: AGHT+IG30x7o26nvZgukXZAvKGob3A+F7jJnnWaMOX7nS5II0ptOJWl3DSz7O10y07MrY1Bqd5qiOKaKAKQhLqrUt0I=
X-Received: by 2002:a05:6830:6c0e:b0:727:28a:1ca5 with SMTP id
 46e09a7af769-72c637c6390mr8282586a34.16.1743517073648; Tue, 01 Apr 2025
 07:17:53 -0700 (PDT)
MIME-Version: 1.0
References: <CAMLCH1E_cayyv6y8w=u3i+VTgnJmtw7+_K3X23=6w7jKDWbmTw@mail.gmail.com>
 <Z-oPTUrF7kkhzJg_@casper.infradead.org>
In-Reply-To: <Z-oPTUrF7kkhzJg_@casper.infradead.org>
From: Nanzhe Zhao <nzzhao.sigma@gmail.com>
Date: Tue, 1 Apr 2025 22:17:42 +0800
X-Gm-Features: AQ5f1JoKaprBOMemus_Mb7kZxwMinucR3h6JwgZa6j5K510KPFUeai7aC63XdXs
Message-ID: <CAMLCH1HTSXrK_qmPi9vzGFd4t1=EuQ4uc35rm4cQ6u-nDKw_Qg@mail.gmail.com>
To: Matthew Wilcox <willy@infradead.org>
X-Spam-Score: -0.2 (/)
X-Spam-Report: Spam detection software,
 running on the system "util-spamd-1.v13.lw.sourceforge.com", 
 has NOT identified this incoming email as spam.  The original
 message has been attached to this so you can view it or label
 similar future email.  If you have any questions, see
 the administrator of that system for details.
 Content preview: Thank you for your prompt and patient response! > > The
 challenge
 with that is that iomap does not support all the > functionality that f2fs
 requires. The iomap data structure could > be duplicated in [...] 
 Content analysis details:   (-0.2 points, 6.0 required)
 pts rule name              description
 ---- ---------------------- --------------------------------------------------
 0.0 RCVD_IN_VALIDITY_RPBL_BLOCKED RBL: ADMINISTRATOR NOTICE: The
 query to Validity was blocked.  See
 https://knowledge.validity.com/hc/en-us/articles/20961730681243
 for more information.
 [209.85.210.67 listed in bl.score.senderscore.com]
 0.0 SPF_HELO_NONE          SPF: HELO does not publish an SPF Record
 -0.0 SPF_PASS               SPF: sender matches SPF record
 0.0 FREEMAIL_FROM          Sender email is commonly abused enduser mail
 provider [nzzhao.sigma[at]gmail.com]
 -0.0 RCVD_IN_DNSWL_NONE     RBL: Sender listed at https://www.dnswl.org/,
 no trust [209.85.210.67 listed in list.dnswl.org]
 0.0 RCVD_IN_VALIDITY_SAFE_BLOCKED RBL: ADMINISTRATOR NOTICE: The
 query to Validity was blocked.  See
 https://knowledge.validity.com/hc/en-us/articles/20961730681243
 for more information.
 [209.85.210.67 listed in sa-trusted.bondedsender.org]
 0.0 RCVD_IN_MSPIKE_H3      RBL: Good reputation (+3)
 [209.85.210.67 listed in wl.mailspike.net]
 -0.1 DKIM_VALID Message has at least one valid DKIM or DK signature
 -0.1 DKIM_VALID_EF          Message has a valid DKIM or DK signature from
 envelope-from domain
 0.1 DKIM_SIGNED            Message has a DKIM or DK signature, not necessarily
 valid
 -0.1 DKIM_VALID_AU          Message has a valid DKIM or DK signature from
 author's domain
 0.0 RCVD_IN_MSPIKE_WL      Mailspike good senders
X-Headers-End: 1tzcRI-0004Ry-GR
Subject: Re: [f2fs-dev] [DISCUSSION]:f2fs:Approachs to address write
 amplification in current aops->dirty_folio
X-BeenThere: linux-f2fs-devel@lists.sourceforge.net
X-Mailman-Version: 2.1.21
Precedence: list
List-Id: <linux-f2fs-devel.lists.sourceforge.net>
List-Unsubscribe: <https://lists.sourceforge.net/lists/options/linux-f2fs-devel>, 
 <mailto:linux-f2fs-devel-request@lists.sourceforge.net?subject=unsubscribe>
List-Archive: <http://sourceforge.net/mailarchive/forum.php?forum_name=linux-f2fs-devel>
List-Post: <mailto:linux-f2fs-devel@lists.sourceforge.net>
List-Help: <mailto:linux-f2fs-devel-request@lists.sourceforge.net?subject=help>
List-Subscribe: <https://lists.sourceforge.net/lists/listinfo/linux-f2fs-devel>, 
 <mailto:linux-f2fs-devel-request@lists.sourceforge.net?subject=subscribe>
Cc: "jaegeuk@kernel.org" <jaegeuk@kernel.org>,
 "linux-f2fs-devel@lists.sourceforge.net"
 <linux-f2fs-devel@lists.sourceforge.net>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: linux-f2fs-devel-bounces@lists.sourceforge.net

VGhhbmsgeW91IGZvciB5b3VyIHByb21wdCBhbmQgcGF0aWVudCByZXNwb25zZSEKPgo+IFRoZSBj
aGFsbGVuZ2Ugd2l0aCB0aGF0IGlzIHRoYXQgaW9tYXAgZG9lcyBub3Qgc3VwcG9ydCBhbGwgdGhl
Cj4gZnVuY3Rpb25hbGl0eSB0aGF0IGYyZnMgcmVxdWlyZXMuICBUaGUgaW9tYXAgZGF0YSBzdHJ1
Y3R1cmUgY291bGQKPiBiZSBkdXBsaWNhdGVkIGluc2lkZSBmMmZzLCBidXQgdGhlbiB3ZSBoaXQg
dGhlIHByb2JsZW0gdGhhdCBmMmZzCj4gY3VycmVudGx5IHN0b3JlcyBvdGhlciBpbmZvcm1hdGlv
biBpbiBmb2xpby0+cHJpdmF0ZS4gIFNvIHdlJ2QgbmVlZAo+IHRvIGFkZCBhIGZsYWdzIGZpZWxk
IHRvIGlvbWFwX2ZvbGlvX3N0YXRlIHRvIHN0b3JlIHRoYXQgaW5mb3JtYXRpb24KPiBpbnN0ZWFk
Lgo+Cj4gU2VlIHRoZSBwYXJ0IG9mIGYyZnMuaCBmcm9tIFBBR0VfUFJJVkFURV9HRVRfRlVOQyB0
byB0aGUgZW5kIG9mCj4gY2xlYXJfcGFnZV9wcml2YXRlX2FsbCgpLgpUaGFuayB5b3UgZm9yIHBv
aW50aW5nIG91dCB0aGF0IHNwZWNpZmljIHBpZWNlIG9mIGNvZGUuIEl0IHJlYWxseQpoZWxwZWQg
bWUgc2VlIHNvbWUgaXNzdWVzIEkgaGFkbid0IG5vdGljZWQgYmVmb3JlIGFuZCBnYXZlIG1lIGEg
bG90IG9mCmluc2lnaHRzLgpCYXNlZCBvbiBteSB1bmRlcnN0YW5kaW5nIGFmdGVyIHN0dWR5aW5n
IHRoZSBjb2RlIHJlbGF0ZWQgdG8gRjJGUydzCnVzZSBvZiB0aGUgcHJpdmF0ZSBmaWVsZCBvZiB0
aGUgcGFnZSBzdHJ1Y3R1cmUsIGl0IGFwcGVhcnMgdGhhdCBGMkZTCmVtcGxveXMgdGhpcyBmaWVs
ZCBpbiBhIHNwZWNpZmljIHdheS4gSWYgdGhlIHByaXZhdGUgZmllbGQgaXMgbm90CmludGVycHJl
dGVkIGFzIGEgcG9pbnRlciwgaXQgc2VlbXMgaXQgY291bGQgYmUgdXNlZCB0byBzdG9yZQphZGRp
dGlvbmFsIGZsYWcgYml0cy4gQSBrZXkgb2JzZXJ2YXRpb24gaXMgdGhhdCB0aGVzZSBmdW5jdGlv
bnMgc2VlbQp0byBhcHBseSB0byB0YWlsIHBhZ2VzIGFzIHdlbGwuIFRoZXJlZm9yZSwgYXMgeW91
IG1lbnRpb25lZCwgaWYgd2UgYXJlCnVzaW5nIGZvbGlvcyB0byBtYW5hZ2UgbXVsdGlwbGUgcGFn
ZXMsIGl0IHNlZW1zIHJlYXNvbmFibGUgdG8gY29uc2lkZXIKYWRkaW5nIGEgc2ltaWxhciBmaWVs
ZCB3aXRoaW4gdGhlIGlvbWFwX2ZvbGlvX3N0YXRlIHN0cnVjdHVyZS4gVGhpcwp3b3VsZCBiZSBh
bmFsb2dvdXMgdG8gaG93IGl0IGN1cnJlbnRseSB0cmFja3MgdGhlIHVwdG9kYXRlIGFuZCBkaXJ0
eQpzdGF0ZXMgZm9yIGVhY2ggc3VicGFnZSwgYWxsb3dpbmcgdXMgdG8gdHJhY2sgdGhlIHN0YXRl
IG9mIHRoZXNlCnByaXZhdGUgZmllbGRzIGZvciBlYWNoIHN1YnBhZ2UgYXMgd2VsbC4gQmVjYXVz
ZSBpdCBsb29rcyBqdXN0IGxpa2UKRjJGUyBpcyB1dGlsaXppbmcgdGhlIHByaXZhdGUgZmllbGQg
YXMgYSB3YXkgdG8gZXh0ZW5kIHRoZSB2YXJpb3VzCnN0YXRlIGZsYWdzIG9mIGEgcGFnZSBpbiBt
ZW1vcnkuIFBlcmhhcHMgaXQgd291bGQgYmUgbW9yZSBhcHByb3ByaWF0ZQp0byBkaXJlY3RseSBu
YW1lIHRoaXMgbmV3IHN0cnVjdHVyZSBmMmZzX2ZvbGlvX3N0YXRlPyBUaGlzIGlzIGJlY2F1c2UK
SSdtIGN1cnJlbnRseSB1bnN1cmUgd2hldGhlciBpdCB3aWxsIGludGVyYWN0IHdpdGggZXhpc3Rp
bmcgaW9tYXAgQVBJcwpvciBpZiB3ZSB3aWxsIG5lZWQgdG8gZGV2ZWxvcCBGMkZTLXNwZWNpZmlj
IEFQSXMgZm9yIGl0Lgo+Cj4gWW91J3JlIHJpZ2h0IHRoYXQgZjJmcyBuZWVkcyBwZXItYmxvY2sg
ZGlydHkgdHJhY2tpbmcgaWYgaXQgaXMgdG8KPiBzdXBwb3J0IGxhcmdlIGZvbGlvcy4KCkkgZmVl
bCB0aGF0IHdlIG5lZWQgdG8gY29uc2lkZXIgbW9yZSB0aGFuIGp1c3QgdGhpcyBhc3BlY3QuIElu
IGZhY3QsCml0IG1pZ2h0IGJlIGJlY2F1c2Ugd2UgYXJlIHN0aWxsIGluIHRoZSBlYXJseSBzdGFn
ZXMgb2YgRjJGUyBmb2xpbwpzdXBwb3J0LHNvIGl0IGxlYXZlcyBtZSB0aGUgaW1wcmVzc2lvbiB0
aGF0IHRoZSBjdXJyZW50IEYyRlMgZm9saW8KaW1wbGVtZW50YXRpb24gaXMgZXNzZW50aWFsbHkg
anVzdCByZXBsYWNpbmcgc3RydWN0IHBhZ2UgYXQgdGhlCmludGVyZmFjZSBsZXZlbC4gSXQgZWZm
ZWN0aXZlbHkgYWN0cyBqdXN0IGxpa2UgYSBzaW5nbGUgcGFnZSwgb3IgaW4Kb3RoZXIgd29yZHMs
IGEgZm9saW8gb2Ygb3JkZXIgMC4KSnVzdCBub3csIEkgcGVyZm9ybSBhIHNpbXBsZSB0ZXN0Ogpz
dGF0aWMgaW50IG9wZW5fYW5kX3JlYWQoc3RydWN0IGZpbGUqKiBmaWxlX3B0cl9yZWYsY2hhcioK
ZmlsZV9wYXRoLGludCBmbGFnLGNoYXIqKiByZWFkX2J1ZmZlcl9yZWYsc2l6ZV90IHJlYWRfc2l6
ZSxsb2ZmX3QKcmVhZF9wb3MpCnsKICAgIC8qb3BlbiB0aGUgZmlsZSBpbiBjdXN0b20gbW9kdWxl
Ki8KICAgIHN0cnVjdCBmaWxlKmZpbGVfcHRyID0gZmlscF9vcGVuKGZpbGVfcGF0aCxmbGFnLCAw
NjQ0KTsKICAgIG1hcHBpbmdfc2V0X2xhcmdlX2ZvbGlvcyhmaWxlX3B0ci0+Zl9tYXBwaW5nKTsv
KkludGVudGlvbmFseSBzZXQKbGFyZ2Ugb3JkZXIgb2YgZm9saW8gZm9yIHRlc3QqLwogICAgcHJp
bnRrKEtFUk5fRU1FUkcgIm1pbiBvcmRlciBmb2xpbyBvZiBmaWxlICVzIGlzCiVkIixmaWxlX3Bh
dGgsbWFwcGluZ19taW5fZm9saW9fb3JkZXIoZmlsZV9wdHItPmZfbWFwcGluZykpOwogICAgcHJp
bnRrKEtFUk5fRU1FUkcgIm1heCBvcmRlciBmb2xpbyBvZiBmaWxlICVzIGlzCiVkIixmaWxlX3Bh
dGgsbWFwcGluZ19tYXhfZm9saW9fb3JkZXIoZmlsZV9wdHItPmZfbWFwcGluZykpOwogICAgKmZp
bGVfcHRyX3JlZj1maWxlX3B0cjsKICAgIC8qLi4uCiAgICBmaWxlX3B0ciBlcnJvciBoYW5kbGUg
Y29kZQogICAqLwogICAgY2hhciogcmVhZF9idWZmZXI9a21hbGxvYyhyZWFkX3NpemUsR0ZQX0tF
Uk5FTCk7CiAgICAgLyouLi4KICAgcmVhZF9idWZmZXIgZXJyb3IgaGFuZGxlIGNvZGUKICAgICov
CiAgICBpbnQgYnl0ZXNfcmVhZD0wOwogICAgYnl0ZXNfcmVhZCA9IGtlcm5lbF9yZWFkKGZpbGVf
cHRyLCByZWFkX2J1ZmZlciwgcmVhZF9zaXplLCAmcmVhZF9wb3MpOwogICAvKi4uLgogICBieXRl
c19yZWFkIGVycm9yIGhhbmRsZSBjb2RlCiAgICovCiAgICAqcmVhZF9idWZmZXJfcmVmPXJlYWRf
YnVmZmVyOwogICAgcmV0dXJuIGJ5dGVzX3JlYWQ7Cn0KCkluIG15IGN1c3RvbSBtb2R1bGUgY29k
ZSwgd2hpY2ggSSB1c2UgZm9yIGV4cGVyaW1lbnRzIGFuZCB0ZXN0aW5nLCBJCnVzZWQgdGhpcyBm
dW5jdGlvbiB0byBhdHRlbXB0IGEgYnVmZmVyIHJlYWQgb2YgNTEyICogUEFHRV9TSVpFIGZyb20K
RjJGUy4gVGhlIHJlc3VsdCB3YXMgYSBzZWdtZW50YXRpb24gZmF1bHQuIFRoZSByZWFzb24gaXMg
cXVpdGUgc2ltcGxlOgpzdGF0aWMgaW50IGYyZnNfbXBhZ2VfcmVhZHBhZ2VzKHN0cnVjdCBpbm9k
ZSAqaW5vZGUsCnN0cnVjdCByZWFkYWhlYWRfY29udHJvbCAqcmFjLCBzdHJ1Y3QgZm9saW8gKmZv
bGlvKQp7CnN0cnVjdCBiaW8gKmJpbyA9IE5VTEw7CnNlY3Rvcl90IGxhc3RfYmxvY2tfaW5fYmlv
ID0gMDsKc3RydWN0IGYyZnNfbWFwX2Jsb2NrcyBtYXA7CiNpZmRlZiBDT05GSUdfRjJGU19GU19D
T01QUkVTU0lPTgovKi4uLmNvbXByZXNzIGN0eCovCiNlbmRpZgp1bnNpZ25lZCBucl9wYWdlcyA9
IHJhYyA/IHJlYWRhaGVhZF9jb3VudChyYWMpIDogMTsKdW5zaWduZWQgbWF4X25yX3BhZ2VzID0g
bnJfcGFnZXM7CmludCByZXQgPSAwOwoKLyouLi5pbml0IGYyZnNfbWFwX2Jsb2NrcyovCgpmb3Ig
KDsgbnJfcGFnZXM7IG5yX3BhZ2VzLS0pIHsvKkVycm9yICEgT25seSBkZWNyZSAxIGEgdGltZSB3
aGVuCnN1Ym1pdCBvbmUgZm9saW8gdG8gcmVhZCovCmlmIChyYWMpIHsKZm9saW8gPSByZWFkYWhl
YWRfZm9saW8ocmFjKTsvKkl0ZXJhdGUgdG8gbmV4dCBmb2xpbyovCnByZWZldGNodygmZm9saW8t
PmZsYWdzKTsKfQoKI2lmZGVmIENPTkZJR19GMkZTX0ZTX0NPTVBSRVNTSU9OCmluZGV4ID0gZm9s
aW9faW5kZXgoZm9saW8pOy8qRXJyb3IhIURlcmVmIE5VTEwgcHRyISEqLwoKaWYgKCFmMmZzX2Nv
bXByZXNzZWRfZmlsZShpbm9kZSkpCmdvdG8gcmVhZF9zaW5nbGVfcGFnZTsKLypjb21wcmVzcyBm
aWxlIHBhZ2VzIHJlYWQgbG9naWMqLwpnb3RvIG5leHRfcGFnZTsKcmVhZF9zaW5nbGVfcGFnZToK
I2VuZGlmCnJldCA9IGYyZnNfcmVhZF9zaW5nbGVfcGFnZShpbm9kZSwgZm9saW8sIG1heF9ucl9w
YWdlcywgJm1hcCwKJmJpbywgJmxhc3RfYmxvY2tfaW5fYmlvLCByYWMpOwovKkVycm9yISEgT25s
eSAgZmlyc3QgcGFnZSBvZiBjdXJyZW50IGZvbGlvIGlzIHN1YmltaXRlZCBmb3IgcmVhZCEqLwpp
ZiAocmV0KSB7CiNpZmRlZiBDT05GSUdfRjJGU19GU19DT01QUkVTU0lPTgpzZXRfZXJyb3JfcGFn
ZToKI2VuZGlmCmZvbGlvX3plcm9fc2VnbWVudChmb2xpbywgMCwgZm9saW9fc2l6ZShmb2xpbykp
Owpmb2xpb191bmxvY2soZm9saW8pOwp9CiNpZmRlZiBDT05GSUdfRjJGU19GU19DT01QUkVTU0lP
TgpuZXh0X3BhZ2U6CiNlbmRpZgoKI2lmZGVmIENPTkZJR19GMkZTX0ZTX0NPTVBSRVNTSU9OCi8q
Li4uIGxhc3QgcGFnZSBoYW5kbGUgbG9naWMqLwojZW5kaWYKfQppZiAoYmlvKQpmMmZzX3N1Ym1p
dF9yZWFkX2JpbyhGMkZTX0lfU0IoaW5vZGUpLCBiaW8sIERBVEEpOwpyZXR1cm4gcmV0Owp9CgpB
cyB5b3UgY2FuIHNlZSBpbiBmMmZzX21wYWdlX3JlYWRwYWdlcywgYWZ0ZXIgZWFjaCBmb2xpbyBp
cyBwcm9jZXNzZWQKaW4gdGhlIGxvb3AsIHRoZSBucl9wYWdlcyBjb3VudGVyIGlzIG9ubHkgZGVj
cmVtZW50ZWQgYnkgMS4gVGhlcmVmb3JlLAppdCdzIGNsZWFyIHRoYXQgd2hlbiB0aGUgYWxsb2Nh
dGVkIGZvbGlvcyBpbiB0aGUgcGFnZSBjYWNoZSBhcmUgYWxsCml0ZXJhdGVkIHRocm91Z2gsIG5y
X3BhZ2VzIHN0aWxsIGhhcyByZW1haW5pbmcgdmFsdWUsIGFuZCB0aGUgbG9vcApjb250aW51ZXMu
IFRoaXMgbmF0dXJhbGx5IGxlYWRzIHRvIGEgc2VnbWVudGF0aW9uIGZhdWx0IGF0IGluZGV4ID0K
Zm9saW9faW5kZXgoZm9saW8pOyBkdWUgdG8gZGVyZWZlcmVuY2luZyBhIG51bGwgcG9pbnRlci4g
RnVydGhlcm1vcmUsCm9ubHkgdGhlIGZpcnN0IHBhZ2Ugb2YgZWFjaCBmb2xpbyBpcyBzdWJtaXR0
ZWQgZm9yIEkvTzsgdGhlIHJlbWFpbmluZwpwYWdlcyBhcmUgbm90IGZpbGxlZCB3aXRoIGRhdGEg
ZnJvbSBkaXNrLgoKVGhpcyBpc24ndCB0aGUgb25seSBwbGFjZS4gQWN0dWFsbHksIHdoZW4gSSB3
YXMgcHJldmlvdXNseSBzdHVkeWluZwp0aGUgaW1wbGVtZW50YXRpb24gb2YgZjJmc19kaXJ0eV9m
b2xpbywgSSBhbHNvIG5vdGljZWQ6CnN0YXRpYyBib29sIGYyZnNfZGlydHlfZGF0YV9mb2xpbyhz
dHJ1Y3QgYWRkcmVzc19zcGFjZSAqbWFwcGluZywKc3RydWN0IGZvbGlvICpmb2xpbykKewovKi4u
Lm90aGVyIGNvZGUqLwppZiAoZmlsZW1hcF9kaXJ0eV9mb2xpbyhtYXBwaW5nLCBmb2xpbykpIHsK
ZjJmc191cGRhdGVfZGlydHlfZm9saW8oaW5vZGUsIGZvbGlvKTsKcmV0dXJuIHRydWU7Cn0KcmV0
dXJuIGZhbHNlOwp9CnZvaWQgZjJmc191cGRhdGVfZGlydHlfZm9saW8oc3RydWN0IGlub2RlICpp
bm9kZSwgc3RydWN0IGZvbGlvICpmb2xpbykKewovKi4uLm90aGVyIGNvZGUqLwpzcGluX2xvY2so
JnNiaS0+aW5vZGVfbG9ja1t0eXBlXSk7CmlmICh0eXBlICE9IEZJTEVfSU5PREUgfHwgdGVzdF9v
cHQoc2JpLCBEQVRBX0ZMVVNIKSkKX19hZGRfZGlydHlfaW5vZGUoaW5vZGUsIHR5cGUpOwppbm9k
ZV9pbmNfZGlydHlfcGFnZXMoaW5vZGUpOy8qT25seSBpbmNyZSBpbm9kZS0+ZGlydHlfcGFnZXMg
Ynkgb25lKi8Kc3Bpbl91bmxvY2soJnNiaS0+aW5vZGVfbG9ja1t0eXBlXSk7CgpzZXRfcGFnZV9w
cml2YXRlX3JlZmVyZW5jZSgmZm9saW8tPnBhZ2UpOwp9CgpJbiBmMmZzX3VwZGF0ZV9kaXJ0eV9m
b2xpbywgaW5vZGVfaW5jX2RpcnR5X3BhZ2VzKGlub2RlKSBvbmx5CmluY3JlbWVudHMgdGhlIGlu
b2RlJ3MgZGlydHkgcGFnZSBjb3VudCBieSAxLiBUaGlzIGlzIHF1aXRlIGNvbmZ1c2luZywKYXMg
aXQncyB1bmNsZWFyIHdoeSBpdCBkb2Vzbid0IGluY3JlbWVudCBieSBucl9wYWdlcyAoYXNzdW1p
bmcgd2UgYXJlCm5vdCB5ZXQgdHJhY2tpbmcgZGlydHkgc3RhdHVzIGF0IHBlciBibG9jayBsZXZl
bCkuIFRoaXMgb2JzZXJ2YXRpb24KZnVydGhlciBzdHJlbmd0aGVucyBteSBzdXNwaWNpb24gdGhh
dCB0aGUgY3VycmVudCBmb2xpbyBpbXBsZW1lbnRhdGlvbgptaWdodCBqdXN0IGJlIGZpeGVkIGF0
IG9yZGVyIDAuSSBoYXZlbid0IGNoZWNrIHdoZXRoZXIgb3RoZXIgcGllY2Ugb2YKY29kZSBpbiBm
MmZzIHNoYXJlIHRoZSBzYW1lIHByb2JsZW0uCgpJIGFtIHBsYW5uaW5nIHRvIHByZXBhcmUgcGF0
Y2hlcyB0byBhZGRyZXNzIHRoZXNlIGlzc3VlcyBhbmQgc3VibWl0CnRoZW0gc29vbi4gSSBub3Rp
Y2VkIHlvdSByZWNlbnRseSBzdWJtaXR0ZWQgYSBiaWcgYnVuY2ggb2YgcGF0Y2hlcyBvbgpmb2xp
by4gSSB3b3VsZCBsaWtlIHRvIGRlYnVnIGFuZCB0ZXN0IGJhc2VkIG9uIHlvdXIgcGF0Y2guVGhl
cmVmb3JlLCBJCndhcyB3b25kZXJpbmcgaWYgaXQgd291bGQgYmUgcG9zc2libGUgZm9yIHlvdSB0
byBzaGFyZSB5b3VyIG1vZGlmaWVkCkYyRlMgY29kZSBkaXJlY3RseSwgb3IgcGVyaGFwcyBwcm92
aWRlIGEgbGluayB0byB5b3VyIEdpdCByZXBvc2l0b3J5PwpNYW51YWxseSBjb3B5aW5nIGFuZCBh
cHBseWluZyBzbyBtYW55IHBhdGNoZXMgZnJvbSB0aGUgbWFpbGluZyBsaXN0CndvdWxkIGJlIHF1
aXRlIGN1bWJlcnNvbWUuCkJlc3QgcmVnYXJkcy4KCgpNYXR0aGV3IFdpbGNveCA8d2lsbHlAaW5m
cmFkZWFkLm9yZz4g5LqOMjAyNeW5tDPmnIgzMeaXpeWRqOS4gCAxMTo0M+WGmemBk++8mgo+Cj4g
T24gU3VuLCBNYXIgMzAsIDIwMjUgYXQgMTA6Mzg6MzdBTSArMDgwMCwgTmFuemhlIFpoYW8gd3Jv
dGU6Cj4gPiBJIGhhdmUgYmVlbiBjb25zaWRlcmluZyBwb3RlbnRpYWwgc29sdXRpb25zIHRvIGFk
ZHJlc3MgdGhpcy4gVHdvCj4gPiBhcHByb2FjaGVzIEkndmUgZXhwbG9yZWQgYXJlOgo+ID4gIEVp
dGhlciBtb2RpZnlpbmcgdGhlIGYyZnMgZGlydHkgcGFnZSB3cml0ZWJhY2sgZnVuY3Rpb24gdG8g
bWFudWFsbHkKPiA+IG1hcmsgaW5kaXZpZHVhbCBzdWItcGFnZXMgd2l0aGluIGEgZm9saW8gYXMg
ZGlydHksIHJhdGhlciB0aGFuIHJlbHlpbmcKPiA+IG9uIHRoZSBmb2xpby1sZXZlbCBkaXJ0eSBm
bGFnLgo+Cj4gSnVzdCBzbyB5b3Uga25vdywgdGhlIHBlci1wYWdlIGRpcnR5IGZsYWcgaXMgbm90
IGluIGZhY3QgcGVyIHBhZ2UuCj4gSWYgeW91IGNhbGwgU2V0UGFnZURpcnR5KCkgb24gYSB0YWls
IHBhZ2UsIGl0IHdpbGwgc2V0IHRoZSBkaXJ0eSBmbGFnCj4gb24gdGhlIGhlYWQgcGFnZSAoaWUg
dGhlIHNhbWUgYml0IHRoYXQgaXMgdXNlZCBieSBmb2xpb19zZXRfZGlydHkoKSkuCj4gVGhpcyBp
cyBpbnRlbnRpb25hbCBhcyB3ZSBkbyBub3QgaW50ZW5kIGZvciB0aGVyZSB0byBiZSBhIHBlci1w
YWdlIGZsYWdzCj4gZmllbGQgaW4gdGhlIGZ1dHVyZS4KPgo+ID4gT3IgdXRpbGl6aW5nIHRoZSBw
ZXItYmxvY2sgZGlydHkgc3RhdGUgdHJhY2tpbmcgZmVhdHVyZSBpbnRyb2R1Y2VkIGluCj4gPiBr
ZXJuZWwgNi42IHdpdGhpbiB0aGUgaW9tYXAgZnJhbWV3b3JrLiBUaGlzIHdvdWxkIGludm9sdmUg
dXNpbmcgdGhlCj4gPiBpb21hcF9mb2xpb19zdGF0ZSBzdHJ1Y3R1cmUgdG8gdHJhY2sgdGhlIGRp
cnR5IHN0YXR1cyBvZiBlYWNoIGJsb2NrCj4gPiB3aXRoaW4gYSBmb2xpby4KPgo+IFRoZSBjaGFs
bGVuZ2Ugd2l0aCB0aGF0IGlzIHRoYXQgaW9tYXAgZG9lcyBub3Qgc3VwcG9ydCBhbGwgdGhlCj4g
ZnVuY3Rpb25hbGl0eSB0aGF0IGYyZnMgcmVxdWlyZXMuICBUaGUgaW9tYXAgZGF0YSBzdHJ1Y3R1
cmUgY291bGQKPiBiZSBkdXBsaWNhdGVkIGluc2lkZSBmMmZzLCBidXQgdGhlbiB3ZSBoaXQgdGhl
IHByb2JsZW0gdGhhdCBmMmZzCj4gY3VycmVudGx5IHN0b3JlcyBvdGhlciBpbmZvcm1hdGlvbiBp
biBmb2xpby0+cHJpdmF0ZS4gIFNvIHdlJ2QgbmVlZAo+IHRvIGFkZCBhIGZsYWdzIGZpZWxkIHRv
IGlvbWFwX2ZvbGlvX3N0YXRlIHRvIHN0b3JlIHRoYXQgaW5mb3JtYXRpb24KPiBpbnN0ZWFkLgo+
Cj4gU2VlIHRoZSBwYXJ0IG9mIGYyZnMuaCBmcm9tIFBBR0VfUFJJVkFURV9HRVRfRlVOQyB0byB0
aGUgZW5kIG9mCj4gY2xlYXJfcGFnZV9wcml2YXRlX2FsbCgpLgo+Cj4gWW91J3JlIHJpZ2h0IHRo
YXQgZjJmcyBuZWVkcyBwZXItYmxvY2sgZGlydHkgdHJhY2tpbmcgaWYgaXQgaXMgdG8KPiBzdXBw
b3J0IGxhcmdlIGZvbGlvcy4KCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fXwpMaW51eC1mMmZzLWRldmVsIG1haWxpbmcgbGlzdApMaW51eC1mMmZzLWRldmVs
QGxpc3RzLnNvdXJjZWZvcmdlLm5ldApodHRwczovL2xpc3RzLnNvdXJjZWZvcmdlLm5ldC9saXN0
cy9saXN0aW5mby9saW51eC1mMmZzLWRldmVsCg==
