Return-Path: <linux-f2fs-devel-bounces@lists.sourceforge.net>
X-Original-To: lists+linux-f2fs-devel@lfdr.de
Delivered-To: lists+linux-f2fs-devel@lfdr.de
Received: from lists.sourceforge.net (lists.sourceforge.net [216.105.38.7])
	by mail.lfdr.de (Postfix) with ESMTPS id 64E518CDDBE
	for <lists+linux-f2fs-devel@lfdr.de>; Fri, 24 May 2024 01:34:28 +0200 (CEST)
Received: from [127.0.0.1] (helo=sfs-ml-2.v29.lw.sourceforge.com)
	by sfs-ml-2.v29.lw.sourceforge.com with esmtp (Exim 4.95)
	(envelope-from <linux-f2fs-devel-bounces@lists.sourceforge.net>)
	id 1sAHwx-0007sb-2v;
	Thu, 23 May 2024 23:34:19 +0000
Received: from [172.30.20.202] (helo=mx.sourceforge.net)
 by sfs-ml-2.v29.lw.sourceforge.com with esmtps (TLS1.2) tls
 TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 (Exim 4.95)
 (envelope-from <daeho43@gmail.com>) id 1sAHwv-0007sM-7a
 for linux-f2fs-devel@lists.sourceforge.net;
 Thu, 23 May 2024 23:34:17 +0000
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed;
 d=sourceforge.net; s=x; h=Content-Transfer-Encoding:Content-Type:Cc:To:
 Subject:Message-ID:Date:From:In-Reply-To:References:MIME-Version:Sender:
 Reply-To:Content-ID:Content-Description:Resent-Date:Resent-From:Resent-Sender
 :Resent-To:Resent-Cc:Resent-Message-ID:List-Id:List-Help:List-Unsubscribe:
 List-Subscribe:List-Post:List-Owner:List-Archive;
 bh=eIkgg0cDrajdxFuJZEw9YcvWzphC5ed2UBbZqe2ByCQ=; b=XL7Tr92d/5tEg2CcKF4buiAGPN
 iRKY93AMq6vBb4axwK/3vBuwuE63xc2Q0aJYHcK/BOhWKRe3zxka2ZojV6DSCnnYYF0WWaKO44ciL
 AX6CkRFU+ZuO3ouup/323mLPMaSXx6qoA5y8CZILkyrXe2thxwk9mQ2IQYSAVlOOkSnk=;
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=sf.net; s=x
 ;
 h=Content-Transfer-Encoding:Content-Type:Cc:To:Subject:Message-ID:Date:From
 :In-Reply-To:References:MIME-Version:Sender:Reply-To:Content-ID:
 Content-Description:Resent-Date:Resent-From:Resent-Sender:Resent-To:Resent-Cc
 :Resent-Message-ID:List-Id:List-Help:List-Unsubscribe:List-Subscribe:
 List-Post:List-Owner:List-Archive;
 bh=eIkgg0cDrajdxFuJZEw9YcvWzphC5ed2UBbZqe2ByCQ=; b=UtjJ0mOUgg1tLiT7TCw5Z47Aa3
 Cs3GypOhkl8J3sbabkkwTudjfVZFbCcZu/7cK50yJU7KRppoIC7ZtIDtksBqIbVgO8W5dsX2jv9/0
 E5UOEPAdNaIhuMzWesuJc9dga6iiyGy5DX3eVMZuL/ov3qqg+c2pbtT/fwhK+sKOjoq4=;
Received: from mail-vs1-f52.google.com ([209.85.217.52])
 by sfi-mx-2.v28.lw.sourceforge.com with esmtps
 (TLS1.2:ECDHE-RSA-AES128-GCM-SHA256:128) (Exim 4.95)
 id 1sAHwv-0007TU-2C for linux-f2fs-devel@lists.sourceforge.net;
 Thu, 23 May 2024 23:34:17 +0000
Received: by mail-vs1-f52.google.com with SMTP id
 ada2fe7eead31-48a39be0e32so87297137.2
 for <linux-f2fs-devel@lists.sourceforge.net>;
 Thu, 23 May 2024 16:34:16 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20230601; t=1716507250; x=1717112050; darn=lists.sourceforge.net;
 h=content-transfer-encoding:cc:to:subject:message-id:date:from
 :in-reply-to:references:mime-version:from:to:cc:subject:date
 :message-id:reply-to;
 bh=eIkgg0cDrajdxFuJZEw9YcvWzphC5ed2UBbZqe2ByCQ=;
 b=UMjr4ahXz2DjpUqZd26ohAJUU6rvrZYNxq0vbyvBeCeHVvyTtwoHiAs/CqRpAsc0E9
 yWLke4QCVgArBFvLNhevPeY2HAuAAdnKMzHEDK1iL8rTJNzvi7sEEKAUsiDhzGVGYUh5
 2G5BaeyqEMevJE+ovT8hMwvWW/feyJQrOpaNp2IpImTbVGs5/IyRMbSaxNqfH1wcAuJ8
 vh0DEiSznSkmaFOwk3XnrJNaHPrhmrnAHsYHQoTnPX+ALKIycQwld+7j1UIdMmoWgtQg
 AOC1J/ruECnWmGdILe/jkaFTXVwDJ0y6kowCfpRBFbxCzSE5loTJWmxr3P5kpEsOW7dY
 ETCA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20230601; t=1716507250; x=1717112050;
 h=content-transfer-encoding:cc:to:subject:message-id:date:from
 :in-reply-to:references:mime-version:x-gm-message-state:from:to:cc
 :subject:date:message-id:reply-to;
 bh=eIkgg0cDrajdxFuJZEw9YcvWzphC5ed2UBbZqe2ByCQ=;
 b=O8O9HIJ5HJjtsrSdBYQ3FiXK0sAcib1lKc9LIXPD99saVFSXRw8xp3GdIzWTsyJypL
 1dvtE4VBVcAyizLv58x+5AR8ofiRjsOZBxsz42IqFdGkn06UvCdVTccuVGQ5OjmBYfmZ
 oOO5ujhKT75TVRqiX2WAChmqHk0X2O1TsCal6g1pPmrourh255gc3++luAeKdgaU1IDa
 Q8Nc42BGBeTLUNgIyfP+28qhqp7AvNwtN6+jZ2KeQg0pEKDxuRPNEBpYjpwnUZP8Wz1b
 6EXeZraGOXt+z8ue4XRurL4D6fqPXKGe+KgAtlWtxtnu5qhRTqL2ZLxGWn9hbOAQiyWp
 2HCQ==
X-Gm-Message-State: AOJu0YwOYaZGA8Ab0CR4XPK4LWSe9LreFC6S9godu5qyy83ZCQc3tXfx
 HZ8Gc8hq8JCwyhxVGdmwnBcztJP6+D4KNdTUTzcq2TJUCa391tcNoXqhV9pnQGzWCK766cg4M7U
 OkB81LXcunGE9yTQjc3N8m/B7H4Y=
X-Google-Smtp-Source: AGHT+IEcGqscbLMgsXmAORR9UsP4kpsGF0bEYa13A02ZqOU+p6UdDuj6CSqt3oHymmHYefTjcI2Xu/RinnaZM0rvX2g=
X-Received: by 2002:a05:6102:512a:b0:47c:122b:a3bd with SMTP id
 ada2fe7eead31-48a385036d4mr1341799137.2.1716507250239; Thu, 23 May 2024
 16:34:10 -0700 (PDT)
MIME-Version: 1.0
References: <20240523224700.265251-1-drosen@google.com>
In-Reply-To: <20240523224700.265251-1-drosen@google.com>
From: Daeho Jeong <daeho43@gmail.com>
Date: Thu, 23 May 2024 16:33:59 -0700
Message-ID: <CACOAw_wAO9fta_SmnSM4kdGDOCur_uDXv4iF=WqOdLfMtyQCqA@mail.gmail.com>
To: Daniel Rosenberg <drosen@google.com>
X-Spam-Score: 0.1 (/)
X-Spam-Report: Spam detection software, running on the system "util-spamd-1.v13.lw.sourceforge.com",
 has NOT identified this incoming email as spam.  The original
 message has been attached to this so you can view it or label
 similar future email.  If you have any questions, see
 the administrator of that system for details.
 
 Content preview:  On Thu, May 23, 2024 at 3:48â€¯PM Daniel Rosenberg via Linux-f2fs-devel
    wrote: > > This adds the ability to dump folders as well as files. Folders
    are > dumped recursively. Additionally, dumped file [...] 
 
 Content analysis details:   (0.1 points, 6.0 required)
 
  pts rule name              description
 ---- ---------------------- --------------------------------------------------
 -0.0 RCVD_IN_DNSWL_NONE     RBL: Sender listed at https://www.dnswl.org/,
                              no trust
                             [209.85.217.52 listed in list.dnswl.org]
  0.2 FREEMAIL_ENVFROM_END_DIGIT Envelope-from freemail username ends
                             in digit
                             [daeho43[at]gmail.com]
 -0.0 SPF_PASS               SPF: sender matches SPF record
  0.0 FREEMAIL_FROM          Sender email is commonly abused enduser mail
                             provider
                             [daeho43[at]gmail.com]
  0.0 SPF_HELO_NONE          SPF: HELO does not publish an SPF Record
 -0.0 RCVD_IN_MSPIKE_H2      RBL: Average reputation (+2)
                             [209.85.217.52 listed in wl.mailspike.net]
 -0.1 DKIM_VALID_AU          Message has a valid DKIM or DK signature from
                             author's domain
 -0.1 DKIM_VALID             Message has at least one valid DKIM or DK signature
 -0.1 DKIM_VALID_EF          Message has a valid DKIM or DK signature from
                             envelope-from domain
  0.1 DKIM_SIGNED            Message has a DKIM or DK signature, not necessarily
                             valid
X-Headers-End: 1sAHwv-0007TU-2C
Subject: Re: [f2fs-dev] [PATCH v4 1/2] dump.f2fs: Add ability to dump folders
X-BeenThere: linux-f2fs-devel@lists.sourceforge.net
X-Mailman-Version: 2.1.21
Precedence: list
List-Id: <linux-f2fs-devel.lists.sourceforge.net>
List-Unsubscribe: <https://lists.sourceforge.net/lists/options/linux-f2fs-devel>, 
 <mailto:linux-f2fs-devel-request@lists.sourceforge.net?subject=unsubscribe>
List-Archive: <http://sourceforge.net/mailarchive/forum.php?forum_name=linux-f2fs-devel>
List-Post: <mailto:linux-f2fs-devel@lists.sourceforge.net>
List-Help: <mailto:linux-f2fs-devel-request@lists.sourceforge.net?subject=help>
List-Subscribe: <https://lists.sourceforge.net/lists/listinfo/linux-f2fs-devel>, 
 <mailto:linux-f2fs-devel-request@lists.sourceforge.net?subject=subscribe>
Cc: Jaegeuk Kim <jaegeuk@kernel.org>, kernel-team@android.com,
 Daeho Jeong <daehojeong@google.com>, linux-f2fs-devel@lists.sourceforge.net
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: linux-f2fs-devel-bounces@lists.sourceforge.net

T24gVGh1LCBNYXkgMjMsIDIwMjQgYXQgMzo0OOKAr1BNIERhbmllbCBSb3NlbmJlcmcgdmlhIExp
bnV4LWYyZnMtZGV2ZWwKPGxpbnV4LWYyZnMtZGV2ZWxAbGlzdHMuc291cmNlZm9yZ2UubmV0PiB3
cm90ZToKPgo+IFRoaXMgYWRkcyB0aGUgYWJpbGl0eSB0byBkdW1wIGZvbGRlcnMgYXMgd2VsbCBh
cyBmaWxlcy4gRm9sZGVycyBhcmUKPiBkdW1wZWQgcmVjdXJzaXZlbHkuIEFkZGl0aW9uYWxseSwg
ZHVtcGVkIGZpbGVzL2ZvbGRlcnMgbWF5IGJlIGRpcmVjdGVkCj4gdG8gYSBmb2xkZXIgc3BlY2lm
aWVkIGJ5IC1vIFtwYXRoXSBpbnN0ZWFkIG9mIC4vbG9zdF9mb3VuZC4gVGhlIC1yIGZsYWcKPiB3
aWxsIGR1bXAgdGhlIGVudGlyZSBmcyBmcm9tIHRoZSByb290IGlub2RlLiAtZiBvciAteSB3aWxs
IHNraXAgdGhlCj4gcHJvbXB0IGJlZm9yZSBkdW1waW5nLCBhbmQgLVAgd2lsbCBwcmVzZXJ2ZSB0
aGUgbW9kZS9vd25lciBpbmZvIGZvciB0aGUKPiBjcmVhdGVkIGZpbGUvZm9sZGVyLgo+Cj4gU2ln
bmVkLW9mZi1ieTogRGFuaWVsIFJvc2VuYmVyZyA8ZHJvc2VuQGdvb2dsZS5jb20+Cj4gUmV2aWV3
ZWQtYnk6IERhZWhvIEplb25nIDxkYWVob2plb25nQGdvb2dsZS5jb20+Cj4gLS0tCj4gIGZzY2sv
ZHVtcC5jICAgICB8IDE3OCArKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKy0t
LS0tLS0tLS0KPiAgZnNjay9mc2NrLmMgICAgIHwgICA0ICstCj4gIGZzY2svZnNjay5oICAgICB8
ICAgNCArLQo+ICBmc2NrL21haW4uYyAgICAgfCAgMjkgKysrKysrKy0KPiAgbWFuL2R1bXAuZjJm
cy44IHwgIDE3ICsrKystCj4gIDUgZmlsZXMgY2hhbmdlZCwgMTkwIGluc2VydGlvbnMoKyksIDQy
IGRlbGV0aW9ucygtKQo+Cj4gZGlmZiAtLWdpdCBhL2ZzY2svZHVtcC5jIGIvZnNjay9kdW1wLmMK
PiBpbmRleCBiMmU5OTBiLi5mYTY4NDU2IDEwMDY0NAo+IC0tLSBhL2ZzY2svZHVtcC5jCj4gKysr
IGIvZnNjay9kdW1wLmMKPiBAQCAtMjQ3LDcgKzI0NywyNiBAQCBvdXQ6Cj4gICAgICAgICAgICAg
ICAgIHByaW50ZigiXG4iKTsKPiAgfQo+Cj4gLXN0YXRpYyB2b2lkIGR1bXBfZGF0YV9ibGsoc3Ry
dWN0IGYyZnNfc2JfaW5mbyAqc2JpLCBfX3U2NCBvZmZzZXQsIHUzMiBibGthZGRyKQo+ICtzdGF0
aWMgdm9pZCBkdW1wX2ZvbGRlcl9jb250ZW50cyhzdHJ1Y3QgZjJmc19zYl9pbmZvICpzYmksIHU4
ICpiaXRtYXAsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgZjJmc19k
aXJfZW50cnkgKmRlbnRyeSwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9fdTgg
KCpmaWxlbmFtZXMpW0YyRlNfU0xPVF9MRU5dLCBpbnQgbWF4KQo+ICt7Cj4gKyAgICAgICBpbnQg
aTsKPiArICAgICAgIGludCBuYW1lX2xlbjsKPiArCj4gKyAgICAgICBmb3IgKGkgPSAwOyBpIDwg
bWF4OyBpKyspIHsKPiArICAgICAgICAgICAgICAgaWYgKHRlc3RfYml0X2xlKGksIGJpdG1hcCkg
PT0gMCkKPiArICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKPiArICAgICAgICAgICAg
ICAgbmFtZV9sZW4gPSBsZTE2X3RvX2NwdShkZW50cnlbaV0ubmFtZV9sZW4pOwo+ICsgICAgICAg
ICAgICAgICBpZiAobmFtZV9sZW4gPT0gMSAmJiBmaWxlbmFtZXNbaV1bMF0gPT0gJy4nKQo+ICsg
ICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwo+ICsgICAgICAgICAgICAgICBpZiAobmFt
ZV9sZW4gPT0gMiAmJiBmaWxlbmFtZXNbaV1bMF0gPT0gJy4nICYmIGZpbGVuYW1lc1tpXVsxXSA9
PSAnLicpCj4gKyAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7Cj4gKyAgICAgICAgICAg
ICAgIGR1bXBfbm9kZShzYmksIGxlMzJfdG9fY3B1KGRlbnRyeVtpXS5pbm8pLCAxLCBOVUxMLCAw
LCAxKTsKPiArICAgICAgIH0KPiArfQo+ICsKPiArc3RhdGljIHZvaWQgZHVtcF9kYXRhX2Jsayhz
dHJ1Y3QgZjJmc19zYl9pbmZvICpzYmksIF9fdTY0IG9mZnNldCwgdTMyIGJsa2FkZHIsIGJvb2wg
aXNfZm9sZGVyKQo+ICB7Cj4gICAgICAgICBjaGFyIGJ1ZltGMkZTX0JMS1NJWkVdOwo+Cj4gQEAg
LTI4OCwxMiArMzA3LDE5IEBAIHN0YXRpYyB2b2lkIGR1bXBfZGF0YV9ibGsoc3RydWN0IGYyZnNf
c2JfaW5mbyAqc2JpLCBfX3U2NCBvZmZzZXQsIHUzMiBibGthZGRyKQo+ICAgICAgICAgICAgICAg
ICBBU1NFUlQocmV0ID49IDApOwo+ICAgICAgICAgfQo+Cj4gLSAgICAgICAvKiB3cml0ZSBibGth
ZGRyICovCj4gLSAgICAgICBkZXZfd3JpdGVfZHVtcChidWYsIG9mZnNldCwgRjJGU19CTEtTSVpF
KTsKPiArICAgICAgIGlmIChpc19mb2xkZXIpIHsKPiArICAgICAgICAgICAgICAgc3RydWN0IGYy
ZnNfZGVudHJ5X2Jsb2NrICpkID0gKHN0cnVjdCBmMmZzX2RlbnRyeV9ibG9jayAqKSBidWY7Cj4g
Kwo+ICsgICAgICAgICAgICAgICBkdW1wX2ZvbGRlcl9jb250ZW50cyhzYmksIGQtPmRlbnRyeV9i
aXRtYXAsIEYyRlNfREVOVFJZX0JMT0NLX0RFTlRSSUVTKGQpLAo+ICsgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBGMkZTX0RFTlRSWV9CTE9DS19GSUxFTkFNRVMoZCksIE5S
X0RFTlRSWV9JTl9CTE9DSyk7Cj4gKyAgICAgICB9IGVsc2Ugewo+ICsgICAgICAgICAgICAgICAv
KiB3cml0ZSBibGthZGRyICovCj4gKyAgICAgICAgICAgICAgIGRldl93cml0ZV9kdW1wKGJ1Ziwg
b2Zmc2V0LCBGMkZTX0JMS1NJWkUpOwo+ICsgICAgICAgfQo+ICB9Cj4KPiAgc3RhdGljIHZvaWQg
ZHVtcF9ub2RlX2JsayhzdHJ1Y3QgZjJmc19zYl9pbmZvICpzYmksIGludCBudHlwZSwKPiAtICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHUzMiBuaWQsIHUzMiBhZGRyX3Blcl9ibG9jaywg
dTY0ICpvZnMpCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1MzIgbmlkLCB1MzIg
YWRkcl9wZXJfYmxvY2ssIHU2NCAqb2ZzLCBpbnQgaXNfZGlyKQo+ICB7Cj4gICAgICAgICBzdHJ1
Y3Qgbm9kZV9pbmZvIG5pOwo+ICAgICAgICAgc3RydWN0IGYyZnNfbm9kZSAqbm9kZV9ibGs7Cj4g
QEAgLTMzMCwyMCArMzU2LDIwIEBAIHN0YXRpYyB2b2lkIGR1bXBfbm9kZV9ibGsoc3RydWN0IGYy
ZnNfc2JfaW5mbyAqc2JpLCBpbnQgbnR5cGUsCj4gICAgICAgICAgICAgICAgIHN3aXRjaCAobnR5
cGUpIHsKPiAgICAgICAgICAgICAgICAgY2FzZSBUWVBFX0RJUkVDVF9OT0RFOgo+ICAgICAgICAg
ICAgICAgICAgICAgICAgIGR1bXBfZGF0YV9ibGsoc2JpLCAqb2ZzICogRjJGU19CTEtTSVpFLAo+
IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZTMyX3RvX2NwdShub2Rl
X2Jsay0+ZG4uYWRkcltpXSkpOwo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBsZTMyX3RvX2NwdShub2RlX2Jsay0+ZG4uYWRkcltpXSksIGlzX2Rpcik7Cj4gICAgICAg
ICAgICAgICAgICAgICAgICAgKCpvZnMpKys7Cj4gICAgICAgICAgICAgICAgICAgICAgICAgYnJl
YWs7Cj4gICAgICAgICAgICAgICAgIGNhc2UgVFlQRV9JTkRJUkVDVF9OT0RFOgo+ICAgICAgICAg
ICAgICAgICAgICAgICAgIGR1bXBfbm9kZV9ibGsoc2JpLCBUWVBFX0RJUkVDVF9OT0RFLAo+ICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZTMyX3RvX2NwdShub2RlX2Js
ay0+aW4ubmlkW2ldKSwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
YWRkcl9wZXJfYmxvY2ssCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IG9mcyk7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mcywgaXNf
ZGlyKTsKPiAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKPiAgICAgICAgICAgICAgICAg
Y2FzZSBUWVBFX0RPVUJMRV9JTkRJUkVDVF9OT0RFOgo+ICAgICAgICAgICAgICAgICAgICAgICAg
IGR1bXBfbm9kZV9ibGsoc2JpLCBUWVBFX0lORElSRUNUX05PREUsCj4gICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIGxlMzJfdG9fY3B1KG5vZGVfYmxrLT5pbi5uaWRbaV0p
LAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRyX3Blcl9ibG9j
aywKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2ZzKTsKPiArICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2ZzLCBpc19kaXIpOwo+ICAgICAg
ICAgICAgICAgICAgICAgICAgIGJyZWFrOwo+ICAgICAgICAgICAgICAgICB9Cj4gICAgICAgICB9
Cj4gQEAgLTQzNSw4ICs0NjEsOSBAQCBzdGF0aWMgaW50IGR1bXBfaW5vZGVfYmxrKHN0cnVjdCBm
MmZzX3NiX2luZm8gKnNiaSwgdTMyIG5pZCwKPiAgICAgICAgIHUzMiBpID0gMDsKPiAgICAgICAg
IHU2NCBvZnMgPSAwOwo+ICAgICAgICAgdTMyIGFkZHJfcGVyX2Jsb2NrOwo+ICsgICAgICAgYm9v
bCBpc19kaXIgPSBTX0lTRElSKGxlMTZfdG9fY3B1KG5vZGVfYmxrLT5pLmlfbW9kZSkpOwo+Cj4g
LSAgICAgICBpZigobm9kZV9ibGstPmkuaV9pbmxpbmUgJiBGMkZTX0lOTElORV9EQVRBKSkgewo+
ICsgICAgICAgaWYgKChub2RlX2Jsay0+aS5pX2lubGluZSAmIEYyRlNfSU5MSU5FX0RBVEEpKSB7
Cj4gICAgICAgICAgICAgICAgIERCRygzLCAiaW5vWzB4JXhdIGhhcyBpbmxpbmUgZGF0YSFcbiIs
IG5pZCk7Cj4gICAgICAgICAgICAgICAgIC8qIHJlY292ZXIgZnJvbSBpbmxpbmUgZGF0YSAqLwo+
ICAgICAgICAgICAgICAgICBkZXZfd3JpdGVfZHVtcCgoKHVuc2lnbmVkIGNoYXIgKilub2RlX2Js
aykgKyBJTkxJTkVfREFUQV9PRkZTRVQsCj4gQEAgLTQ0NCwxMyArNDcxLDI1IEBAIHN0YXRpYyBp
bnQgZHVtcF9pbm9kZV9ibGsoc3RydWN0IGYyZnNfc2JfaW5mbyAqc2JpLCB1MzIgbmlkLAo+ICAg
ICAgICAgICAgICAgICByZXR1cm4gLTE7Cj4gICAgICAgICB9Cj4KPiArICAgICAgIGlmICgobm9k
ZV9ibGstPmkuaV9pbmxpbmUgJiBGMkZTX0lOTElORV9ERU5UUlkpKSB7Cj4gKyAgICAgICAgICAg
ICAgIHZvaWQgKmlubGluZV9kZW50cnkgPSBpbmxpbmVfZGF0YV9hZGRyKG5vZGVfYmxrKTsKPiAr
ICAgICAgICAgICAgICAgc3RydWN0IGYyZnNfZGVudHJ5X3B0ciBkOwo+ICsKPiArICAgICAgICAg
ICAgICAgbWFrZV9kZW50cnlfcHRyKCZkLCBub2RlX2JsaywgaW5saW5lX2RlbnRyeSwgMik7Cj4g
Kwo+ICsgICAgICAgICAgICAgICBEQkcoMywgImlub1sweCV4XSBoYXMgaW5saW5lIGRlbnRyaWVz
IVxuIiwgbmlkKTsKPiArICAgICAgICAgICAgICAgLyogcmVjb3ZlciBmcm9tIGlubGluZSBkZW50
cnkgKi8KPiArICAgICAgICAgICAgICAgZHVtcF9mb2xkZXJfY29udGVudHMoc2JpLCBkLmJpdG1h
cCwgZC5kZW50cnksIGQuZmlsZW5hbWUsIGQubWF4KTsKPiArICAgICAgICAgICAgICAgcmV0dXJu
IC0xOwo+ICsgICAgICAgfQo+ICsKPiAgICAgICAgIGMuc2hvd19maWxlX21hcF9tYXhfb2Zmc2V0
ID0gZjJmc19tYXhfZmlsZV9vZmZzZXQoJm5vZGVfYmxrLT5pKTsKPiAgICAgICAgIGFkZHJfcGVy
X2Jsb2NrID0gQUREUlNfUEVSX0JMT0NLKCZub2RlX2Jsay0+aSk7Cj4KPiAgICAgICAgIC8qIGNo
ZWNrIGRhdGEgYmxvY2tzIGluIGlub2RlICovCj4gICAgICAgICBmb3IgKGkgPSAwOyBpIDwgQURE
UlNfUEVSX0lOT0RFKCZub2RlX2Jsay0+aSk7IGkrKywgb2ZzKyspCj4gICAgICAgICAgICAgICAg
IGR1bXBfZGF0YV9ibGsoc2JpLCBvZnMgKiBGMkZTX0JMS1NJWkUsIGxlMzJfdG9fY3B1KAo+IC0g
ICAgICAgICAgICAgICAgICAgICAgIG5vZGVfYmxrLT5pLmlfYWRkcltnZXRfZXh0cmFfaXNpemUo
bm9kZV9ibGspICsgaV0pKTsKPiArICAgICAgICAgICAgICAgICAgICAgICBub2RlX2Jsay0+aS5p
X2FkZHJbZ2V0X2V4dHJhX2lzaXplKG5vZGVfYmxrKSArIGldKSwgaXNfZGlyKTsKPgo+ICAgICAg
ICAgLyogY2hlY2sgbm9kZSBibG9ja3MgaW4gaW5vZGUgKi8KPiAgICAgICAgIGZvciAoaSA9IDA7
IGkgPCA1OyBpKyspIHsKPiBAQCAtNDU4LDE3ICs0OTcsMjAgQEAgc3RhdGljIGludCBkdW1wX2lu
b2RlX2JsayhzdHJ1Y3QgZjJmc19zYl9pbmZvICpzYmksIHUzMiBuaWQsCj4gICAgICAgICAgICAg
ICAgICAgICAgICAgZHVtcF9ub2RlX2JsayhzYmksIFRZUEVfRElSRUNUX05PREUsCj4gICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlMzJfdG9fY3B1KEYyRlNfSU5PREVf
SV9OSUQoJm5vZGVfYmxrLT5pLCBpKSksCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIGFkZHJfcGVyX2Jsb2NrLAo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAmb2ZzKTsKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgJm9mcywKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNfZGly
KTsKPiAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaSA9PSAyIHx8IGkgPT0gMykKPiAgICAgICAg
ICAgICAgICAgICAgICAgICBkdW1wX25vZGVfYmxrKHNiaSwgVFlQRV9JTkRJUkVDVF9OT0RFLAo+
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZTMyX3RvX2NwdShGMkZT
X0lOT0RFX0lfTklEKCZub2RlX2Jsay0+aSwgaSkpLAo+ICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBhZGRyX3Blcl9ibG9jaywKPiAtICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgJm9mcyk7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICZvZnMsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IGlzX2Rpcik7Cj4gICAgICAgICAgICAgICAgIGVsc2UgaWYgKGkgPT0gNCkKPiAgICAgICAgICAg
ICAgICAgICAgICAgICBkdW1wX25vZGVfYmxrKHNiaSwgVFlQRV9ET1VCTEVfSU5ESVJFQ1RfTk9E
RSwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGUzMl90b19jcHUo
RjJGU19JTk9ERV9JX05JRCgmbm9kZV9ibGstPmksIGkpKSwKPiAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgYWRkcl9wZXJfYmxvY2ssCj4gLSAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICZvZnMpOwo+ICsgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAmb2ZzLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBpc19kaXIpOwo+ICAgICAgICAgICAgICAgICBlbHNlCj4gICAgICAgICAgICAgICAgICAg
ICAgICAgQVNTRVJUKDApOwo+ICAgICAgICAgfQo+IEBAIC00NzksOCArNTIxLDUxIEBAIHN0YXRp
YyBpbnQgZHVtcF9pbm9kZV9ibGsoc3RydWN0IGYyZnNfc2JfaW5mbyAqc2JpLCB1MzIgbmlkLAo+
ICAgICAgICAgcmV0dXJuIDA7Cj4gIH0KPgo+IC1zdGF0aWMgaW50IGR1bXBfZmlsZShzdHJ1Y3Qg
ZjJmc19zYl9pbmZvICpzYmksIHN0cnVjdCBub2RlX2luZm8gKm5pLAo+IC0gICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgc3RydWN0IGYyZnNfbm9kZSAqbm9kZV9ibGssIGludCBmb3JjZSkK
PiArc3RhdGljIHZvaWQgZHVtcF9maWxlKHN0cnVjdCBmMmZzX3NiX2luZm8gKnNiaSwgc3RydWN0
IG5vZGVfaW5mbyAqbmksCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3Qg
ZjJmc19ub2RlICpub2RlX2JsaywgY2hhciAqcGF0aCkKPiArewo+ICsgICAgICAgc3RydWN0IGYy
ZnNfaW5vZGUgKmlub2RlID0gJm5vZGVfYmxrLT5pOwo+ICsgICAgICAgaW50IHJldDsKPiArCj4g
KyAgICAgICBjLmR1bXBfZmQgPSBvcGVuKHBhdGgsIE9fVFJVTkN8T19DUkVBVHxPX1JEV1IsIDA2
NjYpOwo+ICsgICAgICAgQVNTRVJUKGMuZHVtcF9mZCA+PSAwKTsKPiArCj4gKyAgICAgICAvKiBk
dW1wIGZpbGUncyBkYXRhICovCj4gKyAgICAgICBkdW1wX2lub2RlX2JsayhzYmksIG5pLT5pbm8s
IG5vZGVfYmxrKTsKPiArCj4gKyAgICAgICAvKiBhZGp1c3QgZmlsZSBzaXplICovCj4gKyAgICAg
ICByZXQgPSBmdHJ1bmNhdGUoYy5kdW1wX2ZkLCBsZTMyX3RvX2NwdShpbm9kZS0+aV9zaXplKSk7
Cj4gKyAgICAgICBBU1NFUlQocmV0ID49IDApOwo+ICsKPiArICAgICAgIGNsb3NlKGMuZHVtcF9m
ZCk7Cj4gK30KPiArCj4gK3N0YXRpYyB2b2lkIGR1bXBfZm9sZGVyKHN0cnVjdCBmMmZzX3NiX2lu
Zm8gKnNiaSwgc3RydWN0IG5vZGVfaW5mbyAqbmksCj4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBzdHJ1Y3QgZjJmc19ub2RlICpub2RlX2JsaywgY2hhciAqcGF0aCwgaW50IGlzX3Jv
b3QpCj4gK3sKPiArICAgICAgIGlmICghaXNfcm9vdCkgewo+ICsjaWYgZGVmaW5lZChfX01JTkdX
MzJfXykKPiArICAgICAgICAgICAgICAgaWYgKG1rZGlyKHBhdGgpIDwgMCAmJiBlcnJubyAhPSBF
RVhJU1QpIHsKPiArICAgICAgICAgICAgICAgICAgICAgICBNU0coMCwgIkZhaWxlZCB0byBjcmVh
dGUgZGlyZWN0b3J5ICVzXG4iLCBwYXRoKTsKPiArICAgICAgICAgICAgICAgICAgICAgICByZXR1
cm47Cj4gKyAgICAgICAgICAgICAgIH0KPiArI2Vsc2UKPiArICAgICAgICAgICAgICAgaWYgKG1r
ZGlyKHBhdGgsIDA3NzcpIDwgMCAmJiBlcnJubyAhPSBFRVhJU1QpIHsKPiArICAgICAgICAgICAg
ICAgICAgICAgICBNU0coMCwgIkZhaWxlZCB0byBjcmVhdGUgZGlyZWN0b3J5ICVzXG4iLCBwYXRo
KTsKPiArICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47Cj4gKyAgICAgICAgICAgICAgIH0K
PiArI2VuZGlmCj4gKyAgICAgICAgICAgICAgIEFTU0VSVChjaGRpcihwYXRoKSA9PSAwKTsKPiAr
ICAgICAgIH0KPiArICAgICAgIC8qIGR1bXAgZm9sZGVyIGRhdGEgKi8KPiArICAgICAgIGR1bXBf
aW5vZGVfYmxrKHNiaSwgbmktPmlubywgbm9kZV9ibGspOwo+ICsgICAgICAgaWYgKCFpc19yb290
KQo+ICsgICAgICAgICAgICAgICBBU1NFUlQoY2hkaXIoIi4uIikgPT0gMCk7Cj4gK30KPiArCj4g
K3N0YXRpYyBpbnQgZHVtcF9maWxlc3lzdGVtKHN0cnVjdCBmMmZzX3NiX2luZm8gKnNiaSwgc3Ry
dWN0IG5vZGVfaW5mbyAqbmksCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1
Y3QgZjJmc19ub2RlICpub2RlX2JsaywgaW50IGZvcmNlLCBjaGFyICpiYXNlX3BhdGgsCj4gKyAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib29sIGlzX2Jhc2UsIGJvb2wgYWxsb3dfZm9s
ZGVyKQo+ICB7Cj4gICAgICAgICBzdHJ1Y3QgZjJmc19pbm9kZSAqaW5vZGUgPSAmbm9kZV9ibGst
Pmk7Cj4gICAgICAgICB1MzIgaW1vZGUgPSBsZTE2X3RvX2NwdShpbm9kZS0+aV9tb2RlKTsKPiBA
QCAtNDg5LDYgKzU3NCw3IEBAIHN0YXRpYyBpbnQgZHVtcF9maWxlKHN0cnVjdCBmMmZzX3NiX2lu
Zm8gKnNiaSwgc3RydWN0IG5vZGVfaW5mbyAqbmksCj4gICAgICAgICBjaGFyIHBhdGhbMTAyNF0g
PSB7MH07Cj4gICAgICAgICBjaGFyIGFuc1syNTVdID0gezB9Owo+ICAgICAgICAgaW50IGlzX2Vu
Y3J5cHRlZCA9IGZpbGVfaXNfZW5jcnlwdChpbm9kZSk7Cj4gKyAgICAgICBpbnQgaXNfcm9vdCA9
IHNiaS0+cm9vdF9pbm9fbnVtID09IG5pLT5uaWQ7Cj4gICAgICAgICBpbnQgcmV0Owo+Cj4gICAg
ICAgICBpZiAoaXNfZW5jcnlwdGVkKSB7Cj4gQEAgLTQ5NiwxMSArNTgyLDE1IEBAIHN0YXRpYyBp
bnQgZHVtcF9maWxlKHN0cnVjdCBmMmZzX3NiX2luZm8gKnNiaSwgc3RydWN0IG5vZGVfaW5mbyAq
bmksCj4gICAgICAgICAgICAgICAgIHJldHVybiAtMTsKPiAgICAgICAgIH0KPgo+IC0gICAgICAg
aWYgKCghU19JU1JFRyhpbW9kZSkgJiYgIVNfSVNMTksoaW1vZGUpKSB8fAo+IC0gICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgbmFtZWxlbiA9PSAwIHx8IG5hbWVsZW4gPiBGMkZTX05BTUVf
TEVOKSB7Cj4gLSAgICAgICAgICAgICAgIE1TRyhmb3JjZSwgIk5vdCBhIHJlZ3VsYXIgZmlsZSBv
ciB3cm9uZyBuYW1lIGluZm9cblxuIik7Cj4gKyAgICAgICBpZiAoKCFTX0lTUkVHKGltb2RlKSAm
JiAhU19JU0xOSyhpbW9kZSkgJiYgIShTX0lTRElSKGltb2RlKSAmJiBhbGxvd19mb2xkZXIpKSkg
ewo+ICsgICAgICAgICAgICAgICBNU0coZm9yY2UsICJOb3QgYSB2YWxpZCBmaWxlIHR5cGVcblxu
Iik7Cj4gKyAgICAgICAgICAgICAgIHJldHVybiAtMTsKPiArICAgICAgIH0KPiArICAgICAgIGlm
ICghaXNfcm9vdCAmJiAobmFtZWxlbiA9PSAwIHx8IG5hbWVsZW4gPiBGMkZTX05BTUVfTEVOKSkg
ewo+ICsgICAgICAgICAgICAgICBNU0coZm9yY2UsICJXcm9uZyBuYW1lIGluZm9cblxuIik7Cj4g
ICAgICAgICAgICAgICAgIHJldHVybiAtMTsKPiAgICAgICAgIH0KPiArICAgICAgIGJhc2VfcGF0
aCA9IGJhc2VfcGF0aCA/OiAiLi9sb3N0X2ZvdW5kIjsKPiAgICAgICAgIGlmIChmb3JjZSkKPiAg
ICAgICAgICAgICAgICAgZ290byBkdW1wOwo+Cj4gQEAgLTUwOCwzMSArNTk4LDQ5IEBAIHN0YXRp
YyBpbnQgZHVtcF9maWxlKHN0cnVjdCBmMmZzX3NiX2luZm8gKnNiaSwgc3RydWN0IG5vZGVfaW5m
byAqbmksCj4gICAgICAgICBpZiAoYy5zaG93X2ZpbGVfbWFwKQo+ICAgICAgICAgICAgICAgICBy
ZXR1cm4gZHVtcF9pbm9kZV9ibGsoc2JpLCBuaS0+aW5vLCBub2RlX2Jsayk7Cj4KPiAtICAgICAg
IHByaW50ZigiRG8geW91IHdhbnQgdG8gZHVtcCB0aGlzIGZpbGUgaW50byAuL2xvc3RfZm91bmQv
PyBbWS9OXSAiKTsKPiArICAgICAgIHByaW50ZigiRG8geW91IHdhbnQgdG8gZHVtcCB0aGlzICVz
IGludG8gJXMvPyBbWS9OXSAiLAo+ICsgICAgICAgICAgICAgICAgICAgICAgIFNfSVNSRUcoaW1v
ZGUpIHx8IFNfSVNMTksoaW1vZGUpID8gImZpbGUiIDogImZvbGRlciIsCj4gKyAgICAgICAgICAg
ICAgICAgICAgICAgYmFzZV9wYXRoKTsKPiAgICAgICAgIHJldCA9IHNjYW5mKCIlcyIsIGFucyk7
Cj4gICAgICAgICBBU1NFUlQocmV0ID49IDApOwo+Cj4gICAgICAgICBpZiAoIXN0cmNhc2VjbXAo
YW5zLCAieSIpKSB7Cj4gIGR1bXA6Cj4gLSAgICAgICAgICAgICAgIHJldCA9IHN5c3RlbSgibWtk
aXIgLXAgLi9sb3N0X2ZvdW5kIik7Cj4gLSAgICAgICAgICAgICAgIEFTU0VSVChyZXQgPj0gMCk7
Cj4gLQo+IC0gICAgICAgICAgICAgICAvKiBtYWtlIGEgZmlsZSAqLwo+IC0gICAgICAgICAgICAg
ICBzdHJuY3B5KG5hbWUsIChjb25zdCBjaGFyICopaW5vZGUtPmlfbmFtZSwgbmFtZWxlbik7Cj4g
LSAgICAgICAgICAgICAgIG5hbWVbbmFtZWxlbl0gPSAwOwo+IC0gICAgICAgICAgICAgICBzcHJp
bnRmKHBhdGgsICIuL2xvc3RfZm91bmQvJXMiLCBuYW1lKTsKPiArICAgICAgICAgICAgICAgaWYg
KGlzX2Jhc2UpIHsKPiArICAgICAgICAgICAgICAgICAgICAgICBBU1NFUlQoZ2V0Y3dkKHBhdGgs
IHNpemVvZihwYXRoKSkgIT0gTlVMTCk7Cj4gKyNpZiBkZWZpbmVkKF9fTUlOR1czMl9fKQo+ICsg
ICAgICAgICAgICAgICAgICAgICAgIHJldCA9IG1rZGlyKGJhc2VfcGF0aCk7Cj4gKyNlbHNlCj4g
KyAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gbWtkaXIoYmFzZV9wYXRoLCAwNzc3KTsKPiAr
I2VuZGlmCj4KPiAtICAgICAgICAgICAgICAgYy5kdW1wX2ZkID0gb3BlbihwYXRoLCBPX1RSVU5D
fE9fQ1JFQVR8T19SRFdSLCAwNjY2KTsKPiAtICAgICAgICAgICAgICAgQVNTRVJUKGMuZHVtcF9m
ZCA+PSAwKTsKPiArICAgICAgICAgICAgICAgICAgICAgICBBU1NFUlQocmV0ID09IDAgfHwgZXJy
bm8gPT0gRUVYSVNUKTsKPiArICAgICAgICAgICAgICAgICAgICAgICBBU1NFUlQoY2hkaXIoYmFz
ZV9wYXRoKSA9PSAwKTsKPiArICAgICAgICAgICAgICAgfQo+Cj4gLSAgICAgICAgICAgICAgIC8q
IGR1bXAgZmlsZSdzIGRhdGEgKi8KPiAtICAgICAgICAgICAgICAgZHVtcF9pbm9kZV9ibGsoc2Jp
LCBuaS0+aW5vLCBub2RlX2Jsayk7Cj4gKyAgICAgICAgICAgICAgIC8qIG1ha2UgYSBmaWxlICov
Cj4gKyAgICAgICAgICAgICAgIGlmICghaXNfcm9vdCkgewo+ICsgICAgICAgICAgICAgICAgICAg
ICAgIHN0cm5jcHkobmFtZSwgKGNvbnN0IGNoYXIgKilpbm9kZS0+aV9uYW1lLCBuYW1lbGVuKTsK
PiArICAgICAgICAgICAgICAgICAgICAgICBuYW1lW25hbWVsZW5dID0gMDsKPiArICAgICAgICAg
ICAgICAgfQo+Cj4gLSAgICAgICAgICAgICAgIC8qIGFkanVzdCBmaWxlIHNpemUgKi8KPiAtICAg
ICAgICAgICAgICAgcmV0ID0gZnRydW5jYXRlKGMuZHVtcF9mZCwgbGUzMl90b19jcHUoaW5vZGUt
Pmlfc2l6ZSkpOwo+IC0gICAgICAgICAgICAgICBBU1NFUlQocmV0ID49IDApOwo+ICsgICAgICAg
ICAgICAgICBpZiAoU19JU1JFRyhpbW9kZSkgfHwgU19JU0xOSyhpbW9kZSkpIHsKPiArICAgICAg
ICAgICAgICAgICAgICAgICBkdW1wX2ZpbGUoc2JpLCBuaSwgbm9kZV9ibGssIG5hbWUpOwo+ICsg
ICAgICAgICAgICAgICB9IGVsc2Ugewo+ICsgICAgICAgICAgICAgICAgICAgICAgIGR1bXBfZm9s
ZGVyKHNiaSwgbmksIG5vZGVfYmxrLCBuYW1lLCBpc19yb290KTsKPiArICAgICAgICAgICAgICAg
fQo+Cj4gLSAgICAgICAgICAgICAgIGNsb3NlKGMuZHVtcF9mZCk7Cj4gKyNpZiAhZGVmaW5lZChf
X01JTkdXMzJfXykKPiArICAgICAgICAgICAgICAgLyogZml4IHVwIG1vZGUvb3duZXIgKi8KPiAr
ICAgICAgICAgICAgICAgaWYgKGMucHJlc2VydmVfcGVybXMpIHsKPiArICAgICAgICAgICAgICAg
ICAgICAgICBpZiAoaXNfcm9vdCkKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0
cm5jcHkobmFtZSwgIi4iLCAyKTsKPiArICAgICAgICAgICAgICAgICAgICAgICBBU1NFUlQoY2ht
b2QobmFtZSwgaW1vZGUpID09IDApOwo+ICsgICAgICAgICAgICAgICAgICAgICAgIEFTU0VSVChj
aG93bihuYW1lLCBpbm9kZS0+aV91aWQsIGlub2RlLT5pX2dpZCkgPT0gMCk7Cj4gKyAgICAgICAg
ICAgICAgIH0KPiArI2VuZGlmCj4gKyAgICAgICAgICAgICAgIGlmIChpc19iYXNlKQo+ICsgICAg
ICAgICAgICAgICAgICAgICAgIEFTU0VSVChjaGRpcihwYXRoKSA9PSAwKTsKPiAgICAgICAgIH0K
PiAgICAgICAgIHJldHVybiAwOwo+ICB9Cj4gQEAgLTU4Miw3ICs2OTAsNyBAQCB2b2lkIGR1bXBf
bm9kZV9zY2FuX2Rpc2soc3RydWN0IGYyZnNfc2JfaW5mbyAqc2JpLCBuaWRfdCBuaWQpCj4gICAg
ICAgICBmcmVlKG5vZGVfYmxrKTsKPiAgfQo+Cj4gLWludCBkdW1wX25vZGUoc3RydWN0IGYyZnNf
c2JfaW5mbyAqc2JpLCBuaWRfdCBuaWQsIGludCBmb3JjZSkKPiAraW50IGR1bXBfbm9kZShzdHJ1
Y3QgZjJmc19zYl9pbmZvICpzYmksIG5pZF90IG5pZCwgaW50IGZvcmNlLCBjaGFyICpiYXNlX3Bh
dGgsIGludCBiYXNlLCBpbnQgYWxsb3dfZm9sZGVyKQo+ICB7Cj4gICAgICAgICBzdHJ1Y3Qgbm9k
ZV9pbmZvIG5pOwo+ICAgICAgICAgc3RydWN0IGYyZnNfbm9kZSAqbm9kZV9ibGs7Cj4gQEAgLTYx
Nyw3ICs3MjUsNyBAQCBpbnQgZHVtcF9ub2RlKHN0cnVjdCBmMmZzX3NiX2luZm8gKnNiaSwgbmlk
X3QgbmlkLCBpbnQgZm9yY2UpCj4gICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnRfbm9kZV9p
bmZvKHNiaSwgbm9kZV9ibGssIGZvcmNlKTsKPgo+ICAgICAgICAgICAgICAgICBpZiAobmkuaW5v
ID09IG5pLm5pZCkKPiAtICAgICAgICAgICAgICAgICAgICAgICByZXQgPSBkdW1wX2ZpbGUoc2Jp
LCAmbmksIG5vZGVfYmxrLCBmb3JjZSk7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0g
ZHVtcF9maWxlc3lzdGVtKHNiaSwgJm5pLCBub2RlX2JsaywgZm9yY2UsIGJhc2VfcGF0aCwgYmFz
ZSwgYWxsb3dfZm9sZGVyKTsKPiAgICAgICAgIH0gZWxzZSB7Cj4gICAgICAgICAgICAgICAgIHBy
aW50X25vZGVfaW5mbyhzYmksIG5vZGVfYmxrLCBmb3JjZSk7Cj4gICAgICAgICAgICAgICAgIE1T
Ryhmb3JjZSwgIkludmFsaWQgKGkpbm9kZSBibG9ja1xuXG4iKTsKPiBkaWZmIC0tZ2l0IGEvZnNj
ay9mc2NrLmMgYi9mc2NrL2ZzY2suYwo+IGluZGV4IDVkMzQ1ZDAuLjc0MDBkY2YgMTAwNjQ0Cj4g
LS0tIGEvZnNjay9mc2NrLmMKPiArKysgYi9mc2NrL2ZzY2suYwo+IEBAIC0xNjUxLDcgKzE2NTEs
NyBAQCBzdGF0aWMgdm9pZCBwcmludF9kZW50cnkoc3RydWN0IGYyZnNfc2JfaW5mbyAqc2JpLCBf
X3U4ICpuYW1lLAo+ICAgICAgICAgICAgICAgICAgICAgICAgIGQgPSBkLT5uZXh0Owo+ICAgICAg
ICAgICAgICAgICB9Cj4gICAgICAgICAgICAgICAgIHByaW50ZigiLyVzIiwgbmV3KTsKPiAtICAg
ICAgICAgICAgICAgaWYgKGR1bXBfbm9kZShzYmksIGxlMzJfdG9fY3B1KGRlbnRyeVtpZHhdLmlu
byksIDApKQo+ICsgICAgICAgICAgICAgICBpZiAoZHVtcF9ub2RlKHNiaSwgbGUzMl90b19jcHUo
ZGVudHJ5W2lkeF0uaW5vKSwgMCwgTlVMTCwgMCwgMCkpCj4gICAgICAgICAgICAgICAgICAgICAg
ICAgcHJpbnRmKCJcMzNbMktcciIpOwo+ICAgICAgICAgfSBlbHNlIHsKPiAgICAgICAgICAgICAg
ICAgZm9yIChpID0gMTsgaSA8IGRlcHRoOyBpKyspCj4gQEAgLTM2MzIsNyArMzYzMiw3IEBAIGlu
dCBmc2NrX3ZlcmlmeShzdHJ1Y3QgZjJmc19zYl9pbmZvICpzYmkpCj4gICAgICAgICAgICAgICAg
IGlmICghc3RyY2FzZWNtcChhbnMsICJ5IikpIHsKPiAgICAgICAgICAgICAgICAgICAgICAgICBm
b3IgKGkgPSAwOyBpIDwgZnNjay0+bnJfbmF0X2VudHJpZXM7IGkrKykgewo+ICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgaWYgKGYyZnNfdGVzdF9iaXQoaSwgZnNjay0+bmF0X2FyZWFf
Yml0bWFwKSkKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVtcF9u
b2RlKHNiaSwgaSwgMSk7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IGR1bXBfbm9kZShzYmksIGksIDEsIE5VTEwsIDEsIDApOwo+ICAgICAgICAgICAgICAgICAgICAg
ICAgIH0KPiAgICAgICAgICAgICAgICAgfQo+ICAgICAgICAgfQo+IGRpZmYgLS1naXQgYS9mc2Nr
L2ZzY2suaCBiL2ZzY2svZnNjay5oCj4gaW5kZXggZjUyODJlMi4uNmNhYzkyNiAxMDA2NDQKPiAt
LS0gYS9mc2NrL2ZzY2suaAo+ICsrKyBiL2ZzY2svZnNjay5oCj4gQEAgLTI3MCwxMiArMjcwLDE0
IEBAIHN0cnVjdCBkdW1wX29wdGlvbiB7Cj4gICAgICAgICBpbnQgZW5kX3NzYTsKPiAgICAgICAg
IGludDMyX3QgYmxrX2FkZHI7Cj4gICAgICAgICBuaWRfdCBzY2FuX25pZDsKPiArICAgICAgIGlu
dCB1c2Vfcm9vdF9uaWQ7Cj4gKyAgICAgICBjaGFyICpiYXNlX3BhdGg7Cj4gIH07Cj4KPiAgZXh0
ZXJuIHZvaWQgbmF0X2R1bXAoc3RydWN0IGYyZnNfc2JfaW5mbyAqLCBuaWRfdCwgbmlkX3QpOwo+
ICBleHRlcm4gdm9pZCBzaXRfZHVtcChzdHJ1Y3QgZjJmc19zYl9pbmZvICosIHVuc2lnbmVkIGlu
dCwgdW5zaWduZWQgaW50KTsKPiAgZXh0ZXJuIHZvaWQgc3NhX2R1bXAoc3RydWN0IGYyZnNfc2Jf
aW5mbyAqLCBpbnQsIGludCk7Cj4gLWV4dGVybiBpbnQgZHVtcF9ub2RlKHN0cnVjdCBmMmZzX3Ni
X2luZm8gKiwgbmlkX3QsIGludCk7Cj4gK2V4dGVybiBpbnQgZHVtcF9ub2RlKHN0cnVjdCBmMmZz
X3NiX2luZm8gKiwgbmlkX3QsIGludCwgY2hhciAqLCBpbnQsIGludCk7Cj4gIGV4dGVybiBpbnQg
ZHVtcF9pbmZvX2Zyb21fYmxrYWRkcihzdHJ1Y3QgZjJmc19zYl9pbmZvICosIHUzMik7Cj4gIGV4
dGVybiB1bnNpZ25lZCBpbnQgc3RhcnRfYmlkeF9vZl9ub2RlKHVuc2lnbmVkIGludCwgc3RydWN0
IGYyZnNfbm9kZSAqKTsKPiAgZXh0ZXJuIHZvaWQgZHVtcF9ub2RlX3NjYW5fZGlzayhzdHJ1Y3Qg
ZjJmc19zYl9pbmZvICpzYmksIG5pZF90IG5pZCk7Cj4gZGlmZiAtLWdpdCBhL2ZzY2svbWFpbi5j
IGIvZnNjay9tYWluLmMKPiBpbmRleCBjNGQwOTU2Li42ZWRjOTAyIDEwMDY0NAo+IC0tLSBhL2Zz
Y2svbWFpbi5jCj4gKysrIGIvZnNjay9tYWluLmMKPiBAQCAtMzQsNyArMzQsNyBAQCBzdHJ1Y3Qg
ZjJmc19mc2NrIGdmc2NrOwo+Cj4gIElOSVRfRkVBVFVSRV9UQUJMRTsKPgo+IC0jaWZkZWYgV0lU
SF9TTE9BRAo+ICsjaWYgZGVmaW5lZChXSVRIX1NMT0FEKSB8fCBkZWZpbmVkKFdJVEhfRFVNUCkK
PiAgc3RhdGljIGNoYXIgKmFic29sdXRlX3BhdGgoY29uc3QgY2hhciAqZmlsZSkKPiAgewo+ICAg
ICAgICAgY2hhciAqcmV0Owo+IEBAIC0zODQsNyArMzg0LDcgQEAgdm9pZCBmMmZzX3BhcnNlX29w
dGlvbnMoaW50IGFyZ2MsIGNoYXIgKmFyZ3ZbXSkKPiAgICAgICAgICAgICAgICAgfQo+ICAgICAg
ICAgfSBlbHNlIGlmICghc3RyY21wKCJkdW1wLmYyZnMiLCBwcm9nKSkgewo+ICAjaWZkZWYgV0lU
SF9EVU1QCj4gLSAgICAgICAgICAgICAgIGNvbnN0IGNoYXIgKm9wdGlvbl9zdHJpbmcgPSAiZDpp
Okk6bjpNczpTYTpiOlYiOwo+ICsgICAgICAgICAgICAgICBjb25zdCBjaGFyICpvcHRpb25fc3Ry
aW5nID0gImQ6Zmk6STpuOk1vOlByczpTYTpiOlZ5IjsKPiAgICAgICAgICAgICAgICAgc3RhdGlj
IHN0cnVjdCBkdW1wX29wdGlvbiBkdW1wX29wdCA9IHsKPiAgICAgICAgICAgICAgICAgICAgICAg
ICAubmlkID0gMCwgICAgICAgLyogZGVmYXVsdCByb290IGlubyAqLwo+ICAgICAgICAgICAgICAg
ICAgICAgICAgIC5zdGFydF9uYXQgPSAtMSwKPiBAQCAtMzk1LDYgKzM5NSw4IEBAIHZvaWQgZjJm
c19wYXJzZV9vcHRpb25zKGludCBhcmdjLCBjaGFyICphcmd2W10pCj4gICAgICAgICAgICAgICAg
ICAgICAgICAgLmVuZF9zc2EgPSAtMSwKPiAgICAgICAgICAgICAgICAgICAgICAgICAuYmxrX2Fk
ZHIgPSAtMSwKPiAgICAgICAgICAgICAgICAgICAgICAgICAuc2Nhbl9uaWQgPSAwLAo+ICsgICAg
ICAgICAgICAgICAgICAgICAgIC51c2Vfcm9vdF9uaWQgPSAwLAo+ICsgICAgICAgICAgICAgICAg
ICAgICAgIC5iYXNlX3BhdGggPSBOVUxMLAo+ICAgICAgICAgICAgICAgICB9Owo+Cj4gICAgICAg
ICAgICAgICAgIGMuZnVuYyA9IERVTVA7Cj4gQEAgLTQ1Niw2ICs0NTgsMjQgQEAgdm9pZCBmMmZz
X3BhcnNlX29wdGlvbnMoaW50IGFyZ2MsIGNoYXIgKmFyZ3ZbXSkKPiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gc3NjYW5mKG9wdGFyZywgIiV4IiwKPiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZkdW1w
X29wdC5ibGtfYWRkcik7Cj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsK
PiArICAgICAgICAgICAgICAgICAgICAgICBjYXNlICd5JzoKPiArICAgICAgICAgICAgICAgICAg
ICAgICBjYXNlICdmJzoKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMuZm9yY2Ug
PSAxOwo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7Cj4gKyAgICAgICAg
ICAgICAgICAgICAgICAgY2FzZSAncic6Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBkdW1wX29wdC51c2Vfcm9vdF9uaWQgPSAxOwo+ICsgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgYnJlYWs7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnbyc6Cj4gKyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBkdW1wX29wdC5iYXNlX3BhdGggPSBhYnNvbHV0ZV9w
YXRoKG9wdGFyZyk7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKPiAr
ICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdQJzoKPiArI2lmIGRlZmluZWQoX19NSU5HVzMy
X18pCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNU0coMCwgIi1QIG5vdCBzdXBw
b3J0ZWQgZm9yIFdpbmRvd3NcbiIpOwo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ZXJyID0gRVdST05HX09QVDsKPiArI2Vsc2UKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIGMucHJlc2VydmVfcGVybXMgPSAxOwo+ICsjZW5kaWYKPiArICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIGJyZWFrOwo+ICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1YnOgo+
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd192ZXJzaW9uKHByb2cpOwo+ICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpdCgwKTsKPiBAQCAtOTE0LDYgKzkzNCw5
IEBAIHN0YXRpYyB2b2lkIGRvX2R1bXAoc3RydWN0IGYyZnNfc2JfaW5mbyAqc2JpKQo+ICAgICAg
ICAgc3RydWN0IGYyZnNfY2hlY2twb2ludCAqY2twdCA9IEYyRlNfQ0tQVChzYmkpOwo+ICAgICAg
ICAgdTMyIGZsYWcgPSBsZTMyX3RvX2NwdShja3B0LT5ja3B0X2ZsYWdzKTsKPgo+ICsgICAgICAg
aWYgKG9wdC0+dXNlX3Jvb3RfbmlkKQo+ICsgICAgICAgICAgICAgICBvcHQtPm5pZCA9IHNiaS0+
cm9vdF9pbm9fbnVtOwo+ICsKPiAgICAgICAgIGlmIChvcHQtPmVuZF9uYXQgPT0gLTEpCj4gICAg
ICAgICAgICAgICAgIG9wdC0+ZW5kX25hdCA9IE5NX0koc2JpKS0+bWF4X25pZDsKPiAgICAgICAg
IGlmIChvcHQtPmVuZF9zaXQgPT0gLTEpCj4gQEAgLTkyOSw3ICs5NTIsNyBAQCBzdGF0aWMgdm9p
ZCBkb19kdW1wKHN0cnVjdCBmMmZzX3NiX2luZm8gKnNiaSkKPiAgICAgICAgIGlmIChvcHQtPmJs
a19hZGRyICE9IC0xKQo+ICAgICAgICAgICAgICAgICBkdW1wX2luZm9fZnJvbV9ibGthZGRyKHNi
aSwgb3B0LT5ibGtfYWRkcik7Cj4gICAgICAgICBpZiAob3B0LT5uaWQpCj4gLSAgICAgICAgICAg
ICAgIGR1bXBfbm9kZShzYmksIG9wdC0+bmlkLCAwKTsKPiArICAgICAgICAgICAgICAgZHVtcF9u
b2RlKHNiaSwgb3B0LT5uaWQsIGMuZm9yY2UsIG9wdC0+YmFzZV9wYXRoLCAxLCAxKTsKPiAgICAg
ICAgIGlmIChvcHQtPnNjYW5fbmlkKQo+ICAgICAgICAgICAgICAgICBkdW1wX25vZGVfc2Nhbl9k
aXNrKHNiaSwgb3B0LT5zY2FuX25pZCk7Cj4KPiBkaWZmIC0tZ2l0IGEvbWFuL2R1bXAuZjJmcy44
IGIvbWFuL2R1bXAuZjJmcy44Cj4gaW5kZXggOTRiZjVmMy4uNjBkNjc4MyAxMDA2NDQKPiAtLS0g
YS9tYW4vZHVtcC5mMmZzLjgKPiArKysgYi9tYW4vZHVtcC5mMmZzLjgKPiBAQCAtNDQsNyArNDQs
OCBAQCBpcyB1c2VkIHRvIHJldHJpZXZlIGYyZnMgbWV0YWRhdGEgKHVzdWFsbHkgaW4gYSBkaXNr
IHBhcnRpdGlvbikuCj4gIFxmSWRldmljZVxmUCBpcyB0aGUgc3BlY2lhbCBmaWxlIGNvcnJlc3Bv
bmRpbmcgdG8gdGhlIGRldmljZSAoZS5nLgo+ICBcZkkvZGV2L3NkWFhcZlApLgo+Cj4gLUN1cnJl
bnRseSwgaXQgY2FuIHJldHJpZXZlIDEpIGEgZmlsZSBnaXZlbiBpdHMgaW5vZGUgbnVtYmVyLCAy
KSBOQVQKPiArQ3VycmVudGx5LCBpdCBjYW4gcmV0cmlldmUgMSkgYSBmaWxlIG9yIGZvbGRlciBn
aXZlbiBpdHMgaW5vZGUgbnVtYmVyCj4gKyhmb2xkZXJzIGFyZSBkdW1wZWQgcmVjdXJzaXZlbHkp
LCAyKSBOQVQKPiAgZW50cmllcyBpbnRvIGEgZmlsZSwgMykgU0lUIGVudHJpZXMgaW50byBhIGZp
bGUsIDQpIFNTQSBlbnRyaWVzIGludG8KPiAgYSBmaWxlLCA1KSByZXZlcnNlIGluZm9ybWF0aW9u
IGZyb20gdGhlIGdpdmVuIGJsb2NrIGFkZHJlc3MuCj4gIC5QUAo+IEBAIC01Niw2ICs1NywyMCBA
QCBpcyAwIG9uIHN1Y2Nlc3MgYW5kIC0xIG9uIGZhaWx1cmUuCj4gIC5CSSBcLWkgIiBpbm9kZSBu
dW1iZXIiCj4gIFNwZWNpZnkgYW4gaW5vZGUgbnVtYmVyIHRvIGR1bXAgb3V0Lgo+ICAuVFAKPiAr
LkJJIFwtcgo+ICtEdW1wIG91dCBmcm9tIHRoZSByb290IGlub2RlLgo+ICsuVFAKPiArLkJJIFwt
Zgo+ICtEbyBub3QgcHJvbXB0IGJlZm9yZSBkdW1waW5nCj4gKy5UUAo+ICsuQkkgXC15Cj4gK0Fs
aWFzIGZvciBcLWYKPiArLlRQCj4gKy5CSSBcLW8gIiBwYXRoIgo+ICtEdW1wIGlub2RlcyB0byB0
aGUgZ2l2ZW4gcGF0aAo+ICsuQkkgXC1QCj4gK1ByZXNlcnZlIG1vZGUvb3duZXIvZ3JvdXAgZm9y
IGR1bXBlZCBpbm9kZQo+ICsuVFAKPiAgLkJJIFwtSSAiIGlub2RlIG51bWJlciIKPiAgU3BlY2lm
eSBhbiBpbm9kZSBudW1iZXIgYW5kIHNjYW4gZnVsbCBkaXNrIHRvIGR1bXAgb3V0LCBpbmNsdWRl
IGhpc3RvcnkgaW5vZGUgYmxvY2sKPiAgLlRQCj4KPiBiYXNlLWNvbW1pdDogNWRhNGU1MjQxNTAz
YjM4NWU0YTdlNzViMWIyYmIzMzY3YjM4YmU5Ngo+IC0tCj4gMi40NS4xLjI4OC5nMGUwY2QyOTlm
MS1nb29nCj4KPgoKUmV2aWV3ZWQtYnk6IERhZWhvIEplb25nIDxkYWVob2plb25nQGdvb2dsZS5j
b20+CgpUaGFua3MsCgo+Cj4gX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX18KPiBMaW51eC1mMmZzLWRldmVsIG1haWxpbmcgbGlzdAo+IExpbnV4LWYyZnMtZGV2
ZWxAbGlzdHMuc291cmNlZm9yZ2UubmV0Cj4gaHR0cHM6Ly9saXN0cy5zb3VyY2Vmb3JnZS5uZXQv
bGlzdHMvbGlzdGluZm8vbGludXgtZjJmcy1kZXZlbAoKCl9fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fCkxpbnV4LWYyZnMtZGV2ZWwgbWFpbGluZyBsaXN0Ckxp
bnV4LWYyZnMtZGV2ZWxAbGlzdHMuc291cmNlZm9yZ2UubmV0Cmh0dHBzOi8vbGlzdHMuc291cmNl
Zm9yZ2UubmV0L2xpc3RzL2xpc3RpbmZvL2xpbnV4LWYyZnMtZGV2ZWwK
