Return-Path: <linux-f2fs-devel-bounces@lists.sourceforge.net>
X-Original-To: lists+linux-f2fs-devel@lfdr.de
Delivered-To: lists+linux-f2fs-devel@lfdr.de
Received: from lists.sourceforge.net (lists.sourceforge.net [216.105.38.7])
	by mail.lfdr.de (Postfix) with ESMTPS id D2CEC9BFFB8
	for <lists+linux-f2fs-devel@lfdr.de>; Thu,  7 Nov 2024 09:09:43 +0100 (CET)
Received: from [127.0.0.1] (helo=sfs-ml-1.v29.lw.sourceforge.com)
	by sfs-ml-1.v29.lw.sourceforge.com with esmtp (Exim 4.95)
	(envelope-from <linux-f2fs-devel-bounces@lists.sourceforge.net>)
	id 1t8xa8-0005DG-RR;
	Thu, 07 Nov 2024 08:09:33 +0000
Received: from [172.30.29.66] (helo=mx.sourceforge.net)
 by sfs-ml-1.v29.lw.sourceforge.com with esmtps (TLS1.2) tls
 TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 (Exim 4.95)
 (envelope-from <chao@kernel.org>) id 1t8xa6-0005CR-H1
 for linux-f2fs-devel@lists.sourceforge.net;
 Thu, 07 Nov 2024 08:09:31 +0000
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed;
 d=sourceforge.net; s=x; h=Content-Transfer-Encoding:Content-Type:In-Reply-To:
 From:References:To:Subject:Cc:MIME-Version:Date:Message-ID:Sender:Reply-To:
 Content-ID:Content-Description:Resent-Date:Resent-From:Resent-Sender:
 Resent-To:Resent-Cc:Resent-Message-ID:List-Id:List-Help:List-Unsubscribe:
 List-Subscribe:List-Post:List-Owner:List-Archive;
 bh=MhKwwst9EO+Ex3JYuM2NiW6YE46OAXlEfjsnU9Fz2h8=; b=kLgA5yhHdCxkCop71PdAq7Bf8L
 /1lT5SysMpBxdrOMdwphj2uuwOjQ/LG1kYVeifEcULmBB4Doq01lujGpMOiRc+4ues7lILBZyyWBm
 y0Y96UItOi0duAdQ9pt6JtuytKy9oS30dQeclC58xEoRaVYW9l9m7n+5U7sQDY3UsOhA=;
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=sf.net; s=x
 ;
 h=Content-Transfer-Encoding:Content-Type:In-Reply-To:From:References:To:
 Subject:Cc:MIME-Version:Date:Message-ID:Sender:Reply-To:Content-ID:
 Content-Description:Resent-Date:Resent-From:Resent-Sender:Resent-To:Resent-Cc
 :Resent-Message-ID:List-Id:List-Help:List-Unsubscribe:List-Subscribe:
 List-Post:List-Owner:List-Archive;
 bh=MhKwwst9EO+Ex3JYuM2NiW6YE46OAXlEfjsnU9Fz2h8=; b=AKvYABafUUYVYCFeyPYLOdrQD1
 /i8Hv+Dz9j0UO56VSZQGggZ7SAQp1rbDAdTzCVgNVkkWLuDTCqk36QMTmxhdj6fjt2wHBa3F4JJ/2
 02Ccwn6UNg3BBkUgGLyRR0Ya+m8TabZtXLzuGv0NZrZEmzznSQZaYl4NF9hPErvlYAps=;
Received: from nyc.source.kernel.org ([147.75.193.91])
 by sfi-mx-2.v28.lw.sourceforge.com with esmtps
 (TLS1.2:ECDHE-RSA-AES256-GCM-SHA384:256) (Exim 4.95)
 id 1t8xa6-0005Lg-8F for linux-f2fs-devel@lists.sourceforge.net;
 Thu, 07 Nov 2024 08:09:31 +0000
Received: from smtp.kernel.org (transwarp.subspace.kernel.org [100.75.92.58])
 by nyc.source.kernel.org (Postfix) with ESMTP id A4034A42924;
 Thu,  7 Nov 2024 08:07:29 +0000 (UTC)
Received: by smtp.kernel.org (Postfix) with ESMTPSA id BE41DC4CECC;
 Thu,  7 Nov 2024 08:09:22 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
 s=k20201202; t=1730966964;
 bh=OJ4qKLhDnrQM+7VYMQsTUZS7sbbVTE531znMDXJYjcE=;
 h=Date:Cc:Subject:To:References:From:In-Reply-To:From;
 b=q1FOwYpWAIzDL9xpdnx9IAIepNGIMajpBNJWw5og933jGPw9afWUFLtakb7XPevFu
 bnhiGqDFwrQkhRmGjVjkcZQ6iK4I+D6DPdtJ1clnVG/9JD5MJOJ4x9l4nHGRYTTzSK
 DdOZpF9FlIsChvhBPgmnbvobYKzuoWkt6omtVZ3TjuEtLWcJkmVcxqmz2aUEm9lP4m
 x+TxoKpep2II94mwUAmS5yQylvmLDxzxtMFoLHsXakEYZzOIiMQ2h6d73FTT964JOK
 OQw60+7jVNh94feQaNSlV0+nlZSoCZ7xMo1gyrQXbsnVZHgPjtr5WGKqXw1sSXqr/i
 2IdwrCbIGUIIQ==
Message-ID: <3f5de1be-43a0-469f-837c-15c61297c823@kernel.org>
Date: Thu, 7 Nov 2024 16:09:20 +0800
MIME-Version: 1.0
User-Agent: Mozilla Thunderbird
To: Zhiguo Niu <niuzhiguo84@gmail.com>
References: <20241107014602.3638020-1-chao@kernel.org>
 <CAHJ8P3LUTz9XGji5Xa2Jy-KeSuaG9HhtDhxz_aM1hE=-K+zsGw@mail.gmail.com>
Content-Language: en-US
In-Reply-To: <CAHJ8P3LUTz9XGji5Xa2Jy-KeSuaG9HhtDhxz_aM1hE=-K+zsGw@mail.gmail.com>
X-Spam-Score: -0.5 (/)
X-Spam-Report: Spam detection software, running on the system "util-spamd-2.v13.lw.sourceforge.com",
 has NOT identified this incoming email as spam.  The original
 message has been attached to this so you can view it or label
 similar future email.  If you have any questions, see
 the administrator of that system for details.
 
 Content preview:  On 2024/11/7 11:19, Zhiguo Niu wrote: > Chao Yu via Linux-f2fs-devel
    <linux-f2fs-devel@lists.sourceforge.net> > 于2024年11月7日周四 09:50写道：
    >> >> f2fs doesn't support different blksize in [...] 
 
 Content analysis details:   (-0.5 points, 6.0 required)
 
  pts rule name              description
 ---- ---------------------- --------------------------------------------------
 -0.0 SPF_PASS               SPF: sender matches SPF record
  0.0 SPF_HELO_NONE          SPF: HELO does not publish an SPF Record
 -0.1 DKIM_VALID_EF          Message has a valid DKIM or DK signature from
                             envelope-from domain
 -0.1 DKIM_VALID             Message has at least one valid DKIM or DK signature
  0.1 DKIM_SIGNED            Message has a DKIM or DK signature, not necessarily
                             valid
 -0.1 DKIM_VALID_AU          Message has a valid DKIM or DK signature from
                             author's domain
 -0.3 DKIMWL_WL_HIGH         DKIMwl.org - High trust sender
X-Headers-End: 1t8xa6-0005Lg-8F
Subject: Re: [f2fs-dev] [PATCH] f2fs: clean up w/ F2FS_{BLK_TO_BYTES,
 BTYES_TO_BLK}
X-BeenThere: linux-f2fs-devel@lists.sourceforge.net
X-Mailman-Version: 2.1.21
Precedence: list
List-Id: <linux-f2fs-devel.lists.sourceforge.net>
List-Unsubscribe: <https://lists.sourceforge.net/lists/options/linux-f2fs-devel>, 
 <mailto:linux-f2fs-devel-request@lists.sourceforge.net?subject=unsubscribe>
List-Archive: <http://sourceforge.net/mailarchive/forum.php?forum_name=linux-f2fs-devel>
List-Post: <mailto:linux-f2fs-devel@lists.sourceforge.net>
List-Help: <mailto:linux-f2fs-devel-request@lists.sourceforge.net?subject=help>
List-Subscribe: <https://lists.sourceforge.net/lists/listinfo/linux-f2fs-devel>, 
 <mailto:linux-f2fs-devel-request@lists.sourceforge.net?subject=subscribe>
From: Chao Yu via Linux-f2fs-devel <linux-f2fs-devel@lists.sourceforge.net>
Reply-To: Chao Yu <chao@kernel.org>
Cc: jaegeuk@kernel.org, linux-f2fs-devel@lists.sourceforge.net,
 Zhiguo Niu <zhiguo.niu@unisoc.com>, linux-kernel@vger.kernel.org
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: linux-f2fs-devel-bounces@lists.sourceforge.net

T24gMjAyNC8xMS83IDExOjE5LCBaaGlndW8gTml1IHdyb3RlOgo+IENoYW8gWXUgdmlhIExpbnV4
LWYyZnMtZGV2ZWwgPGxpbnV4LWYyZnMtZGV2ZWxAbGlzdHMuc291cmNlZm9yZ2UubmV0Pgo+IOS6
jjIwMjTlubQxMeaciDfml6Xlkajlm5sgMDk6NTDlhpnpgZPvvJoKPj4KPj4gZjJmcyBkb2Vzbid0
IHN1cHBvcnQgZGlmZmVyZW50IGJsa3NpemUgaW4gb25lIGluc3RhbmNlLCBzbwo+PiBieXRlc190
b19ibGtzKCkgYW5kIGJsa3NfdG9fYnl0ZXMoKSBhcmUgZXF1YWwgdG8gRjJGU19CWVRFU19UT19C
TEsKPj4gYW5kIEYyRlNfQkxLX1RPX0JZVEVTLCBsZXQncyB1c2UgRjJGU19CWVRFU19UT19CTEsv
RjJGU19CTEtfVE9fQllURVMKPj4gaW5zdGVhZCBmb3IgY2xlYW51cC4KPj4KPj4gUmVwb3J0ZWQt
Ynk6IFpoaWd1byBOaXUgPHpoaWd1by5uaXVAdW5pc29jLmNvbT4KPj4gU2lnbmVkLW9mZi1ieTog
Q2hhbyBZdSA8Y2hhb0BrZXJuZWwub3JnPgo+IGZlZWwgZnJlZSB0byBhZGQ6Cj4gUmV2aWV3ZWQt
Ynk6IFpoaWd1byBOaXUgPHpoaWd1by5uaXVAdW5pc29jLmNvbT4KCkkgZW5jb3VudGVyIGZpbGVz
eXN0ZW0gY29ycnVwdGlvbiB3LyB0aGlzIHBhdGNoIHdoaWxlIHRlc3RpbmcgZ2VuZXJpYy8wNTEs
CnNpbmNlIHdlIG1pc3NlZCB0byBjYXN0IGJ5dGVzL2JsayBhcmd1bWVudCB0byB1bnNpZ25lZCBs
b25nIGxvbmcgdHlwZS4KCi0jZGVmaW5lIEYyRlNfQllURVNfVE9fQkxLKGJ5dGVzKQkoKGJ5dGVz
KSA+PiBGMkZTX0JMS1NJWkVfQklUUykKLSNkZWZpbmUgRjJGU19CTEtfVE9fQllURVMoYmxrKQkJ
KChibGspIDw8IEYyRlNfQkxLU0laRV9CSVRTKQorI2RlZmluZSBGMkZTX0JZVEVTX1RPX0JMSyhi
eXRlcykJKCh1bnNpZ25lZCBsb25nIGxvbmcpKGJ5dGVzKSA+PiBGMkZTX0JMS1NJWkVfQklUUykK
KyNkZWZpbmUgRjJGU19CTEtfVE9fQllURVMoYmxrKQkJKCh1bnNpZ25lZCBsb25nIGxvbmcpKGJs
aykgPDwgRjJGU19CTEtTSVpFX0JJVFMpCgpXaWxsIGZpeCB0aGlzIGluIGEgc2VwYXJhdGUgcGF0
Y2guCgpUaGFua3MsCgo+IHRoYW5rcyEKPj4gLS0tCj4+ICAgZnMvZjJmcy9kYXRhLmMgfCA2OCAr
KysrKysrKysrKysrKysrKysrKystLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQo+PiAgIDEg
ZmlsZSBjaGFuZ2VkLCAyOSBpbnNlcnRpb25zKCspLCAzOSBkZWxldGlvbnMoLSkKPj4KPj4gZGlm
ZiAtLWdpdCBhL2ZzL2YyZnMvZGF0YS5jIGIvZnMvZjJmcy9kYXRhLmMKPj4gaW5kZXggYjMzYWNh
MjRiOWVmLi4wZTgzOTBjYmRiNWIgMTAwNjQ0Cj4+IC0tLSBhL2ZzL2YyZnMvZGF0YS5jCj4+ICsr
KyBiL2ZzL2YyZnMvZGF0YS5jCj4+IEBAIC0xODE5LDE2ICsxODE5LDYgQEAgYm9vbCBmMmZzX292
ZXJ3cml0ZV9pbyhzdHJ1Y3QgaW5vZGUgKmlub2RlLCBsb2ZmX3QgcG9zLCBzaXplX3QgbGVuKQo+
PiAgICAgICAgICByZXR1cm4gdHJ1ZTsKPj4gICB9Cj4+Cj4+IC1zdGF0aWMgaW5saW5lIHU2NCBi
eXRlc190b19ibGtzKHN0cnVjdCBpbm9kZSAqaW5vZGUsIHU2NCBieXRlcykKPj4gLXsKPj4gLSAg
ICAgICByZXR1cm4gKGJ5dGVzID4+IGlub2RlLT5pX2Jsa2JpdHMpOwo+PiAtfQo+PiAtCj4+IC1z
dGF0aWMgaW5saW5lIHU2NCBibGtzX3RvX2J5dGVzKHN0cnVjdCBpbm9kZSAqaW5vZGUsIHU2NCBi
bGtzKQo+PiAtewo+PiAtICAgICAgIHJldHVybiAoYmxrcyA8PCBpbm9kZS0+aV9ibGtiaXRzKTsK
Pj4gLX0KPj4gLQo+PiAgIHN0YXRpYyBpbnQgZjJmc194YXR0cl9maWVtYXAoc3RydWN0IGlub2Rl
ICppbm9kZSwKPj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGZpZW1h
cF9leHRlbnRfaW5mbyAqZmllaW5mbykKPj4gICB7Cj4+IEBAIC0xODU0LDcgKzE4NDQsNyBAQCBz
dGF0aWMgaW50IGYyZnNfeGF0dHJfZmllbWFwKHN0cnVjdCBpbm9kZSAqaW5vZGUsCj4+ICAgICAg
ICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXJyOwo+PiAgICAgICAgICAgICAgICAgIH0KPj4K
Pj4gLSAgICAgICAgICAgICAgIHBoeXMgPSBibGtzX3RvX2J5dGVzKGlub2RlLCBuaS5ibGtfYWRk
cik7Cj4+ICsgICAgICAgICAgICAgICBwaHlzID0gRjJGU19CTEtfVE9fQllURVMobmkuYmxrX2Fk
ZHIpOwo+PiAgICAgICAgICAgICAgICAgIG9mZnNldCA9IG9mZnNldG9mKHN0cnVjdCBmMmZzX2lu
b2RlLCBpX2FkZHIpICsKPj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBzaXplb2YoX19sZTMyKSAqIChERUZfQUREUlNfUEVSX0lOT0RFIC0KPj4gICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRfaW5saW5lX3hhdHRyX2FkZHJzKGlub2Rl
KSk7Cj4+IEBAIC0xODg2LDcgKzE4NzYsNyBAQCBzdGF0aWMgaW50IGYyZnNfeGF0dHJfZmllbWFw
KHN0cnVjdCBpbm9kZSAqaW5vZGUsCj4+ICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4g
ZXJyOwo+PiAgICAgICAgICAgICAgICAgIH0KPj4KPj4gLSAgICAgICAgICAgICAgIHBoeXMgPSBi
bGtzX3RvX2J5dGVzKGlub2RlLCBuaS5ibGtfYWRkcik7Cj4+ICsgICAgICAgICAgICAgICBwaHlz
ID0gRjJGU19CTEtfVE9fQllURVMobmkuYmxrX2FkZHIpOwo+PiAgICAgICAgICAgICAgICAgIGxl
biA9IGlub2RlLT5pX3NiLT5zX2Jsb2Nrc2l6ZTsKPj4KPj4gICAgICAgICAgICAgICAgICBmMmZz
X3B1dF9wYWdlKHBhZ2UsIDEpOwo+PiBAQCAtMTk0OCwxNiArMTkzOCwxNiBAQCBpbnQgZjJmc19m
aWVtYXAoc3RydWN0IGlub2RlICppbm9kZSwgc3RydWN0IGZpZW1hcF9leHRlbnRfaW5mbyAqZmll
aW5mbywKPj4gICAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8gb3V0Owo+PiAgICAgICAgICB9
Cj4+Cj4+IC0gICAgICAgaWYgKGJ5dGVzX3RvX2Jsa3MoaW5vZGUsIGxlbikgPT0gMCkKPj4gLSAg
ICAgICAgICAgICAgIGxlbiA9IGJsa3NfdG9fYnl0ZXMoaW5vZGUsIDEpOwo+PiArICAgICAgIGlm
IChGMkZTX0JZVEVTX1RPX0JMSyhsZW4pID09IDApCj4+ICsgICAgICAgICAgICAgICBsZW4gPSBG
MkZTX0JMS1NJWkU7Cj4+Cj4+IC0gICAgICAgc3RhcnRfYmxrID0gYnl0ZXNfdG9fYmxrcyhpbm9k
ZSwgc3RhcnQpOwo+PiAtICAgICAgIGxhc3RfYmxrID0gYnl0ZXNfdG9fYmxrcyhpbm9kZSwgc3Rh
cnQgKyBsZW4gLSAxKTsKPj4gKyAgICAgICBzdGFydF9ibGsgPSBGMkZTX0JZVEVTX1RPX0JMSyhz
dGFydCk7Cj4+ICsgICAgICAgbGFzdF9ibGsgPSBGMkZTX0JZVEVTX1RPX0JMSyhzdGFydCArIGxl
biAtIDEpOwo+Pgo+PiAgIG5leHQ6Cj4+ICAgICAgICAgIG1lbXNldCgmbWFwLCAwLCBzaXplb2Yo
bWFwKSk7Cj4+ICAgICAgICAgIG1hcC5tX2xibGsgPSBzdGFydF9ibGs7Cj4+IC0gICAgICAgbWFw
Lm1fbGVuID0gYnl0ZXNfdG9fYmxrcyhpbm9kZSwgbGVuKTsKPj4gKyAgICAgICBtYXAubV9sZW4g
PSBGMkZTX0JZVEVTX1RPX0JMSyhsZW4pOwo+PiAgICAgICAgICBtYXAubV9uZXh0X3Bnb2ZzID0g
Jm5leHRfcGdvZnM7Cj4+ICAgICAgICAgIG1hcC5tX3NlZ190eXBlID0gTk9fQ0hFQ0tfVFlQRTsK
Pj4KPj4gQEAgLTE5NzQsNyArMTk2NCw3IEBAIGludCBmMmZzX2ZpZW1hcChzdHJ1Y3QgaW5vZGUg
Kmlub2RlLCBzdHJ1Y3QgZmllbWFwX2V4dGVudF9pbmZvICpmaWVpbmZvLAo+PiAgICAgICAgICBp
ZiAoIWNvbXByX2NsdXN0ZXIgJiYgIShtYXAubV9mbGFncyAmIEYyRlNfTUFQX0ZMQUdTKSkgewo+
PiAgICAgICAgICAgICAgICAgIHN0YXJ0X2JsayA9IG5leHRfcGdvZnM7Cj4+Cj4+IC0gICAgICAg
ICAgICAgICBpZiAoYmxrc190b19ieXRlcyhpbm9kZSwgc3RhcnRfYmxrKSA8IG1heGJ5dGVzKQo+
PiArICAgICAgICAgICAgICAgaWYgKEYyRlNfQkxLX1RPX0JZVEVTKHN0YXJ0X2JsaykgPCBtYXhi
eXRlcykKPj4gICAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8gcHJlcF9uZXh0Owo+Pgo+PiAg
ICAgICAgICAgICAgICAgIGZsYWdzIHw9IEZJRU1BUF9FWFRFTlRfTEFTVDsKPj4gQEAgLTIwMTEs
MTQgKzIwMDEsMTQgQEAgaW50IGYyZnNfZmllbWFwKHN0cnVjdCBpbm9kZSAqaW5vZGUsIHN0cnVj
dCBmaWVtYXBfZXh0ZW50X2luZm8gKmZpZWluZm8sCj4+ICAgICAgICAgIH0gZWxzZSBpZiAoY29t
cHJfYXBwZW5kZWQpIHsKPj4gICAgICAgICAgICAgICAgICB1bnNpZ25lZCBpbnQgYXBwZW5kZWRf
YmxrcyA9IGNsdXN0ZXJfc2l6ZSAtCj4+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBjb3VudF9pbl9jbHVzdGVyICsgMTsKPj4gLSAgICAgICAgICAgICAg
IHNpemUgKz0gYmxrc190b19ieXRlcyhpbm9kZSwgYXBwZW5kZWRfYmxrcyk7Cj4+ICsgICAgICAg
ICAgICAgICBzaXplICs9IEYyRlNfQkxLX1RPX0JZVEVTKGFwcGVuZGVkX2Jsa3MpOwo+PiAgICAg
ICAgICAgICAgICAgIHN0YXJ0X2JsayArPSBhcHBlbmRlZF9ibGtzOwo+PiAgICAgICAgICAgICAg
ICAgIGNvbXByX2NsdXN0ZXIgPSBmYWxzZTsKPj4gICAgICAgICAgfSBlbHNlIHsKPj4gLSAgICAg
ICAgICAgICAgIGxvZ2ljYWwgPSBibGtzX3RvX2J5dGVzKGlub2RlLCBzdGFydF9ibGspOwo+PiAr
ICAgICAgICAgICAgICAgbG9naWNhbCA9IEYyRlNfQkxLX1RPX0JZVEVTKHN0YXJ0X2Jsayk7Cj4+
ICAgICAgICAgICAgICAgICAgcGh5cyA9IF9faXNfdmFsaWRfZGF0YV9ibGthZGRyKG1hcC5tX3Bi
bGspID8KPj4gLSAgICAgICAgICAgICAgICAgICAgICAgYmxrc190b19ieXRlcyhpbm9kZSwgbWFw
Lm1fcGJsaykgOiAwOwo+PiAtICAgICAgICAgICAgICAgc2l6ZSA9IGJsa3NfdG9fYnl0ZXMoaW5v
ZGUsIG1hcC5tX2xlbik7Cj4+ICsgICAgICAgICAgICAgICAgICAgICAgIEYyRlNfQkxLX1RPX0JZ
VEVTKG1hcC5tX3BibGspIDogMDsKPj4gKyAgICAgICAgICAgICAgIHNpemUgPSBGMkZTX0JMS19U
T19CWVRFUyhtYXAubV9sZW4pOwo+PiAgICAgICAgICAgICAgICAgIGZsYWdzID0gMDsKPj4KPj4g
ICAgICAgICAgICAgICAgICBpZiAoY29tcHJfY2x1c3Rlcikgewo+PiBAQCAtMjAyNiwxMyArMjAx
NiwxMyBAQCBpbnQgZjJmc19maWVtYXAoc3RydWN0IGlub2RlICppbm9kZSwgc3RydWN0IGZpZW1h
cF9leHRlbnRfaW5mbyAqZmllaW5mbywKPj4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50
X2luX2NsdXN0ZXIgKz0gbWFwLm1fbGVuOwo+PiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYg
KGNvdW50X2luX2NsdXN0ZXIgPT0gY2x1c3Rlcl9zaXplKSB7Cj4+ICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIGNvbXByX2NsdXN0ZXIgPSBmYWxzZTsKPj4gLSAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBzaXplICs9IGJsa3NfdG9fYnl0ZXMoaW5vZGUsIDEpOwo+PiArICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemUgKz0gRjJGU19CTEtTSVpFOwo+PiAgICAg
ICAgICAgICAgICAgICAgICAgICAgfQo+PiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWFw
Lm1fZmxhZ3MgJiBGMkZTX01BUF9ERUxBTExPQykgewo+PiAgICAgICAgICAgICAgICAgICAgICAg
ICAgZmxhZ3MgPSBGSUVNQVBfRVhURU5UX1VOV1JJVFRFTjsKPj4gICAgICAgICAgICAgICAgICB9
Cj4+Cj4+IC0gICAgICAgICAgICAgICBzdGFydF9ibGsgKz0gYnl0ZXNfdG9fYmxrcyhpbm9kZSwg
c2l6ZSk7Cj4+ICsgICAgICAgICAgICAgICBzdGFydF9ibGsgKz0gRjJGU19CWVRFU19UT19CTEso
c2l6ZSk7Cj4+ICAgICAgICAgIH0KPj4KPj4gICBwcmVwX25leHQ6Cj4+IEBAIC0yMDcwLDcgKzIw
NjAsNyBAQCBzdGF0aWMgaW50IGYyZnNfcmVhZF9zaW5nbGVfcGFnZShzdHJ1Y3QgaW5vZGUgKmlu
b2RlLCBzdHJ1Y3QgZm9saW8gKmZvbGlvLAo+PiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIHN0cnVjdCByZWFkYWhlYWRfY29udHJvbCAqcmFjKQo+PiAgIHsKPj4gICAg
ICAgICAgc3RydWN0IGJpbyAqYmlvID0gKmJpb19yZXQ7Cj4+IC0gICAgICAgY29uc3QgdW5zaWdu
ZWQgYmxvY2tzaXplID0gYmxrc190b19ieXRlcyhpbm9kZSwgMSk7Cj4+ICsgICAgICAgY29uc3Qg
dW5zaWduZWQgaW50IGJsb2Nrc2l6ZSA9IEYyRlNfQkxLU0laRTsKPj4gICAgICAgICAgc2VjdG9y
X3QgYmxvY2tfaW5fZmlsZTsKPj4gICAgICAgICAgc2VjdG9yX3QgbGFzdF9ibG9jazsKPj4gICAg
ICAgICAgc2VjdG9yX3QgbGFzdF9ibG9ja19pbl9maWxlOwo+PiBAQCAtMjA4MCw4ICsyMDcwLDgg
QEAgc3RhdGljIGludCBmMmZzX3JlYWRfc2luZ2xlX3BhZ2Uoc3RydWN0IGlub2RlICppbm9kZSwg
c3RydWN0IGZvbGlvICpmb2xpbywKPj4KPj4gICAgICAgICAgYmxvY2tfaW5fZmlsZSA9IChzZWN0
b3JfdClpbmRleDsKPj4gICAgICAgICAgbGFzdF9ibG9jayA9IGJsb2NrX2luX2ZpbGUgKyBucl9w
YWdlczsKPj4gLSAgICAgICBsYXN0X2Jsb2NrX2luX2ZpbGUgPSBieXRlc190b19ibGtzKGlub2Rl
LAo+PiAtICAgICAgICAgICAgICAgICAgICAgICBmMmZzX3JlYWRwYWdlX2xpbWl0KGlub2RlKSAr
IGJsb2Nrc2l6ZSAtIDEpOwo+PiArICAgICAgIGxhc3RfYmxvY2tfaW5fZmlsZSA9IEYyRlNfQllU
RVNfVE9fQkxLKGYyZnNfcmVhZHBhZ2VfbGltaXQoaW5vZGUpICsKPj4gKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9ja3NpemUgLSAxKTsK
Pj4gICAgICAgICAgaWYgKGxhc3RfYmxvY2sgPiBsYXN0X2Jsb2NrX2luX2ZpbGUpCj4+ICAgICAg
ICAgICAgICAgICAgbGFzdF9ibG9jayA9IGxhc3RfYmxvY2tfaW5fZmlsZTsKPj4KPj4gQEAgLTIx
ODEsNyArMjE3MSw3IEBAIGludCBmMmZzX3JlYWRfbXVsdGlfcGFnZXMoc3RydWN0IGNvbXByZXNz
X2N0eCAqY2MsIHN0cnVjdCBiaW8gKipiaW9fcmV0LAo+PiAgICAgICAgICBzdHJ1Y3QgYmlvICpi
aW8gPSAqYmlvX3JldDsKPj4gICAgICAgICAgdW5zaWduZWQgaW50IHN0YXJ0X2lkeCA9IGNjLT5j
bHVzdGVyX2lkeCA8PCBjYy0+bG9nX2NsdXN0ZXJfc2l6ZTsKPj4gICAgICAgICAgc2VjdG9yX3Qg
bGFzdF9ibG9ja19pbl9maWxlOwo+PiAtICAgICAgIGNvbnN0IHVuc2lnbmVkIGJsb2Nrc2l6ZSA9
IGJsa3NfdG9fYnl0ZXMoaW5vZGUsIDEpOwo+PiArICAgICAgIGNvbnN0IHVuc2lnbmVkIGludCBi
bG9ja3NpemUgPSBGMkZTX0JMS1NJWkU7Cj4+ICAgICAgICAgIHN0cnVjdCBkZWNvbXByZXNzX2lv
X2N0eCAqZGljID0gTlVMTDsKPj4gICAgICAgICAgc3RydWN0IGV4dGVudF9pbmZvIGVpID0ge307
Cj4+ICAgICAgICAgIGJvb2wgZnJvbV9kbm9kZSA9IHRydWU7Cj4+IEBAIC0yMTkwLDggKzIxODAs
OCBAQCBpbnQgZjJmc19yZWFkX211bHRpX3BhZ2VzKHN0cnVjdCBjb21wcmVzc19jdHggKmNjLCBz
dHJ1Y3QgYmlvICoqYmlvX3JldCwKPj4KPj4gICAgICAgICAgZjJmc19idWdfb24oc2JpLCBmMmZz
X2NsdXN0ZXJfaXNfZW1wdHkoY2MpKTsKPj4KPj4gLSAgICAgICBsYXN0X2Jsb2NrX2luX2ZpbGUg
PSBieXRlc190b19ibGtzKGlub2RlLAo+PiAtICAgICAgICAgICAgICAgICAgICAgICBmMmZzX3Jl
YWRwYWdlX2xpbWl0KGlub2RlKSArIGJsb2Nrc2l6ZSAtIDEpOwo+PiArICAgICAgIGxhc3RfYmxv
Y2tfaW5fZmlsZSA9IEYyRlNfQllURVNfVE9fQkxLKGYyZnNfcmVhZHBhZ2VfbGltaXQoaW5vZGUp
ICsKPj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBibG9ja3NpemUgLSAxKTsKPj4KPj4gICAgICAgICAgLyogZ2V0IHJpZCBvZiBwYWdlcyBi
ZXlvbmQgRU9GICovCj4+ICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBjYy0+Y2x1c3Rlcl9zaXpl
OyBpKyspIHsKPj4gQEAgLTM5NTcsNyArMzk0Nyw3IEBAIHN0YXRpYyBpbnQgY2hlY2tfc3dhcF9h
Y3RpdmF0ZShzdHJ1Y3Qgc3dhcF9pbmZvX3N0cnVjdCAqc2lzLAo+PiAgICAgICAgICAgKiB0byBi
ZSB2ZXJ5IHNtYXJ0Lgo+PiAgICAgICAgICAgKi8KPj4gICAgICAgICAgY3VyX2xibG9jayA9IDA7
Cj4+IC0gICAgICAgbGFzdF9sYmxvY2sgPSBieXRlc190b19ibGtzKGlub2RlLCBpX3NpemVfcmVh
ZChpbm9kZSkpOwo+PiArICAgICAgIGxhc3RfbGJsb2NrID0gRjJGU19CWVRFU19UT19CTEsoaV9z
aXplX3JlYWQoaW5vZGUpKTsKPj4KPj4gICAgICAgICAgd2hpbGUgKGN1cl9sYmxvY2sgPCBsYXN0
X2xibG9jayAmJiBjdXJfbGJsb2NrIDwgc2lzLT5tYXgpIHsKPj4gICAgICAgICAgICAgICAgICBz
dHJ1Y3QgZjJmc19tYXBfYmxvY2tzIG1hcDsKPj4gQEAgLTQyMDAsOCArNDE5MCw4IEBAIHN0YXRp
YyBpbnQgZjJmc19pb21hcF9iZWdpbihzdHJ1Y3QgaW5vZGUgKmlub2RlLCBsb2ZmX3Qgb2Zmc2V0
LCBsb2ZmX3QgbGVuZ3RoLAo+PiAgICAgICAgICBwZ29mZl90IG5leHRfcGdvZnMgPSAwOwo+PiAg
ICAgICAgICBpbnQgZXJyOwo+Pgo+PiAtICAgICAgIG1hcC5tX2xibGsgPSBieXRlc190b19ibGtz
KGlub2RlLCBvZmZzZXQpOwo+PiAtICAgICAgIG1hcC5tX2xlbiA9IGJ5dGVzX3RvX2Jsa3MoaW5v
ZGUsIG9mZnNldCArIGxlbmd0aCAtIDEpIC0gbWFwLm1fbGJsayArIDE7Cj4+ICsgICAgICAgbWFw
Lm1fbGJsayA9IEYyRlNfQllURVNfVE9fQkxLKG9mZnNldCk7Cj4+ICsgICAgICAgbWFwLm1fbGVu
ID0gRjJGU19CWVRFU19UT19CTEsob2Zmc2V0ICsgbGVuZ3RoIC0gMSkgLSBtYXAubV9sYmxrICsg
MTsKPj4gICAgICAgICAgbWFwLm1fbmV4dF9wZ29mcyA9ICZuZXh0X3Bnb2ZzOwo+PiAgICAgICAg
ICBtYXAubV9zZWdfdHlwZSA9IGYyZnNfcndfaGludF90b19zZWdfdHlwZShGMkZTX0lfU0IoaW5v
ZGUpLAo+PiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
aW5vZGUtPmlfd3JpdGVfaGludCk7Cj4+IEBAIC00MjEyLDcgKzQyMDIsNyBAQCBzdGF0aWMgaW50
IGYyZnNfaW9tYXBfYmVnaW4oc3RydWN0IGlub2RlICppbm9kZSwgbG9mZl90IG9mZnNldCwgbG9m
Zl90IGxlbmd0aCwKPj4gICAgICAgICAgaWYgKGVycikKPj4gICAgICAgICAgICAgICAgICByZXR1
cm4gZXJyOwo+Pgo+PiAtICAgICAgIGlvbWFwLT5vZmZzZXQgPSBibGtzX3RvX2J5dGVzKGlub2Rl
LCBtYXAubV9sYmxrKTsKPj4gKyAgICAgICBpb21hcC0+b2Zmc2V0ID0gRjJGU19CTEtfVE9fQllU
RVMobWFwLm1fbGJsayk7Cj4+Cj4+ICAgICAgICAgIC8qCj4+ICAgICAgICAgICAqIFdoZW4gaW5s
aW5lIGVuY3J5cHRpb24gaXMgZW5hYmxlZCwgc29tZXRpbWVzIEkvTyB0byBhbiBlbmNyeXB0ZWQg
ZmlsZQo+PiBAQCAtNDIzMiwyMSArNDIyMiwyMSBAQCBzdGF0aWMgaW50IGYyZnNfaW9tYXBfYmVn
aW4oc3RydWN0IGlub2RlICppbm9kZSwgbG9mZl90IG9mZnNldCwgbG9mZl90IGxlbmd0aCwKPj4g
ICAgICAgICAgICAgICAgICBpZiAoV0FSTl9PTl9PTkNFKG1hcC5tX3BibGsgPT0gTkVXX0FERFIp
KQo+PiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC1FSU5WQUw7Cj4+Cj4+IC0gICAg
ICAgICAgICAgICBpb21hcC0+bGVuZ3RoID0gYmxrc190b19ieXRlcyhpbm9kZSwgbWFwLm1fbGVu
KTsKPj4gKyAgICAgICAgICAgICAgIGlvbWFwLT5sZW5ndGggPSBGMkZTX0JMS19UT19CWVRFUyht
YXAubV9sZW4pOwo+PiAgICAgICAgICAgICAgICAgIGlvbWFwLT50eXBlID0gSU9NQVBfTUFQUEVE
Owo+PiAgICAgICAgICAgICAgICAgIGlvbWFwLT5mbGFncyB8PSBJT01BUF9GX01FUkdFRDsKPj4g
ICAgICAgICAgICAgICAgICBpb21hcC0+YmRldiA9IG1hcC5tX2JkZXY7Cj4+IC0gICAgICAgICAg
ICAgICBpb21hcC0+YWRkciA9IGJsa3NfdG9fYnl0ZXMoaW5vZGUsIG1hcC5tX3BibGspOwo+PiAr
ICAgICAgICAgICAgICAgaW9tYXAtPmFkZHIgPSBGMkZTX0JMS19UT19CWVRFUyhtYXAubV9wYmxr
KTsKPj4gICAgICAgICAgfSBlbHNlIHsKPj4gICAgICAgICAgICAgICAgICBpZiAoZmxhZ3MgJiBJ
T01BUF9XUklURSkKPj4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAtRU5PVEJMSzsK
Pj4KPj4gICAgICAgICAgICAgICAgICBpZiAobWFwLm1fcGJsayA9PSBOVUxMX0FERFIpIHsKPj4g
LSAgICAgICAgICAgICAgICAgICAgICAgaW9tYXAtPmxlbmd0aCA9IGJsa3NfdG9fYnl0ZXMoaW5v
ZGUsIG5leHRfcGdvZnMpIC0KPj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlvbWFwLT5vZmZzZXQ7Cj4+ICsgICAgICAgICAg
ICAgICAgICAgICAgIGlvbWFwLT5sZW5ndGggPSBGMkZTX0JMS19UT19CWVRFUyhuZXh0X3Bnb2Zz
KSAtCj4+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgaW9tYXAtPm9mZnNldDsKPj4gICAgICAgICAgICAgICAgICAgICAgICAgIGlvbWFwLT50
eXBlID0gSU9NQVBfSE9MRTsKPj4gICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1hcC5tX3Bi
bGsgPT0gTkVXX0FERFIpIHsKPj4gLSAgICAgICAgICAgICAgICAgICAgICAgaW9tYXAtPmxlbmd0
aCA9IGJsa3NfdG9fYnl0ZXMoaW5vZGUsIG1hcC5tX2xlbik7Cj4+ICsgICAgICAgICAgICAgICAg
ICAgICAgIGlvbWFwLT5sZW5ndGggPSBGMkZTX0JMS19UT19CWVRFUyhtYXAubV9sZW4pOwo+PiAg
ICAgICAgICAgICAgICAgICAgICAgICAgaW9tYXAtPnR5cGUgPSBJT01BUF9VTldSSVRURU47Cj4+
ICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKPj4gICAgICAgICAgICAgICAgICAgICAgICAgIGYy
ZnNfYnVnX29uKEYyRlNfSV9TQihpbm9kZSksIDEpOwo+PiAtLQo+PiAyLjQwLjEKPj4KPj4KPj4K
Pj4gX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KPj4gTGlu
dXgtZjJmcy1kZXZlbCBtYWlsaW5nIGxpc3QKPj4gTGludXgtZjJmcy1kZXZlbEBsaXN0cy5zb3Vy
Y2Vmb3JnZS5uZXQKPj4gaHR0cHM6Ly9saXN0cy5zb3VyY2Vmb3JnZS5uZXQvbGlzdHMvbGlzdGlu
Zm8vbGludXgtZjJmcy1kZXZlbAoKCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fXwpMaW51eC1mMmZzLWRldmVsIG1haWxpbmcgbGlzdApMaW51eC1mMmZzLWRl
dmVsQGxpc3RzLnNvdXJjZWZvcmdlLm5ldApodHRwczovL2xpc3RzLnNvdXJjZWZvcmdlLm5ldC9s
aXN0cy9saXN0aW5mby9saW51eC1mMmZzLWRldmVsCg==
