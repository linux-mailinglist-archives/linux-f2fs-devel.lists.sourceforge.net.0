Return-Path: <linux-f2fs-devel-bounces@lists.sourceforge.net>
X-Original-To: lists+linux-f2fs-devel@lfdr.de
Delivered-To: lists+linux-f2fs-devel@lfdr.de
Received: from lists.sourceforge.net (lists.sourceforge.net [216.105.38.7])
	by mail.lfdr.de (Postfix) with ESMTPS id 92A5586FD0A
	for <lists+linux-f2fs-devel@lfdr.de>; Mon,  4 Mar 2024 10:19:45 +0100 (CET)
Received: from [127.0.0.1] (helo=sfs-ml-4.v29.lw.sourceforge.com)
	by sfs-ml-4.v29.lw.sourceforge.com with esmtp (Exim 4.95)
	(envelope-from <linux-f2fs-devel-bounces@lists.sourceforge.net>)
	id 1rh4Ty-0005GM-CL;
	Mon, 04 Mar 2024 09:19:38 +0000
Received: from [172.30.20.202] (helo=mx.sourceforge.net)
 by sfs-ml-4.v29.lw.sourceforge.com with esmtps (TLS1.2) tls
 TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 (Exim 4.95)
 (envelope-from <chao@kernel.org>) id 1rh4Tw-0005GG-Pg
 for linux-f2fs-devel@lists.sourceforge.net;
 Mon, 04 Mar 2024 09:19:36 +0000
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed;
 d=sourceforge.net; s=x; h=Content-Transfer-Encoding:Content-Type:In-Reply-To:
 From:References:Cc:To:Subject:MIME-Version:Date:Message-ID:Sender:Reply-To:
 Content-ID:Content-Description:Resent-Date:Resent-From:Resent-Sender:
 Resent-To:Resent-Cc:Resent-Message-ID:List-Id:List-Help:List-Unsubscribe:
 List-Subscribe:List-Post:List-Owner:List-Archive;
 bh=G51exwU2Wdegs2KTdccrTBJy4CrHy8FgHppVQA3lnk0=; b=EI1jTDqvQZKp76odasx55eoCN1
 QiZcvwyZYOVVfXzhDqIW1KX0OoEhEhi6kk7aB91jqXL39JTRnu5SSY2T9lVUlfoIGgoPGURyKwBsZ
 acdxzmM8R3DYtS3cWeaHoJaIYWUsbtCa82stG5mtwxOieE1Y2BSgQbHTztcA2g2kJHXY=;
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=sf.net; s=x
 ;
 h=Content-Transfer-Encoding:Content-Type:In-Reply-To:From:References:Cc:To:
 Subject:MIME-Version:Date:Message-ID:Sender:Reply-To:Content-ID:
 Content-Description:Resent-Date:Resent-From:Resent-Sender:Resent-To:Resent-Cc
 :Resent-Message-ID:List-Id:List-Help:List-Unsubscribe:List-Subscribe:
 List-Post:List-Owner:List-Archive;
 bh=G51exwU2Wdegs2KTdccrTBJy4CrHy8FgHppVQA3lnk0=; b=T+NraTu7G4uwu0Dx6Rpl8bZGPi
 0mCTlveKkcYTU9eAAu6DwuGrUbnk5by5vysuVKUUYVU027N/dP+ak5kuZNggfM+d/gQ6f1hmfy/rs
 H4+b8W/8+Etw5n2NsYpzMuZvvLZubqL45V3+dD8UlB2O5T+8RPyiz3Hc2VyJGcyCVxQo=;
Received: from dfw.source.kernel.org ([139.178.84.217])
 by sfi-mx-2.v28.lw.sourceforge.com with esmtps
 (TLS1.2:ECDHE-RSA-AES256-GCM-SHA384:256) (Exim 4.95)
 id 1rh4Tp-0006sa-Fl for linux-f2fs-devel@lists.sourceforge.net;
 Mon, 04 Mar 2024 09:19:36 +0000
Received: from smtp.kernel.org (transwarp.subspace.kernel.org [100.75.92.58])
 by dfw.source.kernel.org (Postfix) with ESMTP id 18F0960DD2;
 Mon,  4 Mar 2024 09:19:30 +0000 (UTC)
Received: by smtp.kernel.org (Postfix) with ESMTPSA id 84528C43394;
 Mon,  4 Mar 2024 09:19:26 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
 s=k20201202; t=1709543969;
 bh=JNlgBk51Owrz+9wcCIEhG6A3fzFqztbOy64rlJzeI/o=;
 h=Date:Subject:To:Cc:References:From:In-Reply-To:From;
 b=UNJvdlyqW+CCxxtDPBP4kuooxlw4AzWFHOWV3vbc9A4J6lnNX21sMNmI4DVRLoCow
 i1KoooVZPs+1QVOPJd7soYdqKTZ/87f0ymw0ICCOC+W0PfKUc4Y3+mzUiAkCO20RpR
 lIiCCI10KYZQvd5qLRPNDsGyfw5WDxyGsNskEgRmpeTM+IQ2eMETGfO/YbuVjY6X4r
 z5wWtDRDCeaD3EmUspVEe1MeTng1EEl0m4wwHBAiGbT4+qqNSp64I8Fw1HNmcHtp8i
 vp7Vlo5b/O9gA+G/9zE6rUyCmsX7WjSFrIe5TnEL4tXu/zlJ/8qd6N6z8jZ4+ohBbn
 KzYf8sTpcBGFQ==
Message-ID: <b5f6ff2d-cc13-4527-9a1d-f2098a9d66fc@kernel.org>
Date: Mon, 4 Mar 2024 17:19:22 +0800
MIME-Version: 1.0
User-Agent: Mozilla Thunderbird
Content-Language: en-US
To: Zhiguo Niu <niuzhiguo84@gmail.com>
References: <1709292976-13118-1-git-send-email-zhiguo.niu@unisoc.com>
 <7dc371ad-2448-4dd4-9551-8caef0a00d48@kernel.org>
 <CAHJ8P3+ZBuBu9Sdpm_6fxhY2sVyu97dXFKKLdtEF4shi_3Fs1Q@mail.gmail.com>
 <73197f36-4962-4a3d-a56c-8fd3494af7e5@kernel.org>
 <CAHJ8P3Kiys7ZESM-J2oEBYs1dd+zAVQ2zrvg5t02eqXRMEudXQ@mail.gmail.com>
From: Chao Yu <chao@kernel.org>
In-Reply-To: <CAHJ8P3Kiys7ZESM-J2oEBYs1dd+zAVQ2zrvg5t02eqXRMEudXQ@mail.gmail.com>
X-Spam-Score: -5.8 (-----)
X-Spam-Report: Spam detection software, running on the system "util-spamd-1.v13.lw.sourceforge.com",
 has NOT identified this incoming email as spam.  The original
 message has been attached to this so you can view it or label
 similar future email.  If you have any questions, see
 the administrator of that system for details.
 
 Content preview:  On 2024/3/4 15:52, Zhiguo Niu wrote: > On Mon, Mar 4, 2024
    at 3:17 PM Chao Yu <chao@kernel.org> wrote: >> >> On 2024/3/4 11:33, Zhiguo
    Niu wrote: >>> On Mon, Mar 4, 2024 at 11:19 AM Chao Yu <chao@ [...] 
 
 Content analysis details:   (-5.8 points, 6.0 required)
 
  pts rule name              description
 ---- ---------------------- --------------------------------------------------
 -5.0 RCVD_IN_DNSWL_HI       RBL: Sender listed at https://www.dnswl.org/,
                             high trust
                             [139.178.84.217 listed in list.dnswl.org]
  0.0 SPF_HELO_NONE          SPF: HELO does not publish an SPF Record
 -0.0 SPF_PASS               SPF: sender matches SPF record
  0.1 DKIM_SIGNED            Message has a DKIM or DK signature, not necessarily
                             valid
 -0.1 DKIM_VALID_EF          Message has a valid DKIM or DK signature from
                             envelope-from domain
 -0.1 DKIM_VALID_AU          Message has a valid DKIM or DK signature from
                             author's domain
 -0.1 DKIM_VALID             Message has at least one valid DKIM or DK signature
 -0.0 T_SCC_BODY_TEXT_LINE   No description available.
 -0.6 DKIMWL_WL_HIGH         DKIMwl.org - High trust sender
X-Headers-End: 1rh4Tp-0006sa-Fl
Subject: Re: [f2fs-dev] [PATCH] f2fs: fix to check result of new_curseg in
 f2fs_allocate_segment_for_resize
X-BeenThere: linux-f2fs-devel@lists.sourceforge.net
X-Mailman-Version: 2.1.21
Precedence: list
List-Id: <linux-f2fs-devel.lists.sourceforge.net>
List-Unsubscribe: <https://lists.sourceforge.net/lists/options/linux-f2fs-devel>, 
 <mailto:linux-f2fs-devel-request@lists.sourceforge.net?subject=unsubscribe>
List-Archive: <http://sourceforge.net/mailarchive/forum.php?forum_name=linux-f2fs-devel>
List-Post: <mailto:linux-f2fs-devel@lists.sourceforge.net>
List-Help: <mailto:linux-f2fs-devel-request@lists.sourceforge.net?subject=help>
List-Subscribe: <https://lists.sourceforge.net/lists/listinfo/linux-f2fs-devel>, 
 <mailto:linux-f2fs-devel-request@lists.sourceforge.net?subject=subscribe>
Cc: ke.wang@unisoc.com, linux-kernel@vger.kernel.org,
 linux-f2fs-devel@lists.sourceforge.net, hongyu.jin@unisoc.com,
 Zhiguo Niu <zhiguo.niu@unisoc.com>, jaegeuk@kernel.org
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: linux-f2fs-devel-bounces@lists.sourceforge.net

T24gMjAyNC8zLzQgMTU6NTIsIFpoaWd1byBOaXUgd3JvdGU6Cj4gT24gTW9uLCBNYXIgNCwgMjAy
NCBhdCAzOjE34oCvUE0gQ2hhbyBZdSA8Y2hhb0BrZXJuZWwub3JnPiB3cm90ZToKPj4KPj4gT24g
MjAyNC8zLzQgMTE6MzMsIFpoaWd1byBOaXUgd3JvdGU6Cj4+PiBPbiBNb24sIE1hciA0LCAyMDI0
IGF0IDExOjE54oCvQU0gQ2hhbyBZdSA8Y2hhb0BrZXJuZWwub3JnPiB3cm90ZToKPj4+Pgo+Pj4+
IE9uIDIwMjQvMy8xIDE5OjM2LCBaaGlndW8gTml1IHdyb3RlOgo+Pj4+PiBuZXdfY3Vyc2VnIG1h
eSByZXR1cm4gZXJyb3IgaWYgZ2V0X25ld19zZWdtZW50IGZhaWwsIHNvIGl0cyByZXN1bHQKPj4+
Pj4gc2hvdWxkIGJlIGNoZWNrIGluIGl0cyBjYWxsZXIgZjJmc19hbGxvY2F0ZV9zZWdtZW50X2Zv
cl9yZXNpemUsCj4+Pj4+IGFsb3MgcGFzcyB0aGlzIHJlc3VsdHMgdG8gZnJlZV9zZWdtZW50X3Jh
bmdlLgo+Pj4+Cj4+Pj4gWmhpZ3VvLAo+Pj4+Cj4+Pj4gV2hhdCBhYm91dCBoYW5kbGluZyBhbGwg
ZXJyb3IgcGF0aHMgb2YgbmV3X2N1cnNlZygpIGFuZCBjaGFuZ2VfY3Vyc2VnKCkKPj4+PiBpbiBv
bmUgcGF0Y2g/Cj4+PiBEZWFyIENoYW8sCj4+Pgo+Pj4gRG8geW91IG1lYW4gdG8gbWVyZ2UgaXQg
d2l0aCB0aGUgcHJldmlvdXMgcGF0Y2gg4oCcZjJmczogZml4IHRvIGNoZWNrCj4+PiByZXR1cm4g
dmFsdWUgb2YgZjJmc19nY19yYW5nZeKAnT8KPj4+IEJlY2F1c2UgaW4gYWRkaXRpb24gdG8gbmV3
X2N1cnNlZy9jaGFuZ2VfY3Vyc2VnIGVycm9yIGhhbmRsaW5nLCB0aGVyZQo+Pj4gYXJlIHNvbWUg
b3RoZXIgY2hhbmdlcyBpbiB0aGUgcHJldmlvdXMgcGF0Y2guCj4+PiBiZXNpZGVzLCBJIHNlYXJj
aGVkIGZvciBuZXcgcmVsYXRlZCBjb2RlcywgYW5kIHRoZXJlIHNob3VsZCBiZSB0aGUKPj4+IG9u
bHkgcGxhY2UgbGVmdCB3aXRob3V0IGVycm9yIGhhbmRsaW5nIGFib3V0IG5ld19jdXJzZWcvCj4+
PiBjaGFuZ2VfY3Vyc2VnIC4KPj4KPj4gWmhpZ3VvLCBJIG1lYW50IHNvbWV0aGluZyBsaWtlIHRo
aXM/Cj4+Cj4+IFN1YmplY3Q6IFtQQVRDSF0gZjJmczogZml4IHRvIGhhbmRsZSBlcnJvciBwYXRo
cyBvZiB7bmV3LGNoYW5nZX1fY3Vyc2VnKCkKPiBEZWFyIENoYW8sCj4gSSBnb3QgeW91ciBtZWFu
aW5nIGFuZCBJIHRoaW5rIHRoaXMgcGF0Y2ggbG9va3MgZ29vZC4KPiBQbGVhc2UgaWdub3JlIG15
IHBhdGNoIGFuZCB1c2UgeW91ciB2ZXJzaW9uOu+8iS4KClpoaWd1bywKClRoaXMgaXMgYSByYXcg
cGF0Y2gsIGNhbiB5b3UgcGxlYXNlIHdyaXRlIGNvbW1pdCBtZXNzYWdlIGZvciBpdCwgYW5kCnJl
c2VuZCBpdCBvbmNlIHlvdSd2ZSB0ZXN0ZWQgaXQuCgpUaGFua3MsCgo+IHRoYW5rcyEKPj4KPj4g
LS0tCj4+ICAgIGZzL2YyZnMvZjJmcy5oICAgIHwgIDQgKy0tCj4+ICAgIGZzL2YyZnMvZ2MuYyAg
ICAgIHwgIDcgKysrLS0KPj4gICAgZnMvZjJmcy9zZWdtZW50LmMgfCA2NyArKysrKysrKysrKysr
KysrKysrKysrKysrKysrKysrLS0tLS0tLS0tLS0tLS0tLQo+PiAgICBmcy9mMmZzL3N1cGVyLmMg
ICB8ICA0ICsrLQo+PiAgICA0IGZpbGVzIGNoYW5nZWQsIDU0IGluc2VydGlvbnMoKyksIDI4IGRl
bGV0aW9ucygtKQo+Pgo+PiBkaWZmIC0tZ2l0IGEvZnMvZjJmcy9mMmZzLmggYi9mcy9mMmZzL2Yy
ZnMuaAo+PiBpbmRleCA4MDc4OTI1NWJmNjguLjAzOTI3ZjFiMmVhMSAxMDA2NDQKPj4gLS0tIGEv
ZnMvZjJmcy9mMmZzLmgKPj4gKysrIGIvZnMvZjJmcy9mMmZzLmgKPj4gQEAgLTM3MDIsMTAgKzM3
MDIsMTAgQEAgaW50IGYyZnNfZGlzYWJsZV9jcF9hZ2FpbihzdHJ1Y3QgZjJmc19zYl9pbmZvICpz
YmksIGJsb2NrX3QgdW51c2FibGUpOwo+PiAgICB2b2lkIGYyZnNfcmVsZWFzZV9kaXNjYXJkX2Fk
ZHJzKHN0cnVjdCBmMmZzX3NiX2luZm8gKnNiaSk7Cj4+ICAgIGludCBmMmZzX25wYWdlc19mb3Jf
c3VtbWFyeV9mbHVzaChzdHJ1Y3QgZjJmc19zYl9pbmZvICpzYmksIGJvb2wgZm9yX3JhKTsKPj4g
ICAgYm9vbCBmMmZzX3NlZ21lbnRfaGFzX2ZyZWVfc2xvdChzdHJ1Y3QgZjJmc19zYl9pbmZvICpz
YmksIGludCBzZWdubyk7Cj4+IC12b2lkIGYyZnNfaW5pdF9pbm1lbV9jdXJzZWcoc3RydWN0IGYy
ZnNfc2JfaW5mbyAqc2JpKTsKPj4gK2ludCBmMmZzX2luaXRfaW5tZW1fY3Vyc2VnKHN0cnVjdCBm
MmZzX3NiX2luZm8gKnNiaSk7Cj4+ICAgIHZvaWQgZjJmc19zYXZlX2lubWVtX2N1cnNlZyhzdHJ1
Y3QgZjJmc19zYl9pbmZvICpzYmkpOwo+PiAgICB2b2lkIGYyZnNfcmVzdG9yZV9pbm1lbV9jdXJz
ZWcoc3RydWN0IGYyZnNfc2JfaW5mbyAqc2JpKTsKPj4gLXZvaWQgZjJmc19hbGxvY2F0ZV9zZWdt
ZW50X2Zvcl9yZXNpemUoc3RydWN0IGYyZnNfc2JfaW5mbyAqc2JpLCBpbnQgdHlwZSwKPj4gK2lu
dCBmMmZzX2FsbG9jYXRlX3NlZ21lbnRfZm9yX3Jlc2l6ZShzdHJ1Y3QgZjJmc19zYl9pbmZvICpz
YmksIGludCB0eXBlLAo+PiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IHVuc2lnbmVkIGludCBzdGFydCwgdW5zaWduZWQgaW50IGVuZCk7Cj4+ICAgIGludCBmMmZzX2Fs
bG9jYXRlX25ld19zZWN0aW9uKHN0cnVjdCBmMmZzX3NiX2luZm8gKnNiaSwgaW50IHR5cGUsIGJv
b2wgZm9yY2UpOwo+PiAgICBpbnQgZjJmc19hbGxvY2F0ZV9waW5uaW5nX3NlY3Rpb24oc3RydWN0
IGYyZnNfc2JfaW5mbyAqc2JpKTsKPj4gZGlmZiAtLWdpdCBhL2ZzL2YyZnMvZ2MuYyBiL2ZzL2Yy
ZnMvZ2MuYwo+PiBpbmRleCBmODMxNDc2NTI0NmEuLjg1NGFkMGEzZjZlYSAxMDA2NDQKPj4gLS0t
IGEvZnMvZjJmcy9nYy5jCj4+ICsrKyBiL2ZzL2YyZnMvZ2MuYwo+PiBAQCAtMjAzMyw4ICsyMDMz
LDExIEBAIHN0YXRpYyBpbnQgZnJlZV9zZWdtZW50X3JhbmdlKHN0cnVjdCBmMmZzX3NiX2luZm8g
KnNiaSwKPj4gICAgICAgICAgbXV0ZXhfdW5sb2NrKCZESVJUWV9JKHNiaSktPnNlZ2xpc3RfbG9j
ayk7Cj4+Cj4+ICAgICAgICAgIC8qIE1vdmUgb3V0IGN1cnNlZ3MgZnJvbSB0aGUgdGFyZ2V0IHJh
bmdlICovCj4+IC0gICAgICAgZm9yICh0eXBlID0gQ1VSU0VHX0hPVF9EQVRBOyB0eXBlIDwgTlJf
Q1VSU0VHX1BFUlNJU1RfVFlQRTsgdHlwZSsrKQo+PiAtICAgICAgICAgICAgICAgZjJmc19hbGxv
Y2F0ZV9zZWdtZW50X2Zvcl9yZXNpemUoc2JpLCB0eXBlLCBzdGFydCwgZW5kKTsKPj4gKyAgICAg
ICBmb3IgKHR5cGUgPSBDVVJTRUdfSE9UX0RBVEE7IHR5cGUgPCBOUl9DVVJTRUdfUEVSU0lTVF9U
WVBFOyB0eXBlKyspIHsKPj4gKyAgICAgICAgICAgICAgIGVyciA9IGYyZnNfYWxsb2NhdGVfc2Vn
bWVudF9mb3JfcmVzaXplKHNiaSwgdHlwZSwgc3RhcnQsIGVuZCk7Cj4+ICsgICAgICAgICAgICAg
ICBpZiAoZXJyKQo+PiArICAgICAgICAgICAgICAgICAgICAgICBnb3RvIG91dDsKPj4gKyAgICAg
ICB9Cj4+Cj4+ICAgICAgICAgIC8qIGRvIEdDIHRvIG1vdmUgb3V0IHZhbGlkIGJsb2NrcyBpbiB0
aGUgcmFuZ2UgKi8KPj4gICAgICAgICAgZXJyID0gZjJmc19nY19yYW5nZShzYmksIHN0YXJ0LCBl
bmQsIGRyeV9ydW4sIDApOwo+PiBkaWZmIC0tZ2l0IGEvZnMvZjJmcy9zZWdtZW50LmMgYi9mcy9m
MmZzL3NlZ21lbnQuYwo+PiBpbmRleCAyMjI0MWFiYTY1NjQuLjJiY2YwMWZkZTE0MyAxMDA2NDQK
Pj4gLS0tIGEvZnMvZjJmcy9zZWdtZW50LmMKPj4gKysrIGIvZnMvZjJmcy9zZWdtZW50LmMKPj4g
QEAgLTI4NjMsNyArMjg2Myw3IEBAIGJvb2wgZjJmc19zZWdtZW50X2hhc19mcmVlX3Nsb3Qoc3Ry
dWN0IGYyZnNfc2JfaW5mbyAqc2JpLCBpbnQgc2Vnbm8pCj4+ICAgICAqIFRoaXMgZnVuY3Rpb24g
YWx3YXlzIGFsbG9jYXRlcyBhIHVzZWQgc2VnbWVudChmcm9tIGRpcnR5IHNlZ2xpc3QpIGJ5IFNT
Ugo+PiAgICAgKiBtYW5uZXIsIHNvIGl0IHNob3VsZCByZWNvdmVyIHRoZSBleGlzdGluZyBzZWdt
ZW50IGluZm9ybWF0aW9uIG9mIHZhbGlkIGJsb2Nrcwo+PiAgICAgKi8KPj4gLXN0YXRpYyB2b2lk
IGNoYW5nZV9jdXJzZWcoc3RydWN0IGYyZnNfc2JfaW5mbyAqc2JpLCBpbnQgdHlwZSkKPj4gK3N0
YXRpYyBpbnQgY2hhbmdlX2N1cnNlZyhzdHJ1Y3QgZjJmc19zYl9pbmZvICpzYmksIGludCB0eXBl
KQo+PiAgICB7Cj4+ICAgICAgICAgIHN0cnVjdCBkaXJ0eV9zZWdsaXN0X2luZm8gKmRpcnR5X2kg
PSBESVJUWV9JKHNiaSk7Cj4+ICAgICAgICAgIHN0cnVjdCBjdXJzZWdfaW5mbyAqY3Vyc2VnID0g
Q1VSU0VHX0koc2JpLCB0eXBlKTsKPj4gQEAgLTI4ODgsMjEgKzI4ODgsMjQgQEAgc3RhdGljIHZv
aWQgY2hhbmdlX2N1cnNlZyhzdHJ1Y3QgZjJmc19zYl9pbmZvICpzYmksIGludCB0eXBlKQo+PiAg
ICAgICAgICBpZiAoSVNfRVJSKHN1bV9wYWdlKSkgewo+PiAgICAgICAgICAgICAgICAgIC8qIEdD
IHdvbid0IGJlIGFibGUgdG8gdXNlIHN0YWxlIHN1bW1hcnkgcGFnZXMgYnkgY3BfZXJyb3IgKi8K
Pj4gICAgICAgICAgICAgICAgICBtZW1zZXQoY3Vyc2VnLT5zdW1fYmxrLCAwLCBTVU1fRU5UUllf
U0laRSk7Cj4+IC0gICAgICAgICAgICAgICByZXR1cm47Cj4+ICsgICAgICAgICAgICAgICByZXR1
cm4gUFRSX0VSUihzdW1fcGFnZSk7Cj4+ICAgICAgICAgIH0KPj4gICAgICAgICAgc3VtX25vZGUg
PSAoc3RydWN0IGYyZnNfc3VtbWFyeV9ibG9jayAqKXBhZ2VfYWRkcmVzcyhzdW1fcGFnZSk7Cj4+
ICAgICAgICAgIG1lbWNweShjdXJzZWctPnN1bV9ibGssIHN1bV9ub2RlLCBTVU1fRU5UUllfU0la
RSk7Cj4+ICAgICAgICAgIGYyZnNfcHV0X3BhZ2Uoc3VtX3BhZ2UsIDEpOwo+PiArCj4+ICsgICAg
ICAgcmV0dXJuIDA7Cj4+ICAgIH0KPj4KPj4gICAgc3RhdGljIGludCBnZXRfc3NyX3NlZ21lbnQo
c3RydWN0IGYyZnNfc2JfaW5mbyAqc2JpLCBpbnQgdHlwZSwKPj4gICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgaW50IGFsbG9jX21vZGUsIHVuc2lnbmVkIGxvbmcgbG9uZyBhZ2UpOwo+
Pgo+PiAtc3RhdGljIHZvaWQgZ2V0X2F0c3NyX3NlZ21lbnQoc3RydWN0IGYyZnNfc2JfaW5mbyAq
c2JpLCBpbnQgdHlwZSwKPj4gK3N0YXRpYyBpbnQgZ2V0X2F0c3NyX3NlZ21lbnQoc3RydWN0IGYy
ZnNfc2JfaW5mbyAqc2JpLCBpbnQgdHlwZSwKPj4gICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBpbnQgdGFyZ2V0X3R5cGUsIGludCBhbGxvY19tb2RlLAo+PiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuc2lnbmVkIGxvbmcgbG9uZyBhZ2Up
Cj4+ICAgIHsKPj4gICAgICAgICAgc3RydWN0IGN1cnNlZ19pbmZvICpjdXJzZWcgPSBDVVJTRUdf
SShzYmksIHR5cGUpOwo+PiArICAgICAgIGludCByZXQ7Cj4+Cj4+ICAgICAgICAgIGN1cnNlZy0+
c2VnX3R5cGUgPSB0YXJnZXRfdHlwZTsKPj4KPj4gQEAgLTI5MTAsMzggKzI5MTMsNDUgQEAgc3Rh
dGljIHZvaWQgZ2V0X2F0c3NyX3NlZ21lbnQoc3RydWN0IGYyZnNfc2JfaW5mbyAqc2JpLCBpbnQg
dHlwZSwKPj4gICAgICAgICAgICAgICAgICBzdHJ1Y3Qgc2VnX2VudHJ5ICpzZSA9IGdldF9zZWdf
ZW50cnkoc2JpLCBjdXJzZWctPm5leHRfc2Vnbm8pOwo+Pgo+PiAgICAgICAgICAgICAgICAgIGN1
cnNlZy0+c2VnX3R5cGUgPSBzZS0+dHlwZTsKPj4gLSAgICAgICAgICAgICAgIGNoYW5nZV9jdXJz
ZWcoc2JpLCB0eXBlKTsKPj4gKyAgICAgICAgICAgICAgIHJldCA9IGNoYW5nZV9jdXJzZWcoc2Jp
LCB0eXBlKTsKPj4gICAgICAgICAgfSBlbHNlIHsKPj4gICAgICAgICAgICAgICAgICAvKiBhbGxv
Y2F0ZSBjb2xkIHNlZ21lbnQgYnkgZGVmYXVsdCAqLwo+PiAgICAgICAgICAgICAgICAgIGN1cnNl
Zy0+c2VnX3R5cGUgPSBDVVJTRUdfQ09MRF9EQVRBOwo+PiAtICAgICAgICAgICAgICAgbmV3X2N1
cnNlZyhzYmksIHR5cGUsIHRydWUpOwo+PiArICAgICAgICAgICAgICAgcmV0ID0gbmV3X2N1cnNl
ZyhzYmksIHR5cGUsIHRydWUpOwo+PiAgICAgICAgICB9Cj4+ICAgICAgICAgIHN0YXRfaW5jX3Nl
Z190eXBlKHNiaSwgY3Vyc2VnKTsKPj4gKwo+PiArICAgICAgIHJldHVybiByZXQ7Cj4+ICAgIH0K
Pj4KPj4gLXN0YXRpYyB2b2lkIF9fZjJmc19pbml0X2F0Z2NfY3Vyc2VnKHN0cnVjdCBmMmZzX3Ni
X2luZm8gKnNiaSkKPj4gK3N0YXRpYyBpbnQgX19mMmZzX2luaXRfYXRnY19jdXJzZWcoc3RydWN0
IGYyZnNfc2JfaW5mbyAqc2JpKQo+PiAgICB7Cj4+ICAgICAgICAgIHN0cnVjdCBjdXJzZWdfaW5m
byAqY3Vyc2VnID0gQ1VSU0VHX0koc2JpLCBDVVJTRUdfQUxMX0RBVEFfQVRHQyk7Cj4+ICsgICAg
ICAgaW50IHJldDsKPj4KPj4gICAgICAgICAgaWYgKCFzYmktPmFtLmF0Z2NfZW5hYmxlZCkKPj4g
LSAgICAgICAgICAgICAgIHJldHVybjsKPj4gKyAgICAgICAgICAgICAgIHJldHVybiAwOwo+Pgo+
PiAgICAgICAgICBmMmZzX2Rvd25fcmVhZCgmU01fSShzYmkpLT5jdXJzZWdfbG9jayk7Cj4+Cj4+
ICAgICAgICAgIG11dGV4X2xvY2soJmN1cnNlZy0+Y3Vyc2VnX211dGV4KTsKPj4gICAgICAgICAg
ZG93bl93cml0ZSgmU0lUX0koc2JpKS0+c2VudHJ5X2xvY2spOwo+Pgo+PiAtICAgICAgIGdldF9h
dHNzcl9zZWdtZW50KHNiaSwgQ1VSU0VHX0FMTF9EQVRBX0FUR0MsIENVUlNFR19DT0xEX0RBVEEs
IFNTUiwgMCk7Cj4+ICsgICAgICAgcmV0ID0gZ2V0X2F0c3NyX3NlZ21lbnQoc2JpLCBDVVJTRUdf
QUxMX0RBVEFfQVRHQywKPj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IENVUlNFR19DT0xEX0RBVEEsIFNTUiwgMCk7Cj4+Cj4+ICAgICAgICAgIHVwX3dyaXRlKCZTSVRf
SShzYmkpLT5zZW50cnlfbG9jayk7Cj4+ICAgICAgICAgIG11dGV4X3VubG9jaygmY3Vyc2VnLT5j
dXJzZWdfbXV0ZXgpOwo+Pgo+PiAgICAgICAgICBmMmZzX3VwX3JlYWQoJlNNX0koc2JpKS0+Y3Vy
c2VnX2xvY2spOwo+Pgo+PiArICAgICAgIHJldHVybiByZXQ7Cj4+ICsKPj4gICAgfQo+PiAtdm9p
ZCBmMmZzX2luaXRfaW5tZW1fY3Vyc2VnKHN0cnVjdCBmMmZzX3NiX2luZm8gKnNiaSkKPj4gKwo+
PiAraW50IGYyZnNfaW5pdF9pbm1lbV9jdXJzZWcoc3RydWN0IGYyZnNfc2JfaW5mbyAqc2JpKQo+
PiAgICB7Cj4+IC0gICAgICAgX19mMmZzX2luaXRfYXRnY19jdXJzZWcoc2JpKTsKPj4gKyAgICAg
ICByZXR1cm4gX19mMmZzX2luaXRfYXRnY19jdXJzZWcoc2JpKTsKPj4gICAgfQo+Pgo+PiAgICBz
dGF0aWMgdm9pZCBfX2YyZnNfc2F2ZV9pbm1lbV9jdXJzZWcoc3RydWN0IGYyZnNfc2JfaW5mbyAq
c2JpLCBpbnQgdHlwZSkKPj4gQEAgLTMwNjksMTEgKzMwNzksMTIgQEAgc3RhdGljIGJvb2wgbmVl
ZF9uZXdfc2VnKHN0cnVjdCBmMmZzX3NiX2luZm8gKnNiaSwgaW50IHR5cGUpCj4+ICAgICAgICAg
IHJldHVybiBmYWxzZTsKPj4gICAgfQo+Pgo+PiAtdm9pZCBmMmZzX2FsbG9jYXRlX3NlZ21lbnRf
Zm9yX3Jlc2l6ZShzdHJ1Y3QgZjJmc19zYl9pbmZvICpzYmksIGludCB0eXBlLAo+PiAraW50IGYy
ZnNfYWxsb2NhdGVfc2VnbWVudF9mb3JfcmVzaXplKHN0cnVjdCBmMmZzX3NiX2luZm8gKnNiaSwg
aW50IHR5cGUsCj4+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5z
aWduZWQgaW50IHN0YXJ0LCB1bnNpZ25lZCBpbnQgZW5kKQo+PiAgICB7Cj4+ICAgICAgICAgIHN0
cnVjdCBjdXJzZWdfaW5mbyAqY3Vyc2VnID0gQ1VSU0VHX0koc2JpLCB0eXBlKTsKPj4gICAgICAg
ICAgdW5zaWduZWQgaW50IHNlZ25vOwo+PiArICAgICAgIGludCByZXQgPSAwOwo+Pgo+PiAgICAg
ICAgICBmMmZzX2Rvd25fcmVhZCgmU01fSShzYmkpLT5jdXJzZWdfbG9jayk7Cj4+ICAgICAgICAg
IG11dGV4X2xvY2soJmN1cnNlZy0+Y3Vyc2VnX211dGV4KTsKPj4gQEAgLTMwODQsOSArMzA5NSw5
IEBAIHZvaWQgZjJmc19hbGxvY2F0ZV9zZWdtZW50X2Zvcl9yZXNpemUoc3RydWN0IGYyZnNfc2Jf
aW5mbyAqc2JpLCBpbnQgdHlwZSwKPj4gICAgICAgICAgICAgICAgICBnb3RvIHVubG9jazsKPj4K
Pj4gICAgICAgICAgaWYgKGYyZnNfbmVlZF9TU1Ioc2JpKSAmJiBnZXRfc3NyX3NlZ21lbnQoc2Jp
LCB0eXBlLCBTU1IsIDApKQo+PiAtICAgICAgICAgICAgICAgY2hhbmdlX2N1cnNlZyhzYmksIHR5
cGUpOwo+PiArICAgICAgICAgICAgICAgcmV0ID0gY2hhbmdlX2N1cnNlZyhzYmksIHR5cGUpOwo+
PiAgICAgICAgICBlbHNlCj4+IC0gICAgICAgICAgICAgICBuZXdfY3Vyc2VnKHNiaSwgdHlwZSwg
dHJ1ZSk7Cj4+ICsgICAgICAgICAgICAgICByZXQgPSBuZXdfY3Vyc2VnKHNiaSwgdHlwZSwgdHJ1
ZSk7Cj4+Cj4+ICAgICAgICAgIHN0YXRfaW5jX3NlZ190eXBlKHNiaSwgY3Vyc2VnKTsKPj4KPj4g
QEAgLTMxMDAsNiArMzExMSw4IEBAIHZvaWQgZjJmc19hbGxvY2F0ZV9zZWdtZW50X2Zvcl9yZXNp
emUoc3RydWN0IGYyZnNfc2JfaW5mbyAqc2JpLCBpbnQgdHlwZSwKPj4KPj4gICAgICAgICAgbXV0
ZXhfdW5sb2NrKCZjdXJzZWctPmN1cnNlZ19tdXRleCk7Cj4+ICAgICAgICAgIGYyZnNfdXBfcmVh
ZCgmU01fSShzYmkpLT5jdXJzZWdfbG9jayk7Cj4+ICsKPj4gKyAgICAgICByZXR1cm4gcmV0Owo+
PiAgICB9Cj4+Cj4+ICAgIHN0YXRpYyBpbnQgX19hbGxvY2F0ZV9uZXdfc2VnbWVudChzdHJ1Y3Qg
ZjJmc19zYl9pbmZvICpzYmksIGludCB0eXBlLAo+PiBAQCAtMzEwNyw2ICszMTIwLDcgQEAgc3Rh
dGljIGludCBfX2FsbG9jYXRlX25ld19zZWdtZW50KHN0cnVjdCBmMmZzX3NiX2luZm8gKnNiaSwg
aW50IHR5cGUsCj4+ICAgIHsKPj4gICAgICAgICAgc3RydWN0IGN1cnNlZ19pbmZvICpjdXJzZWcg
PSBDVVJTRUdfSShzYmksIHR5cGUpOwo+PiAgICAgICAgICB1bnNpZ25lZCBpbnQgb2xkX3NlZ25v
Owo+PiArICAgICAgIGludCByZXQ7Cj4+Cj4+ICAgICAgICAgIGlmICh0eXBlID09IENVUlNFR19D
T0xEX0RBVEFfUElOTkVEICYmICFjdXJzZWctPmluaXRlZCkKPj4gICAgICAgICAgICAgICAgICBn
b3RvIGFsbG9jYXRlOwo+PiBAQCAtMzExOSw4ICszMTMzLDkgQEAgc3RhdGljIGludCBfX2FsbG9j
YXRlX25ld19zZWdtZW50KHN0cnVjdCBmMmZzX3NiX2luZm8gKnNiaSwgaW50IHR5cGUsCj4+Cj4+
ICAgIGFsbG9jYXRlOgo+PiAgICAgICAgICBvbGRfc2Vnbm8gPSBjdXJzZWctPnNlZ25vOwo+PiAt
ICAgICAgIGlmIChuZXdfY3Vyc2VnKHNiaSwgdHlwZSwgdHJ1ZSkpCj4+IC0gICAgICAgICAgICAg
ICByZXR1cm4gLUVBR0FJTjsKPj4gKyAgICAgICByZXQgPSBuZXdfY3Vyc2VnKHNiaSwgdHlwZSwg
dHJ1ZSk7Cj4+ICsgICAgICAgaWYgKHJldCkKPj4gKyAgICAgICAgICAgICAgIHJldHVybiByZXQ7
Cj4+ICAgICAgICAgIHN0YXRfaW5jX3NlZ190eXBlKHNiaSwgY3Vyc2VnKTsKPj4gICAgICAgICAg
bG9jYXRlX2RpcnR5X3NlZ21lbnQoc2JpLCBvbGRfc2Vnbm8pOwo+PiAgICAgICAgICByZXR1cm4g
MDsKPj4gQEAgLTM0ODAsMTQgKzM0OTUsMTcgQEAgaW50IGYyZnNfYWxsb2NhdGVfZGF0YV9ibG9j
ayhzdHJ1Y3QgZjJmc19zYl9pbmZvICpzYmksIHN0cnVjdCBwYWdlICpwYWdlLAo+PiAgICAgICAg
ICBib29sIGZyb21fZ2MgPSAodHlwZSA9PSBDVVJTRUdfQUxMX0RBVEFfQVRHQyk7Cj4+ICAgICAg
ICAgIHN0cnVjdCBzZWdfZW50cnkgKnNlID0gTlVMTDsKPj4gICAgICAgICAgYm9vbCBzZWdtZW50
X2Z1bGwgPSBmYWxzZTsKPj4gKyAgICAgICBpbnQgcmV0ID0gMDsKPj4KPj4gICAgICAgICAgZjJm
c19kb3duX3JlYWQoJlNNX0koc2JpKS0+Y3Vyc2VnX2xvY2spOwo+Pgo+PiAgICAgICAgICBtdXRl
eF9sb2NrKCZjdXJzZWctPmN1cnNlZ19tdXRleCk7Cj4+ICAgICAgICAgIGRvd25fd3JpdGUoJnNp
dF9pLT5zZW50cnlfbG9jayk7Cj4+Cj4+IC0gICAgICAgaWYgKGN1cnNlZy0+c2Vnbm8gPT0gTlVM
TF9TRUdOTykKPj4gKyAgICAgICBpZiAoY3Vyc2VnLT5zZWdubyA9PSBOVUxMX1NFR05PKSB7Cj4+
ICsgICAgICAgICAgICAgICByZXQgPSAtRU5PU1BDOwo+PiAgICAgICAgICAgICAgICAgIGdvdG8g
b3V0X2VycjsKPj4gKyAgICAgICB9Cj4+Cj4+ICAgICAgICAgIGlmIChmcm9tX2djKSB7Cj4+ICAg
ICAgICAgICAgICAgICAgZjJmc19idWdfb24oc2JpLCBHRVRfU0VHTk8oc2JpLCBvbGRfYmxrYWRk
cikgPT0gTlVMTF9TRUdOTyk7Cj4+IEBAIC0zNTQxLDE3ICszNTU5LDE3IEBAIGludCBmMmZzX2Fs
bG9jYXRlX2RhdGFfYmxvY2soc3RydWN0IGYyZnNfc2JfaW5mbyAqc2JpLCBzdHJ1Y3QgcGFnZSAq
cGFnZSwKPj4gICAgICAgICAgICAgICAgICB9Cj4+Cj4+ICAgICAgICAgICAgICAgICAgaWYgKGZy
b21fZ2MpIHsKPj4gLSAgICAgICAgICAgICAgICAgICAgICAgZ2V0X2F0c3NyX3NlZ21lbnQoc2Jp
LCB0eXBlLCBzZS0+dHlwZSwKPj4gKyAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gZ2V0X2F0
c3NyX3NlZ21lbnQoc2JpLCB0eXBlLCBzZS0+dHlwZSwKPj4gICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFUX1NTUiwgc2UtPm10aW1lKTsKPj4gICAgICAg
ICAgICAgICAgICB9IGVsc2Ugewo+PiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5lZWRf
bmV3X3NlZyhzYmksIHR5cGUpKQo+PiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5l
d19jdXJzZWcoc2JpLCB0eXBlLCBmYWxzZSk7Cj4+ICsgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgcmV0ID0gbmV3X2N1cnNlZyhzYmksIHR5cGUsIGZhbHNlKTsKPj4gICAgICAgICAgICAg
ICAgICAgICAgICAgIGVsc2UKPj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFu
Z2VfY3Vyc2VnKHNiaSwgdHlwZSk7Cj4+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
cmV0ID0gY2hhbmdlX2N1cnNlZyhzYmksIHR5cGUpOwo+PiAgICAgICAgICAgICAgICAgICAgICAg
ICAgc3RhdF9pbmNfc2VnX3R5cGUoc2JpLCBjdXJzZWcpOwo+PiAgICAgICAgICAgICAgICAgIH0K
Pj4KPj4gLSAgICAgICAgICAgICAgIGlmIChjdXJzZWctPnNlZ25vID09IE5VTExfU0VHTk8pCj4+
ICsgICAgICAgICAgICAgICBpZiAocmV0KQo+PiAgICAgICAgICAgICAgICAgICAgICAgICAgZ290
byBvdXRfZXJyOwo+PiAgICAgICAgICB9Cj4+Cj4+IEBAIC0zNTk0LDcgKzM2MTIsNyBAQCBpbnQg
ZjJmc19hbGxvY2F0ZV9kYXRhX2Jsb2NrKHN0cnVjdCBmMmZzX3NiX2luZm8gKnNiaSwgc3RydWN0
IHBhZ2UgKnBhZ2UsCj4+ICAgICAgICAgIHVwX3dyaXRlKCZzaXRfaS0+c2VudHJ5X2xvY2spOwo+
PiAgICAgICAgICBtdXRleF91bmxvY2soJmN1cnNlZy0+Y3Vyc2VnX211dGV4KTsKPj4gICAgICAg
ICAgZjJmc191cF9yZWFkKCZTTV9JKHNiaSktPmN1cnNlZ19sb2NrKTsKPj4gLSAgICAgICByZXR1
cm4gLUVOT1NQQzsKPj4gKyAgICAgICByZXR1cm4gcmV0Owo+Pgo+PiAgICB9Cj4+Cj4+IEBAIC0z
ODI0LDcgKzM4NDIsOCBAQCB2b2lkIGYyZnNfZG9fcmVwbGFjZV9ibG9jayhzdHJ1Y3QgZjJmc19z
Yl9pbmZvICpzYmksIHN0cnVjdCBmMmZzX3N1bW1hcnkgKnN1bSwKPj4gICAgICAgICAgLyogY2hh
bmdlIHRoZSBjdXJyZW50IHNlZ21lbnQgKi8KPj4gICAgICAgICAgaWYgKHNlZ25vICE9IGN1cnNl
Zy0+c2Vnbm8pIHsKPj4gICAgICAgICAgICAgICAgICBjdXJzZWctPm5leHRfc2Vnbm8gPSBzZWdu
bzsKPj4gLSAgICAgICAgICAgICAgIGNoYW5nZV9jdXJzZWcoc2JpLCB0eXBlKTsKPj4gKyAgICAg
ICAgICAgICAgIGlmIChjaGFuZ2VfY3Vyc2VnKHNiaSwgdHlwZSkpCj4+ICsgICAgICAgICAgICAg
ICAgICAgICAgIGdvdG8gb3V0X3VubG9jazsKPj4gICAgICAgICAgfQo+Pgo+PiAgICAgICAgICBj
dXJzZWctPm5leHRfYmxrb2ZmID0gR0VUX0JMS09GRl9GUk9NX1NFRzAoc2JpLCBuZXdfYmxrYWRk
cik7Cj4+IEBAIC0zODUwLDEyICszODY5LDE0IEBAIHZvaWQgZjJmc19kb19yZXBsYWNlX2Jsb2Nr
KHN0cnVjdCBmMmZzX3NiX2luZm8gKnNiaSwgc3RydWN0IGYyZnNfc3VtbWFyeSAqc3VtLAo+PiAg
ICAgICAgICBpZiAocmVjb3Zlcl9jdXJzZWcpIHsKPj4gICAgICAgICAgICAgICAgICBpZiAob2xk
X2N1cnNlZ25vICE9IGN1cnNlZy0+c2Vnbm8pIHsKPj4gICAgICAgICAgICAgICAgICAgICAgICAg
IGN1cnNlZy0+bmV4dF9zZWdubyA9IG9sZF9jdXJzZWdubzsKPj4gLSAgICAgICAgICAgICAgICAg
ICAgICAgY2hhbmdlX2N1cnNlZyhzYmksIHR5cGUpOwo+PiArICAgICAgICAgICAgICAgICAgICAg
ICBpZiAoY2hhbmdlX2N1cnNlZyhzYmksIHR5cGUpKQo+PiArICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIGdvdG8gb3V0X3VubG9jazsKPj4gICAgICAgICAgICAgICAgICB9Cj4+ICAgICAg
ICAgICAgICAgICAgY3Vyc2VnLT5uZXh0X2Jsa29mZiA9IG9sZF9ibGtvZmY7Cj4+ICAgICAgICAg
ICAgICAgICAgY3Vyc2VnLT5hbGxvY190eXBlID0gb2xkX2FsbG9jX3R5cGU7Cj4+ICAgICAgICAg
IH0KPj4KPj4gK291dF91bmxvY2s6Cj4+ICAgICAgICAgIHVwX3dyaXRlKCZzaXRfaS0+c2VudHJ5
X2xvY2spOwo+PiAgICAgICAgICBtdXRleF91bmxvY2soJmN1cnNlZy0+Y3Vyc2VnX211dGV4KTsK
Pj4gICAgICAgICAgZjJmc191cF93cml0ZSgmU01fSShzYmkpLT5jdXJzZWdfbG9jayk7Cj4+IGRp
ZmYgLS1naXQgYS9mcy9mMmZzL3N1cGVyLmMgYi9mcy9mMmZzL3N1cGVyLmMKPj4gaW5kZXggMDY3
NmMyZGNiYmY3Li44YzY5MjU3ZGI4Y2MgMTAwNjQ0Cj4+IC0tLSBhL2ZzL2YyZnMvc3VwZXIuYwo+
PiArKysgYi9mcy9mMmZzL3N1cGVyLmMKPj4gQEAgLTQ2OTEsNyArNDY5MSw5IEBAIHN0YXRpYyBp
bnQgZjJmc19maWxsX3N1cGVyKHN0cnVjdCBzdXBlcl9ibG9jayAqc2IsIHZvaWQgKmRhdGEsIGlu
dCBzaWxlbnQpCj4+ICAgICAgICAgIGlmIChlcnIpCj4+ICAgICAgICAgICAgICAgICAgZ290byBm
cmVlX21ldGE7Cj4+Cj4+IC0gICAgICAgZjJmc19pbml0X2lubWVtX2N1cnNlZyhzYmkpOwo+PiAr
ICAgICAgIGVyciA9IGYyZnNfaW5pdF9pbm1lbV9jdXJzZWcoc2JpKTsKPj4gKyAgICAgICBpZiAo
ZXJyKQo+PiArICAgICAgICAgICAgICAgZ290byBzeW5jX2ZyZWVfbWV0YTsKPj4KPj4gICAgICAg
ICAgLyogZjJmc19yZWNvdmVyX2ZzeW5jX2RhdGEoKSBjbGVhcmVkIHRoaXMgYWxyZWFkeSAqLwo+
PiAgICAgICAgICBjbGVhcl9zYmlfZmxhZyhzYmksIFNCSV9QT1JfRE9JTkcpOwo+PiAtLQo+PiAy
LjQwLjEKPj4KPj4KPj4KPj4+Cj4+PiB0aGFua3MhCj4+Pj4KPj4+PiBUaGFua3MsCj4+Pj4KPj4+
Pj4KPj4+Pj4gU2lnbmVkLW9mZi1ieTogWmhpZ3VvIE5pdSA8emhpZ3VvLm5pdUB1bmlzb2MuY29t
Pgo+Pj4+PiAtLS0KPj4+Pj4gICAgIGZzL2YyZnMvZjJmcy5oICAgIHwgMiArLQo+Pj4+PiAgICAg
ZnMvZjJmcy9nYy5jICAgICAgfCA3ICsrKysrLS0KPj4+Pj4gICAgIGZzL2YyZnMvc2VnbWVudC5j
IHwgOSArKysrKysrLS0KPj4+Pj4gICAgIDMgZmlsZXMgY2hhbmdlZCwgMTMgaW5zZXJ0aW9ucygr
KSwgNSBkZWxldGlvbnMoLSkKPj4+Pj4KPj4+Pj4gZGlmZiAtLWdpdCBhL2ZzL2YyZnMvZjJmcy5o
IGIvZnMvZjJmcy9mMmZzLmgKPj4+Pj4gaW5kZXggNDMzMTAxMi4uMzlkZGE3ZCAxMDA2NDQKPj4+
Pj4gLS0tIGEvZnMvZjJmcy9mMmZzLmgKPj4+Pj4gKysrIGIvZnMvZjJmcy9mMmZzLmgKPj4+Pj4g
QEAgLTM3MDEsNyArMzcwMSw3IEBAIHZvaWQgZjJmc19jbGVhcl9wcmVmcmVlX3NlZ21lbnRzKHN0
cnVjdCBmMmZzX3NiX2luZm8gKnNiaSwKPj4+Pj4gICAgIHZvaWQgZjJmc19pbml0X2lubWVtX2N1
cnNlZyhzdHJ1Y3QgZjJmc19zYl9pbmZvICpzYmkpOwo+Pj4+PiAgICAgdm9pZCBmMmZzX3NhdmVf
aW5tZW1fY3Vyc2VnKHN0cnVjdCBmMmZzX3NiX2luZm8gKnNiaSk7Cj4+Pj4+ICAgICB2b2lkIGYy
ZnNfcmVzdG9yZV9pbm1lbV9jdXJzZWcoc3RydWN0IGYyZnNfc2JfaW5mbyAqc2JpKTsKPj4+Pj4g
LXZvaWQgZjJmc19hbGxvY2F0ZV9zZWdtZW50X2Zvcl9yZXNpemUoc3RydWN0IGYyZnNfc2JfaW5m
byAqc2JpLCBpbnQgdHlwZSwKPj4+Pj4gK2ludCBmMmZzX2FsbG9jYXRlX3NlZ21lbnRfZm9yX3Jl
c2l6ZShzdHJ1Y3QgZjJmc19zYl9pbmZvICpzYmksIGludCB0eXBlLAo+Pj4+PiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgaW50IHN0YXJ0LCB1bnNpZ25l
ZCBpbnQgZW5kKTsKPj4+Pj4gICAgIGludCBmMmZzX2FsbG9jYXRlX25ld19zZWN0aW9uKHN0cnVj
dCBmMmZzX3NiX2luZm8gKnNiaSwgaW50IHR5cGUsIGJvb2wgZm9yY2UpOwo+Pj4+PiAgICAgaW50
IGYyZnNfYWxsb2NhdGVfcGlubmluZ19zZWN0aW9uKHN0cnVjdCBmMmZzX3NiX2luZm8gKnNiaSk7
Cj4+Pj4+IGRpZmYgLS1naXQgYS9mcy9mMmZzL2djLmMgYi9mcy9mMmZzL2djLmMKPj4+Pj4gaW5k
ZXggYzYwYjc0Ny4uN2E0NThmYSAxMDA2NDQKPj4+Pj4gLS0tIGEvZnMvZjJmcy9nYy5jCj4+Pj4+
ICsrKyBiL2ZzL2YyZnMvZ2MuYwo+Pj4+PiBAQCAtMjAzNyw4ICsyMDM3LDExIEBAIHN0YXRpYyBp
bnQgZnJlZV9zZWdtZW50X3JhbmdlKHN0cnVjdCBmMmZzX3NiX2luZm8gKnNiaSwKPj4+Pj4gICAg
ICAgICBtdXRleF91bmxvY2soJkRJUlRZX0koc2JpKS0+c2VnbGlzdF9sb2NrKTsKPj4+Pj4KPj4+
Pj4gICAgICAgICAvKiBNb3ZlIG91dCBjdXJzZWdzIGZyb20gdGhlIHRhcmdldCByYW5nZSAqLwo+
Pj4+PiAtICAgICBmb3IgKHR5cGUgPSBDVVJTRUdfSE9UX0RBVEE7IHR5cGUgPCBOUl9DVVJTRUdf
UEVSU0lTVF9UWVBFOyB0eXBlKyspCj4+Pj4+IC0gICAgICAgICAgICAgZjJmc19hbGxvY2F0ZV9z
ZWdtZW50X2Zvcl9yZXNpemUoc2JpLCB0eXBlLCBzdGFydCwgZW5kKTsKPj4+Pj4gKyAgICAgZm9y
ICh0eXBlID0gQ1VSU0VHX0hPVF9EQVRBOyB0eXBlIDwgTlJfQ1VSU0VHX1BFUlNJU1RfVFlQRTsg
dHlwZSsrKSB7Cj4+Pj4+ICsgICAgICAgICAgICAgZXJyID0gZjJmc19hbGxvY2F0ZV9zZWdtZW50
X2Zvcl9yZXNpemUoc2JpLCB0eXBlLCBzdGFydCwgZW5kKTsKPj4+Pj4gKyAgICAgICAgICAgICBp
ZiAoZXJyKQo+Pj4+PiArICAgICAgICAgICAgICAgICAgICAgZ290byBvdXQ7Cj4+Pj4+ICsgICAg
IH0KPj4+Pj4KPj4+Pj4gICAgICAgICAvKiBkbyBHQyB0byBtb3ZlIG91dCB2YWxpZCBibG9ja3Mg
aW4gdGhlIHJhbmdlICovCj4+Pj4+ICAgICAgICAgZXJyID0gZjJmc19nY19yYW5nZShzYmksIHN0
YXJ0LCBlbmQsIGRyeV9ydW4sIDApOwo+Pj4+PiBkaWZmIC0tZ2l0IGEvZnMvZjJmcy9zZWdtZW50
LmMgYi9mcy9mMmZzL3NlZ21lbnQuYwo+Pj4+PiBpbmRleCAxYmIzMDE5Li4yYTA3YjlkIDEwMDY0
NAo+Pj4+PiAtLS0gYS9mcy9mMmZzL3NlZ21lbnQuYwo+Pj4+PiArKysgYi9mcy9mMmZzL3NlZ21l
bnQuYwo+Pj4+PiBAQCAtMzA3MSwxMSArMzA3MSwxMiBAQCBzdGF0aWMgYm9vbCBuZWVkX25ld19z
ZWcoc3RydWN0IGYyZnNfc2JfaW5mbyAqc2JpLCBpbnQgdHlwZSkKPj4+Pj4gICAgICAgICByZXR1
cm4gZmFsc2U7Cj4+Pj4+ICAgICB9Cj4+Pj4+Cj4+Pj4+IC12b2lkIGYyZnNfYWxsb2NhdGVfc2Vn
bWVudF9mb3JfcmVzaXplKHN0cnVjdCBmMmZzX3NiX2luZm8gKnNiaSwgaW50IHR5cGUsCj4+Pj4+
ICtpbnQgZjJmc19hbGxvY2F0ZV9zZWdtZW50X2Zvcl9yZXNpemUoc3RydWN0IGYyZnNfc2JfaW5m
byAqc2JpLCBpbnQgdHlwZSwKPj4+Pj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIHVuc2lnbmVkIGludCBzdGFydCwgdW5zaWduZWQgaW50IGVuZCkKPj4+Pj4gICAgIHsK
Pj4+Pj4gICAgICAgICBzdHJ1Y3QgY3Vyc2VnX2luZm8gKmN1cnNlZyA9IENVUlNFR19JKHNiaSwg
dHlwZSk7Cj4+Pj4+ICAgICAgICAgdW5zaWduZWQgaW50IHNlZ25vOwo+Pj4+PiArICAgICBpbnQg
ZXJyID0gMDsKPj4+Pj4KPj4+Pj4gICAgICAgICBmMmZzX2Rvd25fcmVhZCgmU01fSShzYmkpLT5j
dXJzZWdfbG9jayk7Cj4+Pj4+ICAgICAgICAgbXV0ZXhfbG9jaygmY3Vyc2VnLT5jdXJzZWdfbXV0
ZXgpOwo+Pj4+PiBAQCAtMzA4OSw3ICszMDkwLDEwIEBAIHZvaWQgZjJmc19hbGxvY2F0ZV9zZWdt
ZW50X2Zvcl9yZXNpemUoc3RydWN0IGYyZnNfc2JfaW5mbyAqc2JpLCBpbnQgdHlwZSwKPj4+Pj4g
ICAgICAgICAgICAgICAgIGNoYW5nZV9jdXJzZWcoc2JpLCB0eXBlKTsKPj4+Pj4gICAgICAgICBl
bHNlCj4+Pj4+ICAgICAgICAgICAgICAgICBuZXdfY3Vyc2VnKHNiaSwgdHlwZSwgdHJ1ZSk7Cj4+
Pj4+IC0KPj4+Pj4gKyAgICAgaWYgKGN1cnNlZy0+c2Vnbm8gPT0gTlVMTF9TRUdOTykgewo+Pj4+
PiArICAgICAgICAgICAgIGVyciA9IC1FTk9TUEM7Cj4+Pj4+ICsgICAgICAgICAgICAgZ290byB1
bmxvY2s7Cj4+Pj4+ICsgICAgIH0KPj4+Pj4gICAgICAgICBzdGF0X2luY19zZWdfdHlwZShzYmks
IGN1cnNlZyk7Cj4+Pj4+Cj4+Pj4+ICAgICAgICAgbG9jYXRlX2RpcnR5X3NlZ21lbnQoc2JpLCBz
ZWdubyk7Cj4+Pj4+IEBAIC0zMTAyLDYgKzMxMDYsNyBAQCB2b2lkIGYyZnNfYWxsb2NhdGVfc2Vn
bWVudF9mb3JfcmVzaXplKHN0cnVjdCBmMmZzX3NiX2luZm8gKnNiaSwgaW50IHR5cGUsCj4+Pj4+
Cj4+Pj4+ICAgICAgICAgbXV0ZXhfdW5sb2NrKCZjdXJzZWctPmN1cnNlZ19tdXRleCk7Cj4+Pj4+
ICAgICAgICAgZjJmc191cF9yZWFkKCZTTV9JKHNiaSktPmN1cnNlZ19sb2NrKTsKPj4+Pj4gKyAg
ICAgcmV0dXJuIGVycjsKPj4+Pj4gICAgIH0KPj4+Pj4KPj4+Pj4gICAgIHN0YXRpYyBpbnQgX19h
bGxvY2F0ZV9uZXdfc2VnbWVudChzdHJ1Y3QgZjJmc19zYl9pbmZvICpzYmksIGludCB0eXBlLAoK
Cl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkxpbnV4LWYy
ZnMtZGV2ZWwgbWFpbGluZyBsaXN0CkxpbnV4LWYyZnMtZGV2ZWxAbGlzdHMuc291cmNlZm9yZ2Uu
bmV0Cmh0dHBzOi8vbGlzdHMuc291cmNlZm9yZ2UubmV0L2xpc3RzL2xpc3RpbmZvL2xpbnV4LWYy
ZnMtZGV2ZWwK
